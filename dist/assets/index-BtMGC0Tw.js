var H2=Object.defineProperty;var by=e=>{throw TypeError(e)};var K2=(e,t,r)=>t in e?H2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cn=(e,t,r)=>K2(e,typeof t!="symbol"?t+"":t,r),Wf=(e,t,r)=>t.has(e)||by("Cannot "+r);var R=(e,t,r)=>(Wf(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?by("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),le=(e,t,r,s)=>(Wf(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Me=(e,t,r)=>(Wf(e,t,"access private method"),r);var yd=(e,t,r,s)=>({set _(a){le(e,t,a,r)},get _(){return R(e,t,s)}});function G2(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Q2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var Tj={exports:{}},Ph={},Aj={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=Symbol.for("react.element"),Y2=Symbol.for("react.portal"),Z2=Symbol.for("react.fragment"),J2=Symbol.for("react.strict_mode"),X2=Symbol.for("react.profiler"),eR=Symbol.for("react.provider"),tR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),nR=Symbol.for("react.memo"),aR=Symbol.for("react.lazy"),_y=Symbol.iterator;function iR(e){return e===null||typeof e!="object"?null:(e=_y&&e[_y]||e["@@iterator"],typeof e=="function"?e:null)}var Oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mj=Object.assign,Ij={};function Ko(e,t,r){this.props=e,this.context=t,this.refs=Ij,this.updater=r||Oj}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dj(){}Dj.prototype=Ko.prototype;function Jg(e,t,r){this.props=e,this.context=t,this.refs=Ij,this.updater=r||Oj}var Xg=Jg.prototype=new Dj;Xg.constructor=Jg;Mj(Xg,Ko.prototype);Xg.isPureReactComponent=!0;var Ny=Array.isArray,Lj=Object.prototype.hasOwnProperty,ex={current:null},Fj={key:!0,ref:!0,__self:!0,__source:!0};function $j(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Lj.call(t,s)&&!Fj.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Gc,type:e,key:i,ref:o,props:a,_owner:ex.current}}function oR(e,t){return{$$typeof:Gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gc}function lR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cy=/\/+/g;function Hf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lR(""+e.key):t.toString(36)}function Jd(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gc:case Y2:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Hf(o,0):s,Ny(a)?(r="",e!=null&&(r=e.replace(Cy,"$&/")+"/"),Jd(a,t,r,"",function(d){return d})):a!=null&&(tx(a)&&(a=oR(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Cy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",Ny(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Hf(i,l);o+=Jd(i,t,r,c,a)}else if(c=iR(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Hf(i,l++),o+=Jd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wd(e,t,r){if(e==null)return e;var s=[],a=0;return Jd(e,s,"","",function(i){return t.call(r,i,a++)}),s}function cR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},Xd={transition:null},dR={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:ex};function Uj(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:wd,forEach:function(e,t,r){wd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wd(e,function(){t++}),t},toArray:function(e){return wd(e,function(t){return t})||[]},only:function(e){if(!tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Ko;Ue.Fragment=Z2;Ue.Profiler=X2;Ue.PureComponent=Jg;Ue.StrictMode=J2;Ue.Suspense=sR;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Ue.act=Uj;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Mj({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ex.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Lj.call(t,c)&&!Fj.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Gc,type:e.type,key:a,ref:i,props:s,_owner:o}};Ue.createContext=function(e){return e={$$typeof:tR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eR,_context:e},e.Consumer=e};Ue.createElement=$j;Ue.createFactory=function(e){var t=$j.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:rR,render:e}};Ue.isValidElement=tx;Ue.lazy=function(e){return{$$typeof:aR,_payload:{_status:-1,_result:e},_init:cR}};Ue.memo=function(e,t){return{$$typeof:nR,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=Xd.transition;Xd.transition={};try{e()}finally{Xd.transition=t}};Ue.unstable_act=Uj;Ue.useCallback=function(e,t){return ar.current.useCallback(e,t)};Ue.useContext=function(e){return ar.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return ar.current.useEffect(e,t)};Ue.useId=function(){return ar.current.useId()};Ue.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return ar.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};Ue.useRef=function(e){return ar.current.useRef(e)};Ue.useState=function(e){return ar.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return ar.current.useTransition()};Ue.version="18.3.1";Aj.exports=Ue;var m=Aj.exports;const F=Kc(m),zj=G2({__proto__:null,default:F},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=m,hR=Symbol.for("react.element"),fR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,pR=uR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gR={key:!0,ref:!0,__self:!0,__source:!0};function Vj(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)mR.call(t,s)&&!gR.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:hR,type:e,key:i,ref:o,props:a,_owner:pR.current}}Ph.Fragment=fR;Ph.jsx=Vj;Ph.jsxs=Vj;Tj.exports=Ph;var n=Tj.exports,Jm={},Bj={exports:{}},$r={},qj={exports:{}},Wj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var Z=O.length;O.push(L);e:for(;0<Z;){var K=Z-1>>>1,oe=O[K];if(0<a(oe,L))O[K]=L,O[Z]=oe,Z=K;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var L=O[0],Z=O.pop();if(Z!==L){O[0]=Z;e:for(var K=0,oe=O.length,ye=oe>>>1;K<ye;){var ke=2*(K+1)-1,at=O[ke],ce=ke+1,ae=O[ce];if(0>a(at,Z))ce<oe&&0>a(ae,at)?(O[K]=ae,O[ce]=Z,K=ce):(O[K]=at,O[ke]=Z,K=ke);else if(ce<oe&&0>a(ae,Z))O[K]=ae,O[ce]=Z,K=ce;else break e}}return L}function a(O,L){var Z=O.sortIndex-L.sortIndex;return Z!==0?Z:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,f=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(O){for(var L=r(d);L!==null;){if(L.callback===null)s(d);else if(L.startTime<=O)s(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function b(O){if(v=!1,j(O),!y)if(r(c)!==null)y=!0,B(S);else{var L=r(d);L!==null&&te(b,L.startTime-O)}}function S(O,L){y=!1,v&&(v=!1,g(N),N=-1),p=!0;var Z=f;try{for(j(L),u=r(c);u!==null&&(!(u.expirationTime>L)||O&&!T());){var K=u.callback;if(typeof K=="function"){u.callback=null,f=u.priorityLevel;var oe=K(u.expirationTime<=L);L=e.unstable_now(),typeof oe=="function"?u.callback=oe:u===r(c)&&s(c),j(L)}else s(c);u=r(c)}if(u!==null)var ye=!0;else{var ke=r(d);ke!==null&&te(b,ke.startTime-L),ye=!1}return ye}finally{u=null,f=Z,p=!1}}var _=!1,C=null,N=-1,A=5,k=-1;function T(){return!(e.unstable_now()-k<A)}function P(){if(C!==null){var O=e.unstable_now();k=O;var L=!0;try{L=C(!0,O)}finally{L?$():(_=!1,C=null)}}else _=!1}var $;if(typeof x=="function")$=function(){x(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=P,$=function(){q.postMessage(null)}}else $=function(){w(P,0)};function B(O){C=O,_||(_=!0,$())}function te(O,L){N=w(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,B(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var Z=f;f=L;try{return O()}finally{f=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=f;f=O;try{return L()}finally{f=Z}},e.unstable_scheduleCallback=function(O,L,Z){var K=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?K+Z:K):Z=K,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Z+oe,O={id:h++,callback:L,priorityLevel:O,startTime:Z,expirationTime:oe,sortIndex:-1},Z>K?(O.sortIndex=Z,t(d,O),r(c)===null&&O===r(d)&&(v?(g(N),N=-1):v=!0,te(b,Z-K))):(O.sortIndex=oe,t(c,O),y||p||(y=!0,B(S))),O},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(O){var L=f;return function(){var Z=f;f=L;try{return O.apply(this,arguments)}finally{f=Z}}}})(Wj);qj.exports=Wj;var xR=qj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vR=m,Mr=xR;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hj=new Set,ac={};function _i(e,t){Ao(e,t),Ao(e+"Capture",t)}function Ao(e,t){for(ac[e]=t,e=0;e<t.length;e++)Hj.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,yR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sy={},ky={};function wR(e){return Xm.call(ky,e)?!0:Xm.call(Sy,e)?!1:yR.test(e)?ky[e]=!0:(Sy[e]=!0,!1)}function jR(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bR(e,t,r,s){if(t===null||typeof t>"u"||jR(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rx,sx);qt[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rx,sx);qt[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rx,sx);qt[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function nx(e,t,r,s){var a=qt.hasOwnProperty(t)?qt[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bR(t,r,a,s)&&(r=null),s||a===null?wR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Dn=vR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),Kj=Symbol.for("react.provider"),Gj=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),rp=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),Qj=Symbol.for("react.offscreen"),Ey=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Kf;function Tl(e){if(Kf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kf=t&&t[1]||""}return`
`+Kf+e}var Gf=!1;function Qf(e,t){if(!e||Gf)return"";Gf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tl(e):""}function _R(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=Qf(e.type,!1),e;case 11:return e=Qf(e.type.render,!1),e;case 1:return e=Qf(e.type,!0),e;default:return""}}function sp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case qi:return"Portal";case ep:return"Profiler";case ax:return"StrictMode";case tp:return"Suspense";case rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gj:return(e.displayName||"Context")+".Consumer";case Kj:return(e._context.displayName||"Context")+".Provider";case ix:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ox:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}function NR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sp(t);case 8:return t===ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ka(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CR(e){var t=Yj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bd(e){e._valueTracker||(e._valueTracker=CR(e))}function Zj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Yj(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function ju(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function np(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ry(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=ka(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jj(e,t){t=t.checked,t!=null&&nx(e,"checked",t,!1)}function ap(e,t){Jj(e,t);var r=ka(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ip(e,t.type,r):t.hasOwnProperty("defaultValue")&&ip(e,t.type,ka(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Py(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ip(e,t,r){(t!=="number"||ju(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Al=Array.isArray;function ro(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ka(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function op(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ty(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(Al(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ka(r)}}function Xj(e,t){var r=ka(t.value),s=ka(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ay(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _d,tb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_d.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ic(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){SR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function rb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function sb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=rb(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var kR=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(e,t){if(t){if(kR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function dp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function lx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hp=null,so=null,no=null;function Oy(e){if(e=Zc(e)){if(typeof hp!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Ih(t),hp(e.stateNode,e.type,t))}}function nb(e){so?no?no.push(e):no=[e]:so=e}function ab(){if(so){var e=so,t=no;if(no=so=null,Oy(e),t)for(e=0;e<t.length;e++)Oy(t[e])}}function ib(e,t){return e(t)}function ob(){}var Yf=!1;function lb(e,t,r){if(Yf)return e(t,r);Yf=!0;try{return ib(e,t,r)}finally{Yf=!1,(so!==null||no!==null)&&(ob(),ab())}}function oc(e,t){var r=e.stateNode;if(r===null)return null;var s=Ih(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var fp=!1;if(Cn)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){fp=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{fp=!1}function ER(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var Bl=!1,bu=null,_u=!1,mp=null,RR={onError:function(e){Bl=!0,bu=e}};function PR(e,t,r,s,a,i,o,l,c){Bl=!1,bu=null,ER.apply(RR,arguments)}function TR(e,t,r,s,a,i,o,l,c){if(PR.apply(this,arguments),Bl){if(Bl){var d=bu;Bl=!1,bu=null}else throw Error(W(198));_u||(_u=!0,mp=d)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(Ni(e)!==e)throw Error(W(188))}function AR(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return My(a),e;if(i===s)return My(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==s)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function db(e){return e=AR(e),e!==null?ub(e):null}function ub(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ub(e);if(t!==null)return t;e=e.sibling}return null}var hb=Mr.unstable_scheduleCallback,Iy=Mr.unstable_cancelCallback,OR=Mr.unstable_shouldYield,MR=Mr.unstable_requestPaint,kt=Mr.unstable_now,IR=Mr.unstable_getCurrentPriorityLevel,cx=Mr.unstable_ImmediatePriority,fb=Mr.unstable_UserBlockingPriority,Nu=Mr.unstable_NormalPriority,DR=Mr.unstable_LowPriority,mb=Mr.unstable_IdlePriority,Th=null,Hs=null;function LR(e){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Th,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:UR,FR=Math.log,$R=Math.LN2;function UR(e){return e>>>=0,e===0?32:31-(FR(e)/$R|0)|0}var Nd=64,Cd=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cu(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Ol(l):(i&=o,i!==0&&(s=Ol(i)))}else o=r&~a,o!==0?s=Ol(o):i!==0&&(s=Ol(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-bs(t),a=1<<r,s|=e[r],t&=~a;return s}function zR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VR(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-bs(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=zR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function pp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pb(){var e=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),e}function Zf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=r}function BR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bs(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function dx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-bs(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Ze=0;function gb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xb,ux,vb,yb,wb,gp=!1,Sd=[],xa=null,va=null,ya=null,lc=new Map,cc=new Map,ta=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":lc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(t.pointerId)}}function pl(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Zc(t),t!==null&&ux(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function WR(e,t,r,s,a){switch(t){case"focusin":return xa=pl(xa,e,t,r,s,a),!0;case"dragenter":return va=pl(va,e,t,r,s,a),!0;case"mouseover":return ya=pl(ya,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return lc.set(i,pl(lc.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,cc.set(i,pl(cc.get(i)||null,e,t,r,s,a)),!0}return!1}function jb(e){var t=Ha(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=cb(r),t!==null){e.blockedOn=t,wb(e.priority,function(){vb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);up=s,r.target.dispatchEvent(s),up=null}else return t=Zc(r),t!==null&&ux(t),e.blockedOn=r,!1;t.shift()}return!0}function Ly(e,t,r){eu(e)&&r.delete(t)}function HR(){gp=!1,xa!==null&&eu(xa)&&(xa=null),va!==null&&eu(va)&&(va=null),ya!==null&&eu(ya)&&(ya=null),lc.forEach(Ly),cc.forEach(Ly)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,gp||(gp=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,HR)))}function dc(e){function t(a){return gl(a,e)}if(0<Sd.length){gl(Sd[0],e);for(var r=1;r<Sd.length;r++){var s=Sd[r];s.blockedOn===e&&(s.blockedOn=null)}}for(xa!==null&&gl(xa,e),va!==null&&gl(va,e),ya!==null&&gl(ya,e),lc.forEach(t),cc.forEach(t),r=0;r<ta.length;r++)s=ta[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<ta.length&&(r=ta[0],r.blockedOn===null);)jb(r),r.blockedOn===null&&ta.shift()}var ao=Dn.ReactCurrentBatchConfig,Su=!0;function KR(e,t,r,s){var a=Ze,i=ao.transition;ao.transition=null;try{Ze=1,hx(e,t,r,s)}finally{Ze=a,ao.transition=i}}function GR(e,t,r,s){var a=Ze,i=ao.transition;ao.transition=null;try{Ze=4,hx(e,t,r,s)}finally{Ze=a,ao.transition=i}}function hx(e,t,r,s){if(Su){var a=xp(e,t,r,s);if(a===null)om(e,t,s,ku,r),Dy(e,s);else if(WR(a,e,t,r,s))s.stopPropagation();else if(Dy(e,s),t&4&&-1<qR.indexOf(e)){for(;a!==null;){var i=Zc(a);if(i!==null&&xb(i),i=xp(e,t,r,s),i===null&&om(e,t,s,ku,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else om(e,t,s,null,r)}}var ku=null;function xp(e,t,r,s){if(ku=null,e=lx(s),e=Ha(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ku=e,null}function bb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IR()){case cx:return 1;case fb:return 4;case Nu:case DR:return 16;case mb:return 536870912;default:return 16}default:return 16}}var ma=null,fx=null,tu=null;function _b(){if(tu)return tu;var e,t=fx,r=t.length,s,a="value"in ma?ma.value:ma.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return tu=a.slice(e,1<s?1-s:void 0)}function ru(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function Fy(){return!1}function Ur(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kd:Fy,this.isPropagationStopped=Fy,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=Ur(Go),Yc=wt({},Go,{view:0,detail:0}),QR=Ur(Yc),Jf,Xf,xl,Ah=wt({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xl&&(xl&&e.type==="mousemove"?(Jf=e.screenX-xl.screenX,Xf=e.screenY-xl.screenY):Xf=Jf=0,xl=e),Jf)},movementY:function(e){return"movementY"in e?e.movementY:Xf}}),$y=Ur(Ah),YR=wt({},Ah,{dataTransfer:0}),ZR=Ur(YR),JR=wt({},Yc,{relatedTarget:0}),em=Ur(JR),XR=wt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),eP=Ur(XR),tP=wt({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rP=Ur(tP),sP=wt({},Go,{data:0}),Uy=Ur(sP),nP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iP[e])?!!t[e]:!1}function px(){return oP}var lP=wt({},Yc,{key:function(e){if(e.key){var t=nP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ru(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:px,charCode:function(e){return e.type==="keypress"?ru(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ru(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cP=Ur(lP),dP=wt({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=Ur(dP),uP=wt({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:px}),hP=Ur(uP),fP=wt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),mP=Ur(fP),pP=wt({},Ah,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gP=Ur(pP),xP=[9,13,27,32],gx=Cn&&"CompositionEvent"in window,ql=null;Cn&&"documentMode"in document&&(ql=document.documentMode);var vP=Cn&&"TextEvent"in window&&!ql,Nb=Cn&&(!gx||ql&&8<ql&&11>=ql),Vy=" ",By=!1;function Cb(e,t){switch(e){case"keyup":return xP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function yP(e,t){switch(e){case"compositionend":return Sb(t);case"keypress":return t.which!==32?null:(By=!0,Vy);case"textInput":return e=t.data,e===Vy&&By?null:e;default:return null}}function wP(e,t){if(Hi)return e==="compositionend"||!gx&&Cb(e,t)?(e=_b(),tu=fx=ma=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nb&&t.locale!=="ko"?null:t.data;default:return null}}var jP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jP[e.type]:t==="textarea"}function kb(e,t,r,s){nb(s),t=Eu(t,"onChange"),0<t.length&&(r=new mx("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Wl=null,uc=null;function bP(e){Fb(e,0)}function Oh(e){var t=Qi(e);if(Zj(t))return e}function _P(e,t){if(e==="change")return t}var Eb=!1;if(Cn){var tm;if(Cn){var rm="oninput"in document;if(!rm){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),rm=typeof Wy.oninput=="function"}tm=rm}else tm=!1;Eb=tm&&(!document.documentMode||9<document.documentMode)}function Hy(){Wl&&(Wl.detachEvent("onpropertychange",Rb),uc=Wl=null)}function Rb(e){if(e.propertyName==="value"&&Oh(uc)){var t=[];kb(t,uc,e,lx(e)),lb(bP,t)}}function NP(e,t,r){e==="focusin"?(Hy(),Wl=t,uc=r,Wl.attachEvent("onpropertychange",Rb)):e==="focusout"&&Hy()}function CP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oh(uc)}function SP(e,t){if(e==="click")return Oh(t)}function kP(e,t){if(e==="input"||e==="change")return Oh(t)}function EP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:EP;function hc(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!Xm.call(t,a)||!Ss(e[a],t[a]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gy(e,t){var r=Ky(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ky(r)}}function Pb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tb(){for(var e=window,t=ju();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ju(e.document)}return t}function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RP(e){var t=Tb(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pb(r.ownerDocument.documentElement,r)){if(s!==null&&xx(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Gy(r,i);var o=Gy(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PP=Cn&&"documentMode"in document&&11>=document.documentMode,Ki=null,vp=null,Hl=null,yp=!1;function Qy(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yp||Ki==null||Ki!==ju(s)||(s=Ki,"selectionStart"in s&&xx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Hl&&hc(Hl,s)||(Hl=s,s=Eu(vp,"onSelect"),0<s.length&&(t=new mx("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ki)))}function Ed(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gi={animationend:Ed("Animation","AnimationEnd"),animationiteration:Ed("Animation","AnimationIteration"),animationstart:Ed("Animation","AnimationStart"),transitionend:Ed("Transition","TransitionEnd")},sm={},Ab={};Cn&&(Ab=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Mh(e){if(sm[e])return sm[e];if(!Gi[e])return e;var t=Gi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ab)return sm[e]=t[r];return e}var Ob=Mh("animationend"),Mb=Mh("animationiteration"),Ib=Mh("animationstart"),Db=Mh("transitionend"),Lb=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){Lb.set(e,t),_i(t,[e])}for(var nm=0;nm<Yy.length;nm++){var am=Yy[nm],TP=am.toLowerCase(),AP=am[0].toUpperCase()+am.slice(1);Ma(TP,"on"+AP)}Ma(Ob,"onAnimationEnd");Ma(Mb,"onAnimationIteration");Ma(Ib,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(Db,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function Zy(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,TR(s,t,void 0,e),e.currentTarget=null}function Fb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Zy(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Zy(a,l,d),i=c}}}if(_u)throw e=mp,_u=!1,mp=null,e}function ct(e,t){var r=t[Np];r===void 0&&(r=t[Np]=new Set);var s=e+"__bubble";r.has(s)||($b(t,e,2,!1),r.add(s))}function im(e,t,r){var s=0;t&&(s|=4),$b(r,e,s,t)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Rd]){e[Rd]=!0,Hj.forEach(function(r){r!=="selectionchange"&&(OP.has(r)||im(r,!1,e),im(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rd]||(t[Rd]=!0,im("selectionchange",!1,t))}}function $b(e,t,r,s){switch(bb(t)){case 1:var a=KR;break;case 4:a=GR;break;default:a=hx}r=a.bind(null,t,r,e),a=void 0,!fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function om(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ha(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}lb(function(){var d=i,h=lx(r),u=[];e:{var f=Lb.get(e);if(f!==void 0){var p=mx,y=e;switch(e){case"keypress":if(ru(r)===0)break e;case"keydown":case"keyup":p=cP;break;case"focusin":y="focus",p=em;break;case"focusout":y="blur",p=em;break;case"beforeblur":case"afterblur":p=em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hP;break;case Ob:case Mb:case Ib:p=eP;break;case Db:p=mP;break;case"scroll":p=QR;break;case"wheel":p=gP;break;case"copy":case"cut":case"paste":p=rP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zy}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var x=d,j;x!==null;){j=x;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,g!==null&&(b=oc(x,g),b!=null&&v.push(mc(x,b,j)))),w)break;x=x.return}0<v.length&&(f=new p(f,y,null,r,h),u.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==up&&(y=r.relatedTarget||r.fromElement)&&(Ha(y)||y[Sn]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=d,y=y?Ha(y):null,y!==null&&(w=Ni(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(v=$y,b="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=zy,b="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?f:Qi(p),j=y==null?f:Qi(y),f=new v(b,x+"leave",p,r,h),f.target=w,f.relatedTarget=j,b=null,Ha(h)===d&&(v=new v(g,x+"enter",y,r,h),v.target=j,v.relatedTarget=w,b=v),w=b,p&&y)t:{for(v=p,g=y,x=0,j=v;j;j=Ai(j))x++;for(j=0,b=g;b;b=Ai(b))j++;for(;0<x-j;)v=Ai(v),x--;for(;0<j-x;)g=Ai(g),j--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ai(v),g=Ai(g)}v=null}else v=null;p!==null&&Jy(u,f,p,v,!1),y!==null&&w!==null&&Jy(u,w,y,v,!0)}}e:{if(f=d?Qi(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=_P;else if(qy(f))if(Eb)S=kP;else{S=CP;var _=NP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=SP);if(S&&(S=S(e,d))){kb(u,S,r,h);break e}_&&_(e,f,d),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&ip(f,"number",f.value)}switch(_=d?Qi(d):window,e){case"focusin":(qy(_)||_.contentEditable==="true")&&(Ki=_,vp=d,Hl=null);break;case"focusout":Hl=vp=Ki=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Qy(u,r,h);break;case"selectionchange":if(PP)break;case"keydown":case"keyup":Qy(u,r,h)}var C;if(gx)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Hi?Cb(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Nb&&r.locale!=="ko"&&(Hi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Hi&&(C=_b()):(ma=h,fx="value"in ma?ma.value:ma.textContent,Hi=!0)),_=Eu(d,N),0<_.length&&(N=new Uy(N,e,null,r,h),u.push({event:N,listeners:_}),C?N.data=C:(C=Sb(r),C!==null&&(N.data=C)))),(C=vP?yP(e,r):wP(e,r))&&(d=Eu(d,"onBeforeInput"),0<d.length&&(h=new Uy("onBeforeInput","beforeinput",null,r,h),u.push({event:h,listeners:d}),h.data=C))}Fb(u,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Eu(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=oc(e,r),i!=null&&s.unshift(mc(e,i,a)),i=oc(e,t),i!=null&&s.push(mc(e,i,a))),e=e.return}return s}function Ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jy(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=oc(r,i),c!=null&&o.unshift(mc(r,c,l))):a||(c=oc(r,i),c!=null&&o.push(mc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var MP=/\r\n?/g,IP=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(MP,`
`).replace(IP,"")}function Pd(e,t,r){if(t=Xy(t),Xy(e)!==t&&r)throw Error(W(425))}function Ru(){}var wp=null,jp=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,DP=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,LP=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(FP)}:_p;function FP(e){setTimeout(function(){throw e})}function lm(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),dc(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);dc(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function t0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Qo,pc="__reactProps$"+Qo,Sn="__reactContainer$"+Qo,Np="__reactEvents$"+Qo,$P="__reactListeners$"+Qo,UP="__reactHandles$"+Qo;function Ha(e){var t=e[Vs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Vs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=t0(e);e!==null;){if(r=e[Vs])return r;e=t0(e)}return t}e=r,r=e.parentNode}return null}function Zc(e){return e=e[Vs]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Ih(e){return e[pc]||null}var Cp=[],Yi=-1;function Ia(e){return{current:e}}function ft(e){0>Yi||(e.current=Cp[Yi],Cp[Yi]=null,Yi--)}function nt(e,t){Yi++,Cp[Yi]=e.current,e.current=t}var Ea={},Jt=Ia(Ea),gr=Ia(!1),ii=Ea;function Oo(e,t){var r=e.type.contextTypes;if(!r)return Ea;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xr(e){return e=e.childContextTypes,e!=null}function Pu(){ft(gr),ft(Jt)}function r0(e,t,r){if(Jt.current!==Ea)throw Error(W(168));nt(Jt,t),nt(gr,r)}function Ub(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(W(108,NR(e)||"Unknown",a));return wt({},r,s)}function Tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,ii=Jt.current,nt(Jt,e),nt(gr,gr.current),!0}function s0(e,t,r){var s=e.stateNode;if(!s)throw Error(W(169));r?(e=Ub(e,t,ii),s.__reactInternalMemoizedMergedChildContext=e,ft(gr),ft(Jt),nt(Jt,e)):ft(gr),nt(gr,r)}var gn=null,Dh=!1,cm=!1;function zb(e){gn===null?gn=[e]:gn.push(e)}function zP(e){Dh=!0,zb(e)}function Da(){if(!cm&&gn!==null){cm=!0;var e=0,t=Ze;try{var r=gn;for(Ze=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}gn=null,Dh=!1}catch(a){throw gn!==null&&(gn=gn.slice(e+1)),hb(cx,Da),a}finally{Ze=t,cm=!1}}return null}var Zi=[],Ji=0,Au=null,Ou=0,Kr=[],Gr=0,oi=null,vn=1,yn="";function za(e,t){Zi[Ji++]=Ou,Zi[Ji++]=Au,Au=e,Ou=t}function Vb(e,t,r){Kr[Gr++]=vn,Kr[Gr++]=yn,Kr[Gr++]=oi,oi=e;var s=vn;e=yn;var a=32-bs(s)-1;s&=~(1<<a),r+=1;var i=32-bs(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,vn=1<<32-bs(t)+a|r<<a|s,yn=i+e}else vn=1<<i|r<<a|s,yn=e}function vx(e){e.return!==null&&(za(e,1),Vb(e,1,0))}function yx(e){for(;e===Au;)Au=Zi[--Ji],Zi[Ji]=null,Ou=Zi[--Ji],Zi[Ji]=null;for(;e===oi;)oi=Kr[--Gr],Kr[Gr]=null,yn=Kr[--Gr],Kr[Gr]=null,vn=Kr[--Gr],Kr[Gr]=null}var Ar=null,Tr=null,mt=!1,ms=null;function Bb(e,t){var r=Qr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function n0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Tr=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oi!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Tr=null,!0):!1;default:return!1}}function Sp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kp(e){if(mt){var t=Tr;if(t){var r=t;if(!n0(e,t)){if(Sp(e))throw Error(W(418));t=wa(r.nextSibling);var s=Ar;t&&n0(e,t)?Bb(s,r):(e.flags=e.flags&-4097|2,mt=!1,Ar=e)}}else{if(Sp(e))throw Error(W(418));e.flags=e.flags&-4097|2,mt=!1,Ar=e}}}function a0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function Td(e){if(e!==Ar)return!1;if(!mt)return a0(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=Tr)){if(Sp(e))throw qb(),Error(W(418));for(;t;)Bb(e,t),t=wa(t.nextSibling)}if(a0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=wa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Ar?wa(e.stateNode.nextSibling):null;return!0}function qb(){for(var e=Tr;e;)e=wa(e.nextSibling)}function Mo(){Tr=Ar=null,mt=!1}function wx(e){ms===null?ms=[e]:ms.push(e)}var VP=Dn.ReactCurrentBatchConfig;function vl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var s=r.stateNode}if(!s)throw Error(W(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Ad(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i0(e){var t=e._init;return t(e._payload)}function Wb(e){function t(g,x){if(e){var j=g.deletions;j===null?(g.deletions=[x],g.flags|=16):j.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=Na(g,x),g.index=0,g.sibling=null,g}function i(g,x,j){return g.index=j,e?(j=g.alternate,j!==null?(j=j.index,j<x?(g.flags|=2,x):j):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,j,b){return x===null||x.tag!==6?(x=gm(j,g.mode,b),x.return=g,x):(x=a(x,j),x.return=g,x)}function c(g,x,j,b){var S=j.type;return S===Wi?h(g,x,j.props.children,b,j.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&i0(S)===x.type)?(b=a(x,j.props),b.ref=vl(g,x,j),b.return=g,b):(b=cu(j.type,j.key,j.props,null,g.mode,b),b.ref=vl(g,x,j),b.return=g,b)}function d(g,x,j,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=xm(j,g.mode,b),x.return=g,x):(x=a(x,j.children||[]),x.return=g,x)}function h(g,x,j,b,S){return x===null||x.tag!==7?(x=ai(j,g.mode,b,S),x.return=g,x):(x=a(x,j),x.return=g,x)}function u(g,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gm(""+x,g.mode,j),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:return j=cu(x.type,x.key,x.props,null,g.mode,j),j.ref=vl(g,null,x),j.return=g,j;case qi:return x=xm(x,g.mode,j),x.return=g,x;case Jn:var b=x._init;return u(g,b(x._payload),j)}if(Al(x)||fl(x))return x=ai(x,g.mode,j,null),x.return=g,x;Ad(g,x)}return null}function f(g,x,j,b){var S=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(g,x,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jd:return j.key===S?c(g,x,j,b):null;case qi:return j.key===S?d(g,x,j,b):null;case Jn:return S=j._init,f(g,x,S(j._payload),b)}if(Al(j)||fl(j))return S!==null?null:h(g,x,j,b,null);Ad(g,j)}return null}function p(g,x,j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(j)||null,l(x,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:return g=g.get(b.key===null?j:b.key)||null,c(x,g,b,S);case qi:return g=g.get(b.key===null?j:b.key)||null,d(x,g,b,S);case Jn:var _=b._init;return p(g,x,j,_(b._payload),S)}if(Al(b)||fl(b))return g=g.get(j)||null,h(x,g,b,S,null);Ad(x,b)}return null}function y(g,x,j,b){for(var S=null,_=null,C=x,N=x=0,A=null;C!==null&&N<j.length;N++){C.index>N?(A=C,C=null):A=C.sibling;var k=f(g,C,j[N],b);if(k===null){C===null&&(C=A);break}e&&C&&k.alternate===null&&t(g,C),x=i(k,x,N),_===null?S=k:_.sibling=k,_=k,C=A}if(N===j.length)return r(g,C),mt&&za(g,N),S;if(C===null){for(;N<j.length;N++)C=u(g,j[N],b),C!==null&&(x=i(C,x,N),_===null?S=C:_.sibling=C,_=C);return mt&&za(g,N),S}for(C=s(g,C);N<j.length;N++)A=p(C,g,N,j[N],b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?N:A.key),x=i(A,x,N),_===null?S=A:_.sibling=A,_=A);return e&&C.forEach(function(T){return t(g,T)}),mt&&za(g,N),S}function v(g,x,j,b){var S=fl(j);if(typeof S!="function")throw Error(W(150));if(j=S.call(j),j==null)throw Error(W(151));for(var _=S=null,C=x,N=x=0,A=null,k=j.next();C!==null&&!k.done;N++,k=j.next()){C.index>N?(A=C,C=null):A=C.sibling;var T=f(g,C,k.value,b);if(T===null){C===null&&(C=A);break}e&&C&&T.alternate===null&&t(g,C),x=i(T,x,N),_===null?S=T:_.sibling=T,_=T,C=A}if(k.done)return r(g,C),mt&&za(g,N),S;if(C===null){for(;!k.done;N++,k=j.next())k=u(g,k.value,b),k!==null&&(x=i(k,x,N),_===null?S=k:_.sibling=k,_=k);return mt&&za(g,N),S}for(C=s(g,C);!k.done;N++,k=j.next())k=p(C,g,N,k.value,b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),x=i(k,x,N),_===null?S=k:_.sibling=k,_=k);return e&&C.forEach(function(P){return t(g,P)}),mt&&za(g,N),S}function w(g,x,j,b){if(typeof j=="object"&&j!==null&&j.type===Wi&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case jd:e:{for(var S=j.key,_=x;_!==null;){if(_.key===S){if(S=j.type,S===Wi){if(_.tag===7){r(g,_.sibling),x=a(_,j.props.children),x.return=g,g=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jn&&i0(S)===_.type){r(g,_.sibling),x=a(_,j.props),x.ref=vl(g,_,j),x.return=g,g=x;break e}r(g,_);break}else t(g,_);_=_.sibling}j.type===Wi?(x=ai(j.props.children,g.mode,b,j.key),x.return=g,g=x):(b=cu(j.type,j.key,j.props,null,g.mode,b),b.ref=vl(g,x,j),b.return=g,g=b)}return o(g);case qi:e:{for(_=j.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){r(g,x.sibling),x=a(x,j.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=xm(j,g.mode,b),x.return=g,g=x}return o(g);case Jn:return _=j._init,w(g,x,_(j._payload),b)}if(Al(j))return y(g,x,j,b);if(fl(j))return v(g,x,j,b);Ad(g,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,j),x.return=g,g=x):(r(g,x),x=gm(j,g.mode,b),x.return=g,g=x),o(g)):r(g,x)}return w}var Io=Wb(!0),Hb=Wb(!1),Mu=Ia(null),Iu=null,Xi=null,jx=null;function bx(){jx=Xi=Iu=null}function _x(e){var t=Mu.current;ft(Mu),e._currentValue=t}function Ep(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function io(e,t){Iu=e,jx=Xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pr=!0),e.firstContext=null)}function as(e){var t=e._currentValue;if(jx!==e)if(e={context:e,memoizedValue:t,next:null},Xi===null){if(Iu===null)throw Error(W(308));Xi=e,Iu.dependencies={lanes:0,firstContext:e}}else Xi=Xi.next=e;return t}var Ka=null;function Nx(e){Ka===null?Ka=[e]:Ka.push(e)}function Kb(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Nx(t)):(r.next=a.next,a.next=r),t.interleaved=r,kn(e,s)}function kn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xn=!1;function Cx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ke&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,kn(e,r)}return a=s.interleaved,a===null?(t.next=t,Nx(s)):(t.next=a.next,a.next=t),s.interleaved=t,kn(e,r)}function su(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,dx(e,r)}}function o0(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Du(e,t,r,s){var a=e.updateQueue;Xn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var u=a.baseState;o=0,h=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(f=t,p=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){u=y.call(p,u,f);break e}u=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,u,f):y,f==null)break e;u=wt({},u,f);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=u):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(c=u),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ci|=o,e.lanes=o,e.memoizedState=u}}function l0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(W(191,a));a.call(s)}}}var Jc={},Ks=Ia(Jc),gc=Ia(Jc),xc=Ia(Jc);function Ga(e){if(e===Jc)throw Error(W(174));return e}function Sx(e,t){switch(nt(xc,t),nt(gc,e),nt(Ks,Jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lp(t,e)}ft(Ks),nt(Ks,t)}function Do(){ft(Ks),ft(gc),ft(xc)}function Qb(e){Ga(xc.current);var t=Ga(Ks.current),r=lp(t,e.type);t!==r&&(nt(gc,e),nt(Ks,r))}function kx(e){gc.current===e&&(ft(Ks),ft(gc))}var gt=Ia(0);function Lu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dm=[];function Ex(){for(var e=0;e<dm.length;e++)dm[e]._workInProgressVersionPrimary=null;dm.length=0}var nu=Dn.ReactCurrentDispatcher,um=Dn.ReactCurrentBatchConfig,li=0,vt=null,Ot=null,$t=null,Fu=!1,Kl=!1,vc=0,BP=0;function Kt(){throw Error(W(321))}function Rx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ss(e[r],t[r]))return!1;return!0}function Px(e,t,r,s,a,i){if(li=i,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nu.current=e===null||e.memoizedState===null?KP:GP,e=r(s,a),Kl){i=0;do{if(Kl=!1,vc=0,25<=i)throw Error(W(301));i+=1,$t=Ot=null,t.updateQueue=null,nu.current=QP,e=r(s,a)}while(Kl)}if(nu.current=$u,t=Ot!==null&&Ot.next!==null,li=0,$t=Ot=vt=null,Fu=!1,t)throw Error(W(300));return e}function Tx(){var e=vc!==0;return vc=0,e}function Ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?vt.memoizedState=$t=e:$t=$t.next=e,$t}function is(){if(Ot===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=$t===null?vt.memoizedState:$t.next;if(t!==null)$t=t,Ot=e;else{if(e===null)throw Error(W(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},$t===null?vt.memoizedState=$t=e:$t=$t.next=e}return $t}function yc(e,t){return typeof t=="function"?t(e):t}function hm(e){var t=is(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=Ot,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((li&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=s):c=c.next=u,vt.lanes|=h,ci|=h}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Ss(s,t.memoizedState)||(pr=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,vt.lanes|=i,ci|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fm(e){var t=is(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ss(i,t.memoizedState)||(pr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Yb(){}function Zb(e,t){var r=vt,s=is(),a=t(),i=!Ss(s.memoizedState,a);if(i&&(s.memoizedState=a,pr=!0),s=s.queue,Ax(e_.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,wc(9,Xb.bind(null,r,s,a,t),void 0,null),Ut===null)throw Error(W(349));li&30||Jb(r,t,a)}return a}function Jb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xb(e,t,r,s){t.value=r,t.getSnapshot=s,t_(t)&&r_(e)}function e_(e,t,r){return r(function(){t_(t)&&r_(e)})}function t_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ss(e,r)}catch{return!0}}function r_(e){var t=kn(e,1);t!==null&&_s(t,e,1,-1)}function c0(e){var t=Ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:e},t.queue=e,e=e.dispatch=HP.bind(null,vt,e),[t.memoizedState,e]}function wc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function s_(){return is().memoizedState}function au(e,t,r,s){var a=Ls();vt.flags|=e,a.memoizedState=wc(1|t,r,void 0,s===void 0?null:s)}function Lh(e,t,r,s){var a=is();s=s===void 0?null:s;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,s!==null&&Rx(s,o.deps)){a.memoizedState=wc(t,r,i,s);return}}vt.flags|=e,a.memoizedState=wc(1|t,r,i,s)}function d0(e,t){return au(8390656,8,e,t)}function Ax(e,t){return Lh(2048,8,e,t)}function n_(e,t){return Lh(4,2,e,t)}function a_(e,t){return Lh(4,4,e,t)}function i_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o_(e,t,r){return r=r!=null?r.concat([e]):null,Lh(4,4,i_.bind(null,t,e),r)}function Ox(){}function l_(e,t){var r=is();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Rx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function c_(e,t){var r=is();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Rx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function d_(e,t,r){return li&21?(Ss(r,t)||(r=pb(),vt.lanes|=r,ci|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=r)}function qP(e,t){var r=Ze;Ze=r!==0&&4>r?r:4,e(!0);var s=um.transition;um.transition={};try{e(!1),t()}finally{Ze=r,um.transition=s}}function u_(){return is().memoizedState}function WP(e,t,r){var s=_a(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},h_(e))f_(t,r);else if(r=Kb(e,t,r,s),r!==null){var a=sr();_s(r,e,s,a),m_(r,t,s)}}function HP(e,t,r){var s=_a(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(h_(e))f_(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ss(l,o)){var c=t.interleaved;c===null?(a.next=a,Nx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Kb(e,t,a,s),r!==null&&(a=sr(),_s(r,e,s,a),m_(r,t,s))}}function h_(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function f_(e,t){Kl=Fu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function m_(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,dx(e,r)}}var $u={readContext:as,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},KP={readContext:as,useCallback:function(e,t){return Ls().memoizedState=[e,t===void 0?null:t],e},useContext:as,useEffect:d0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,au(4194308,4,i_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return au(4194308,4,e,t)},useInsertionEffect:function(e,t){return au(4,2,e,t)},useMemo:function(e,t){var r=Ls();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ls();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=WP.bind(null,vt,e),[s.memoizedState,e]},useRef:function(e){var t=Ls();return e={current:e},t.memoizedState=e},useState:c0,useDebugValue:Ox,useDeferredValue:function(e){return Ls().memoizedState=e},useTransition:function(){var e=c0(!1),t=e[0];return e=qP.bind(null,e[1]),Ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=vt,a=Ls();if(mt){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Ut===null)throw Error(W(349));li&30||Jb(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,d0(e_.bind(null,s,i,e),[e]),s.flags|=2048,wc(9,Xb.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Ls(),t=Ut.identifierPrefix;if(mt){var r=yn,s=vn;r=(s&~(1<<32-bs(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=vc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GP={readContext:as,useCallback:l_,useContext:as,useEffect:Ax,useImperativeHandle:o_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:c_,useReducer:hm,useRef:s_,useState:function(){return hm(yc)},useDebugValue:Ox,useDeferredValue:function(e){var t=is();return d_(t,Ot.memoizedState,e)},useTransition:function(){var e=hm(yc)[0],t=is().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Zb,useId:u_,unstable_isNewReconciler:!1},QP={readContext:as,useCallback:l_,useContext:as,useEffect:Ax,useImperativeHandle:o_,useInsertionEffect:n_,useLayoutEffect:a_,useMemo:c_,useReducer:fm,useRef:s_,useState:function(){return fm(yc)},useDebugValue:Ox,useDeferredValue:function(e){var t=is();return Ot===null?t.memoizedState=e:d_(t,Ot.memoizedState,e)},useTransition:function(){var e=fm(yc)[0],t=is().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Zb,useId:u_,unstable_isNewReconciler:!1};function ds(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rp(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fh={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=sr(),a=_a(e),i=jn(s,a);i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,a),t!==null&&(_s(t,e,a,s),su(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=sr(),a=_a(e),i=jn(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,a),t!==null&&(_s(t,e,a,s),su(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),s=_a(e),a=jn(r,s);a.tag=2,t!=null&&(a.callback=t),t=ja(e,a,s),t!==null&&(_s(t,e,s,r),su(t,e,s))}};function u0(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!hc(r,s)||!hc(a,i):!0}function p_(e,t,r){var s=!1,a=Ea,i=t.contextType;return typeof i=="object"&&i!==null?i=as(i):(a=xr(t)?ii:Jt.current,s=t.contextTypes,i=(s=s!=null)?Oo(e,a):Ea),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fh,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function h0(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Fh.enqueueReplaceState(t,t.state,null)}function Pp(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Cx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=as(i):(i=xr(t)?ii:Jt.current,a.context=Oo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rp(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fh.enqueueReplaceState(a,a.state,null),Du(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var r="",s=t;do r+=_R(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var YP=typeof WeakMap=="function"?WeakMap:Map;function g_(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){zu||(zu=!0,zp=s),Tp(e,t)},r}function x_(e,t,r){r=jn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Tp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Tp(e,t),typeof s!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function f0(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new YP;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=dT.bind(null,e,t,r),t.then(e,e))}function m0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p0(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,ja(r,t,1))),r.lanes|=1),e)}var ZP=Dn.ReactCurrentOwner,pr=!1;function tr(e,t,r,s){t.child=e===null?Hb(t,null,r,s):Io(t,e.child,r,s)}function g0(e,t,r,s,a){r=r.render;var i=t.ref;return io(t,a),s=Px(e,t,r,s,i,a),r=Tx(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,En(e,t,a)):(mt&&r&&vx(t),t.flags|=1,tr(e,t,s,a),t.child)}function x0(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!zx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,v_(e,t,i,s,a)):(e=cu(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(o,s)&&e.ref===t.ref)return En(e,t,a)}return t.flags|=1,e=Na(i,s),e.ref=t.ref,e.return=t,t.child=e}function v_(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(hc(i,s)&&e.ref===t.ref)if(pr=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(pr=!0);else return t.lanes=e.lanes,En(e,t,a)}return Ap(e,t,r,s,a)}function y_(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(to,Rr),Rr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(to,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,nt(to,Rr),Rr|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,nt(to,Rr),Rr|=s;return tr(e,t,a,r),t.child}function w_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ap(e,t,r,s,a){var i=xr(r)?ii:Jt.current;return i=Oo(t,i),io(t,a),r=Px(e,t,r,s,i,a),s=Tx(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,En(e,t,a)):(mt&&s&&vx(t),t.flags|=1,tr(e,t,r,a),t.child)}function v0(e,t,r,s,a){if(xr(r)){var i=!0;Tu(t)}else i=!1;if(io(t,a),t.stateNode===null)iu(e,t),p_(t,r,s),Pp(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=as(d):(d=xr(r)?ii:Jt.current,d=Oo(t,d));var h=r.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&h0(t,o,s,d),Xn=!1;var f=t.memoizedState;o.state=f,Du(t,s,o,a),c=t.memoizedState,l!==s||f!==c||gr.current||Xn?(typeof h=="function"&&(Rp(t,r,h,s),c=t.memoizedState),(l=Xn||u0(t,r,l,s,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Gb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ds(t.type,l),o.props=d,u=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=as(c):(c=xr(r)?ii:Jt.current,c=Oo(t,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&h0(t,o,s,c),Xn=!1,f=t.memoizedState,o.state=f,Du(t,s,o,a);var y=t.memoizedState;l!==u||f!==y||gr.current||Xn?(typeof p=="function"&&(Rp(t,r,p,s),y=t.memoizedState),(d=Xn||u0(t,r,d,s,f,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Op(e,t,r,s,i,a)}function Op(e,t,r,s,a,i){w_(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&s0(t,r,!1),En(e,t,i);s=t.stateNode,ZP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Io(t,e.child,null,i),t.child=Io(t,null,l,i)):tr(e,t,l,i),t.memoizedState=s.state,a&&s0(t,r,!0),t.child}function j_(e){var t=e.stateNode;t.pendingContext?r0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&r0(e,t.context,!1),Sx(e,t.containerInfo)}function y0(e,t,r,s,a){return Mo(),wx(a),t.flags|=256,tr(e,t,r,s),t.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Ip(e){return{baseLanes:e,cachePool:null,transitions:null}}function b_(e,t,r){var s=t.pendingProps,a=gt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),nt(gt,a&1),e===null)return kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zh(o,s,0,null),e=ai(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ip(r),t.memoizedState=Mp,e):Mx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return JP(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Na(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Na(l,i):(i=ai(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Ip(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Mp,s}return i=e.child,e=i.sibling,s=Na(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Mx(e,t){return t=zh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Od(e,t,r,s){return s!==null&&wx(s),Io(t,e.child,null,r),e=Mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JP(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=mm(Error(W(422))),Od(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=zh({mode:"visible",children:s.children},a,0,null),i=ai(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Io(t,e.child,null,o),t.child.memoizedState=Ip(o),t.memoizedState=Mp,i);if(!(t.mode&1))return Od(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(W(419)),s=mm(i,s,void 0),Od(e,t,o,s)}if(l=(o&e.childLanes)!==0,pr||l){if(s=Ut,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kn(e,a),_s(s,e,a,-1))}return Ux(),s=mm(Error(W(421))),Od(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uT.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Tr=wa(a.nextSibling),Ar=t,mt=!0,ms=null,e!==null&&(Kr[Gr++]=vn,Kr[Gr++]=yn,Kr[Gr++]=oi,vn=e.id,yn=e.overflow,oi=t),t=Mx(t,s.children),t.flags|=4096,t)}function w0(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ep(e.return,t,r)}function pm(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function __(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(tr(e,t,s.children,r),s=gt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w0(e,r,t);else if(e.tag===19)w0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(nt(gt,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Lu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pm(t,!0,r,null,i);break;case"together":pm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ci|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XP(e,t,r){switch(t.tag){case 3:j_(t),Mo();break;case 5:Qb(t);break;case 1:xr(t.type)&&Tu(t);break;case 4:Sx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;nt(Mu,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(nt(gt,gt.current&1),t.flags|=128,null):r&t.child.childLanes?b_(e,t,r):(nt(gt,gt.current&1),e=En(e,t,r),e!==null?e.sibling:null);nt(gt,gt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return __(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nt(gt,gt.current),s)break;return null;case 22:case 23:return t.lanes=0,y_(e,t,r)}return En(e,t,r)}var N_,Dp,C_,S_;N_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dp=function(){};C_=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Ga(Ks.current);var i=null;switch(r){case"input":a=np(e,a),s=np(e,s),i=[];break;case"select":a=wt({},a,{value:void 0}),s=wt({},s,{value:void 0}),i=[];break;case"textarea":a=op(e,a),s=op(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ru)}cp(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ac.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ac.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ct("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};S_=function(e,t,r,s){r!==s&&(t.flags|=4)};function yl(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function eT(e,t,r){var s=t.pendingProps;switch(yx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return xr(t.type)&&Pu(),Gt(t),null;case 3:return s=t.stateNode,Do(),ft(gr),ft(Jt),Ex(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Td(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ms!==null&&(qp(ms),ms=null))),Dp(e,t),Gt(t),null;case 5:kx(t);var a=Ga(xc.current);if(r=t.type,e!==null&&t.stateNode!=null)C_(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(W(166));return Gt(t),null}if(e=Ga(Ks.current),Td(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Vs]=t,s[pc]=i,e=(t.mode&1)!==0,r){case"dialog":ct("cancel",s),ct("close",s);break;case"iframe":case"object":case"embed":ct("load",s);break;case"video":case"audio":for(a=0;a<Ml.length;a++)ct(Ml[a],s);break;case"source":ct("error",s);break;case"img":case"image":case"link":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"input":Ry(s,i),ct("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ct("invalid",s);break;case"textarea":Ty(s,i),ct("invalid",s)}cp(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pd(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pd(s.textContent,l,e),a=["children",""+l]):ac.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ct("scroll",s)}switch(r){case"input":bd(s),Py(s,i,!0);break;case"textarea":bd(s),Ay(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ru)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Vs]=t,e[pc]=s,N_(e,t,!1,!1),t.stateNode=e;e:{switch(o=dp(r,s),r){case"dialog":ct("cancel",e),ct("close",e),a=s;break;case"iframe":case"object":case"embed":ct("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ml.length;a++)ct(Ml[a],e);a=s;break;case"source":ct("error",e),a=s;break;case"img":case"image":case"link":ct("error",e),ct("load",e),a=s;break;case"details":ct("toggle",e),a=s;break;case"input":Ry(e,s),a=np(e,s),ct("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=wt({},s,{value:void 0}),ct("invalid",e);break;case"textarea":Ty(e,s),a=op(e,s),ct("invalid",e);break;default:a=s}cp(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ic(e,c):typeof c=="number"&&ic(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ac.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ct("scroll",e):c!=null&&nx(e,i,c,o))}switch(r){case"input":bd(e),Py(e,s,!1);break;case"textarea":bd(e),Ay(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ka(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ro(e,!!s.multiple,i,!1):s.defaultValue!=null&&ro(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ru)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)S_(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(W(166));if(r=Ga(xc.current),Ga(Ks.current),Td(t)){if(s=t.stateNode,r=t.memoizedProps,s[Vs]=t,(i=s.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:Pd(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pd(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Vs]=t,t.stateNode=s}return Gt(t),null;case 13:if(ft(gt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Tr!==null&&t.mode&1&&!(t.flags&128))qb(),Mo(),t.flags|=98560,i=!1;else if(i=Td(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Vs]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else ms!==null&&(qp(ms),ms=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?It===0&&(It=3):Ux())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return Do(),Dp(e,t),e===null&&fc(t.stateNode.containerInfo),Gt(t),null;case 10:return _x(t.type._context),Gt(t),null;case 17:return xr(t.type)&&Pu(),Gt(t),null;case 19:if(ft(gt),i=t.memoizedState,i===null)return Gt(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)yl(i,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Lu(e),o!==null){for(t.flags|=128,yl(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return nt(gt,gt.current&1|2),t.child}e=e.sibling}i.tail!==null&&kt()>Fo&&(t.flags|=128,s=!0,yl(i,!1),t.lanes=4194304)}else{if(!s)if(e=Lu(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return Gt(t),null}else 2*kt()-i.renderingStartTime>Fo&&r!==1073741824&&(t.flags|=128,s=!0,yl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=kt(),t.sibling=null,r=gt.current,nt(gt,s?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return $x(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Rr&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function tT(e,t){switch(yx(t),t.tag){case 1:return xr(t.type)&&Pu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Do(),ft(gr),ft(Jt),Ex(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kx(t),null;case 13:if(ft(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(gt),null;case 4:return Do(),null;case 10:return _x(t.type._context),null;case 22:case 23:return $x(),null;case 24:return null;default:return null}}var Md=!1,Yt=!1,rT=typeof WeakSet=="function"?WeakSet:Set,ue=null;function eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Nt(e,t,s)}else r.current=null}function Lp(e,t,r){try{r()}catch(s){Nt(e,t,s)}}var j0=!1;function sT(e,t){if(wp=Su,e=Tb(),xx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,f=null;t:for(;;){for(var p;u!==r||a!==0&&u.nodeType!==3||(l=o+a),u!==i||s!==0&&u.nodeType!==3||(c=o+s),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===r&&++d===a&&(l=o),f===i&&++h===s&&(c=o),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jp={focusedElem:e,selectionRange:r},Su=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ds(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){Nt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return y=j0,j0=!1,y}function Gl(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Lp(t,r,i)}a=a.next}while(a!==s)}}function $h(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Fp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k_(e){var t=e.alternate;t!==null&&(e.alternate=null,k_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vs],delete t[pc],delete t[Np],delete t[$P],delete t[UP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E_(e){return e.tag===5||e.tag===3||e.tag===4}function b0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $p(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ru));else if(s!==4&&(e=e.child,e!==null))for($p(e,t,r),e=e.sibling;e!==null;)$p(e,t,r),e=e.sibling}function Up(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Up(e,t,r),e=e.sibling;e!==null;)Up(e,t,r),e=e.sibling}var zt=null,hs=!1;function Wn(e,t,r){for(r=r.child;r!==null;)R_(e,t,r),r=r.sibling}function R_(e,t,r){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Th,r)}catch{}switch(r.tag){case 5:Yt||eo(r,t);case 6:var s=zt,a=hs;zt=null,Wn(e,t,r),zt=s,hs=a,zt!==null&&(hs?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(hs?(e=zt,r=r.stateNode,e.nodeType===8?lm(e.parentNode,r):e.nodeType===1&&lm(e,r),dc(e)):lm(zt,r.stateNode));break;case 4:s=zt,a=hs,zt=r.stateNode.containerInfo,hs=!0,Wn(e,t,r),zt=s,hs=a;break;case 0:case 11:case 14:case 15:if(!Yt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lp(r,t,o),a=a.next}while(a!==s)}Wn(e,t,r);break;case 1:if(!Yt&&(eo(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Nt(r,t,l)}Wn(e,t,r);break;case 21:Wn(e,t,r);break;case 22:r.mode&1?(Yt=(s=Yt)||r.memoizedState!==null,Wn(e,t,r),Yt=s):Wn(e,t,r);break;default:Wn(e,t,r)}}function _0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new rT),t.forEach(function(s){var a=hT.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function ls(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,hs=!1;break e;case 3:zt=l.stateNode.containerInfo,hs=!0;break e;case 4:zt=l.stateNode.containerInfo,hs=!0;break e}l=l.return}if(zt===null)throw Error(W(160));R_(i,o,a),zt=null,hs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Nt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P_(t,e),t=t.sibling}function P_(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ls(t,e),Ms(e),s&4){try{Gl(3,e,e.return),$h(3,e)}catch(v){Nt(e,e.return,v)}try{Gl(5,e,e.return)}catch(v){Nt(e,e.return,v)}}break;case 1:ls(t,e),Ms(e),s&512&&r!==null&&eo(r,r.return);break;case 5:if(ls(t,e),Ms(e),s&512&&r!==null&&eo(r,r.return),e.flags&32){var a=e.stateNode;try{ic(a,"")}catch(v){Nt(e,e.return,v)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jj(a,i),dp(l,o);var d=dp(l,i);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?sb(a,u):h==="dangerouslySetInnerHTML"?tb(a,u):h==="children"?ic(a,u):nx(a,h,u,d)}switch(l){case"input":ap(a,i);break;case"textarea":Xj(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ro(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ro(a,!!i.multiple,i.defaultValue,!0):ro(a,!!i.multiple,i.multiple?[]:"",!1))}a[pc]=i}catch(v){Nt(e,e.return,v)}}break;case 6:if(ls(t,e),Ms(e),s&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Nt(e,e.return,v)}}break;case 3:if(ls(t,e),Ms(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(v){Nt(e,e.return,v)}break;case 4:ls(t,e),Ms(e);break;case 13:ls(t,e),Ms(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Lx=kt())),s&4&&_0(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(d=Yt)||h,ls(t,e),Yt=d):ls(t,e),Ms(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(ue=e,h=e.child;h!==null;){for(u=ue=h;ue!==null;){switch(f=ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gl(4,f,f.return);break;case 1:eo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Nt(s,r,v)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){C0(u);continue}}p!==null?(p.return=f,ue=p):C0(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{a=u.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rb("display",o))}catch(v){Nt(e,e.return,v)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(v){Nt(e,e.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ls(t,e),Ms(e),s&4&&_0(e);break;case 21:break;default:ls(t,e),Ms(e)}}function Ms(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(E_(r)){var s=r;break e}r=r.return}throw Error(W(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ic(a,""),s.flags&=-33);var i=b0(e);Up(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=b0(e);$p(e,l,o);break;default:throw Error(W(161))}}catch(c){Nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nT(e,t,r){ue=e,T_(e)}function T_(e,t,r){for(var s=(e.mode&1)!==0;ue!==null;){var a=ue,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Md;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=Md;var d=Yt;if(Md=o,(Yt=c)&&!d)for(ue=a;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?S0(a):c!==null?(c.return=o,ue=c):S0(a);for(;i!==null;)ue=i,T_(i),i=i.sibling;ue=a,Md=l,Yt=d}N0(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ue=i):N0(e)}}function N0(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||$h(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Yt)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ds(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&l0(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}l0(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&dc(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Yt||t.flags&512&&Fp(t)}catch(f){Nt(t,t.return,f)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function C0(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function S0(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$h(4,t)}catch(c){Nt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Nt(t,a,c)}}var i=t.return;try{Fp(t)}catch(c){Nt(t,i,c)}break;case 5:var o=t.return;try{Fp(t)}catch(c){Nt(t,o,c)}}}catch(c){Nt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var aT=Math.ceil,Uu=Dn.ReactCurrentDispatcher,Ix=Dn.ReactCurrentOwner,es=Dn.ReactCurrentBatchConfig,Ke=0,Ut=null,Rt=null,Bt=0,Rr=0,to=Ia(0),It=0,jc=null,ci=0,Uh=0,Dx=0,Ql=null,fr=null,Lx=0,Fo=1/0,mn=null,zu=!1,zp=null,ba=null,Id=!1,pa=null,Vu=0,Yl=0,Vp=null,ou=-1,lu=0;function sr(){return Ke&6?kt():ou!==-1?ou:ou=kt()}function _a(e){return e.mode&1?Ke&2&&Bt!==0?Bt&-Bt:VP.transition!==null?(lu===0&&(lu=pb()),lu):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:bb(e.type)),e):1}function _s(e,t,r,s){if(50<Yl)throw Yl=0,Vp=null,Error(W(185));Qc(e,r,s),(!(Ke&2)||e!==Ut)&&(e===Ut&&(!(Ke&2)&&(Uh|=r),It===4&&ra(e,Bt)),vr(e,s),r===1&&Ke===0&&!(t.mode&1)&&(Fo=kt()+500,Dh&&Da()))}function vr(e,t){var r=e.callbackNode;VR(e,t);var s=Cu(e,e===Ut?Bt:0);if(s===0)r!==null&&Iy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Iy(r),t===1)e.tag===0?zP(k0.bind(null,e)):zb(k0.bind(null,e)),LP(function(){!(Ke&6)&&Da()}),r=null;else{switch(gb(s)){case 1:r=cx;break;case 4:r=fb;break;case 16:r=Nu;break;case 536870912:r=mb;break;default:r=Nu}r=$_(r,A_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function A_(e,t){if(ou=-1,lu=0,Ke&6)throw Error(W(327));var r=e.callbackNode;if(oo()&&e.callbackNode!==r)return null;var s=Cu(e,e===Ut?Bt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Bu(e,s);else{t=s;var a=Ke;Ke|=2;var i=M_();(Ut!==e||Bt!==t)&&(mn=null,Fo=kt()+500,ni(e,t));do try{lT();break}catch(l){O_(e,l)}while(!0);bx(),Uu.current=i,Ke=a,Rt!==null?t=0:(Ut=null,Bt=0,t=It)}if(t!==0){if(t===2&&(a=pp(e),a!==0&&(s=a,t=Bp(e,a))),t===1)throw r=jc,ni(e,0),ra(e,s),vr(e,kt()),r;if(t===6)ra(e,s);else{if(a=e.current.alternate,!(s&30)&&!iT(a)&&(t=Bu(e,s),t===2&&(i=pp(e),i!==0&&(s=i,t=Bp(e,i))),t===1))throw r=jc,ni(e,0),ra(e,s),vr(e,kt()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(W(345));case 2:Va(e,fr,mn);break;case 3:if(ra(e,s),(s&130023424)===s&&(t=Lx+500-kt(),10<t)){if(Cu(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){sr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_p(Va.bind(null,e,fr,mn),t);break}Va(e,fr,mn);break;case 4:if(ra(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-bs(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=kt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*aT(s/1960))-s,10<s){e.timeoutHandle=_p(Va.bind(null,e,fr,mn),s);break}Va(e,fr,mn);break;case 5:Va(e,fr,mn);break;default:throw Error(W(329))}}}return vr(e,kt()),e.callbackNode===r?A_.bind(null,e):null}function Bp(e,t){var r=Ql;return e.current.memoizedState.isDehydrated&&(ni(e,t).flags|=256),e=Bu(e,t),e!==2&&(t=fr,fr=r,t!==null&&qp(t)),e}function qp(e){fr===null?fr=e:fr.push.apply(fr,e)}function iT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Ss(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t){for(t&=~Dx,t&=~Uh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bs(t),s=1<<r;e[r]=-1,t&=~s}}function k0(e){if(Ke&6)throw Error(W(327));oo();var t=Cu(e,0);if(!(t&1))return vr(e,kt()),null;var r=Bu(e,t);if(e.tag!==0&&r===2){var s=pp(e);s!==0&&(t=s,r=Bp(e,s))}if(r===1)throw r=jc,ni(e,0),ra(e,t),vr(e,kt()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Va(e,fr,mn),vr(e,kt()),null}function Fx(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Fo=kt()+500,Dh&&Da())}}function di(e){pa!==null&&pa.tag===0&&!(Ke&6)&&oo();var t=Ke;Ke|=1;var r=es.transition,s=Ze;try{if(es.transition=null,Ze=1,e)return e()}finally{Ze=s,es.transition=r,Ke=t,!(Ke&6)&&Da()}}function $x(){Rr=to.current,ft(to)}function ni(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DP(r)),Rt!==null)for(r=Rt.return;r!==null;){var s=r;switch(yx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Pu();break;case 3:Do(),ft(gr),ft(Jt),Ex();break;case 5:kx(s);break;case 4:Do();break;case 13:ft(gt);break;case 19:ft(gt);break;case 10:_x(s.type._context);break;case 22:case 23:$x()}r=r.return}if(Ut=e,Rt=e=Na(e.current,null),Bt=Rr=t,It=0,jc=null,Dx=Uh=ci=0,fr=Ql=null,Ka!==null){for(t=0;t<Ka.length;t++)if(r=Ka[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Ka=null}return e}function O_(e,t){do{var r=Rt;try{if(bx(),nu.current=$u,Fu){for(var s=vt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Fu=!1}if(li=0,$t=Ot=vt=null,Kl=!1,vc=0,Ix.current=null,r===null||r.return===null){It=1,jc=t,Rt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=m0(o);if(p!==null){p.flags&=-257,p0(p,o,l,i,t),p.mode&1&&f0(i,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){f0(i,d,t),Ux();break e}c=Error(W(426))}}else if(mt&&l.mode&1){var w=m0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),p0(w,o,l,i,t),wx(Lo(c,l));break e}}i=c=Lo(c,l),It!==4&&(It=2),Ql===null?Ql=[i]:Ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=g_(i,c,t);o0(i,g);break e;case 1:l=c;var x=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ba===null||!ba.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=x_(i,l,t);o0(i,b);break e}}i=i.return}while(i!==null)}D_(r)}catch(S){t=S,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function M_(){var e=Uu.current;return Uu.current=$u,e===null?$u:e}function Ux(){(It===0||It===3||It===2)&&(It=4),Ut===null||!(ci&268435455)&&!(Uh&268435455)||ra(Ut,Bt)}function Bu(e,t){var r=Ke;Ke|=2;var s=M_();(Ut!==e||Bt!==t)&&(mn=null,ni(e,t));do try{oT();break}catch(a){O_(e,a)}while(!0);if(bx(),Ke=r,Uu.current=s,Rt!==null)throw Error(W(261));return Ut=null,Bt=0,It}function oT(){for(;Rt!==null;)I_(Rt)}function lT(){for(;Rt!==null&&!OR();)I_(Rt)}function I_(e){var t=F_(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?D_(e):Rt=t,Ix.current=null}function D_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=tT(r,t),r!==null){r.flags&=32767,Rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Rt=null;return}}else if(r=eT(r,t,Rr),r!==null){Rt=r;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);It===0&&(It=5)}function Va(e,t,r){var s=Ze,a=es.transition;try{es.transition=null,Ze=1,cT(e,t,r,s)}finally{es.transition=a,Ze=s}return null}function cT(e,t,r,s){do oo();while(pa!==null);if(Ke&6)throw Error(W(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(BR(e,i),e===Ut&&(Rt=Ut=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Id||(Id=!0,$_(Nu,function(){return oo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=es.transition,es.transition=null;var o=Ze;Ze=1;var l=Ke;Ke|=4,Ix.current=null,sT(e,r),P_(r,e),RP(jp),Su=!!wp,jp=wp=null,e.current=r,nT(r),MR(),Ke=l,Ze=o,es.transition=i}else e.current=r;if(Id&&(Id=!1,pa=e,Vu=a),i=e.pendingLanes,i===0&&(ba=null),LR(r.stateNode),vr(e,kt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(zu)throw zu=!1,e=zp,zp=null,e;return Vu&1&&e.tag!==0&&oo(),i=e.pendingLanes,i&1?e===Vp?Yl++:(Yl=0,Vp=e):Yl=0,Da(),null}function oo(){if(pa!==null){var e=gb(Vu),t=es.transition,r=Ze;try{if(es.transition=null,Ze=16>e?16:e,pa===null)var s=!1;else{if(e=pa,pa=null,Vu=0,Ke&6)throw Error(W(331));var a=Ke;for(Ke|=4,ue=e.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ue=d;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:Gl(8,h,i)}var u=h.child;if(u!==null)u.return=h,ue=u;else for(;ue!==null;){h=ue;var f=h.sibling,p=h.return;if(k_(h),h===d){ue=null;break}if(f!==null){f.return=p,ue=f;break}ue=p}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ue=g;break e}ue=i.return}}var x=e.current;for(ue=x;ue!==null;){o=ue;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,ue=j;else e:for(o=x;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$h(9,l)}}catch(S){Nt(l,l.return,S)}if(l===o){ue=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ue=b;break e}ue=l.return}}if(Ke=a,Da(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Th,e)}catch{}s=!0}return s}finally{Ze=r,es.transition=t}}return!1}function E0(e,t,r){t=Lo(r,t),t=g_(e,t,1),e=ja(e,t,1),t=sr(),e!==null&&(Qc(e,1,t),vr(e,t))}function Nt(e,t,r){if(e.tag===3)E0(e,e,r);else for(;t!==null;){if(t.tag===3){E0(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ba===null||!ba.has(s))){e=Lo(r,e),e=x_(t,e,1),t=ja(t,e,1),e=sr(),t!==null&&(Qc(t,1,e),vr(t,e));break}}t=t.return}}function dT(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,Ut===e&&(Bt&r)===r&&(It===4||It===3&&(Bt&130023424)===Bt&&500>kt()-Lx?ni(e,0):Dx|=r),vr(e,t)}function L_(e,t){t===0&&(e.mode&1?(t=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):t=1);var r=sr();e=kn(e,t),e!==null&&(Qc(e,t,r),vr(e,r))}function uT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L_(e,r)}function hT(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(W(314))}s!==null&&s.delete(t),L_(e,r)}var F_;F_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)pr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pr=!1,XP(e,t,r);pr=!!(e.flags&131072)}else pr=!1,mt&&t.flags&1048576&&Vb(t,Ou,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;iu(e,t),e=t.pendingProps;var a=Oo(t,Jt.current);io(t,r),a=Px(null,t,s,e,a,r);var i=Tx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(s)?(i=!0,Tu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Cx(t),a.updater=Fh,t.stateNode=a,a._reactInternals=t,Pp(t,s,e,r),t=Op(null,t,s,!0,i,r)):(t.tag=0,mt&&i&&vx(t),tr(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(iu(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=mT(s),e=ds(s,e),a){case 0:t=Ap(null,t,s,e,r);break e;case 1:t=v0(null,t,s,e,r);break e;case 11:t=g0(null,t,s,e,r);break e;case 14:t=x0(null,t,s,ds(s.type,e),r);break e}throw Error(W(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ds(s,a),Ap(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ds(s,a),v0(e,t,s,a,r);case 3:e:{if(j_(t),e===null)throw Error(W(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Gb(e,t),Du(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Lo(Error(W(423)),t),t=y0(e,t,s,r,a);break e}else if(s!==a){a=Lo(Error(W(424)),t),t=y0(e,t,s,r,a);break e}else for(Tr=wa(t.stateNode.containerInfo.firstChild),Ar=t,mt=!0,ms=null,r=Hb(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mo(),s===a){t=En(e,t,r);break e}tr(e,t,s,r)}t=t.child}return t;case 5:return Qb(t),e===null&&kp(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,bp(s,a)?o=null:i!==null&&bp(s,i)&&(t.flags|=32),w_(e,t),tr(e,t,o,r),t.child;case 6:return e===null&&kp(t),null;case 13:return b_(e,t,r);case 4:return Sx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Io(t,null,s,r):tr(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ds(s,a),g0(e,t,s,a,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,nt(Mu,s._currentValue),s._currentValue=o,i!==null)if(Ss(i.value,o)){if(i.children===a.children&&!gr.current){t=En(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=jn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ep(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ep(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,io(t,r),a=as(a),s=s(a),t.flags|=1,tr(e,t,s,r),t.child;case 14:return s=t.type,a=ds(s,t.pendingProps),a=ds(s.type,a),x0(e,t,s,a,r);case 15:return v_(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ds(s,a),iu(e,t),t.tag=1,xr(s)?(e=!0,Tu(t)):e=!1,io(t,r),p_(t,s,a),Pp(t,s,a,r),Op(null,t,s,!0,e,r);case 19:return __(e,t,r);case 22:return y_(e,t,r)}throw Error(W(156,t.tag))};function $_(e,t){return hb(e,t)}function fT(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,r,s){return new fT(e,t,r,s)}function zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mT(e){if(typeof e=="function")return zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ix)return 11;if(e===ox)return 14}return 2}function Na(e,t){var r=e.alternate;return r===null?(r=Qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cu(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")zx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wi:return ai(r.children,a,i,t);case ax:o=8,a|=8;break;case ep:return e=Qr(12,r,t,a|2),e.elementType=ep,e.lanes=i,e;case tp:return e=Qr(13,r,t,a),e.elementType=tp,e.lanes=i,e;case rp:return e=Qr(19,r,t,a),e.elementType=rp,e.lanes=i,e;case Qj:return zh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kj:o=10;break e;case Gj:o=9;break e;case ix:o=11;break e;case ox:o=14;break e;case Jn:o=16,s=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Qr(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function ai(e,t,r,s){return e=Qr(7,e,s,t),e.lanes=r,e}function zh(e,t,r,s){return e=Qr(22,e,s,t),e.elementType=Qj,e.lanes=r,e.stateNode={isHidden:!1},e}function gm(e,t,r){return e=Qr(6,e,null,t),e.lanes=r,e}function xm(e,t,r){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pT(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vx(e,t,r,s,a,i,o,l,c){return e=new pT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cx(i),e}function gT(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function U_(e){if(!e)return Ea;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(xr(r))return Ub(e,r,t)}return t}function z_(e,t,r,s,a,i,o,l,c){return e=Vx(r,s,!0,e,a,i,o,l,c),e.context=U_(null),r=e.current,s=sr(),a=_a(r),i=jn(s,a),i.callback=t??null,ja(r,i,a),e.current.lanes=a,Qc(e,a,s),vr(e,s),e}function Vh(e,t,r,s){var a=t.current,i=sr(),o=_a(a);return r=U_(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=ja(a,t,o),e!==null&&(_s(e,a,o,i),su(e,a,o)),o}function qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bx(e,t){R0(e,t),(e=e.alternate)&&R0(e,t)}function xT(){return null}var V_=typeof reportError=="function"?reportError:function(e){console.error(e)};function qx(e){this._internalRoot=e}Bh.prototype.render=qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Vh(e,t,null,null)};Bh.prototype.unmount=qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;di(function(){Vh(null,e,null,null)}),t[Sn]=null}};function Bh(e){this._internalRoot=e}Bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=yb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ta.length&&t!==0&&t<ta[r].priority;r++);ta.splice(r,0,e),r===0&&jb(e)}};function Wx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P0(){}function vT(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=qu(o);i.call(d)}}var o=z_(t,s,e,0,null,!1,!1,"",P0);return e._reactRootContainer=o,e[Sn]=o.current,fc(e.nodeType===8?e.parentNode:e),di(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=qu(c);l.call(d)}}var c=Vx(e,0,!1,null,null,!1,!1,"",P0);return e._reactRootContainer=c,e[Sn]=c.current,fc(e.nodeType===8?e.parentNode:e),di(function(){Vh(t,c,r,s)}),c}function Wh(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=qu(o);l.call(c)}}Vh(t,o,e,a)}else o=vT(r,t,e,a,s);return qu(o)}xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ol(t.pendingLanes);r!==0&&(dx(t,r|1),vr(t,kt()),!(Ke&6)&&(Fo=kt()+500,Da()))}break;case 13:di(function(){var s=kn(e,1);if(s!==null){var a=sr();_s(s,e,1,a)}}),Bx(e,1)}};ux=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var r=sr();_s(t,e,134217728,r)}Bx(e,134217728)}};vb=function(e){if(e.tag===13){var t=_a(e),r=kn(e,t);if(r!==null){var s=sr();_s(r,e,t,s)}Bx(e,t)}};yb=function(){return Ze};wb=function(e,t){var r=Ze;try{return Ze=e,t()}finally{Ze=r}};hp=function(e,t,r){switch(t){case"input":if(ap(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Ih(s);if(!a)throw Error(W(90));Zj(s),ap(s,a)}}}break;case"textarea":Xj(e,r);break;case"select":t=r.value,t!=null&&ro(e,!!r.multiple,t,!1)}};ib=Fx;ob=di;var yT={usingClientEntryPoint:!1,Events:[Zc,Qi,Ih,nb,ab,Fx]},wl={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wT={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=db(e),e===null?null:e.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||xT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Th=Dd.inject(wT),Hs=Dd}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wx(t))throw Error(W(200));return gT(e,t,null,r)};$r.createRoot=function(e,t){if(!Wx(e))throw Error(W(299));var r=!1,s="",a=V_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Vx(e,1,!1,null,null,r,!1,s,a),e[Sn]=t.current,fc(e.nodeType===8?e.parentNode:e),new qx(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=db(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return di(e)};$r.hydrate=function(e,t,r){if(!qh(t))throw Error(W(200));return Wh(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!Wx(e))throw Error(W(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=V_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=z_(t,null,e,1,r??null,a,!1,i,o),e[Sn]=t.current,fc(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bh(t)};$r.render=function(e,t,r){if(!qh(t))throw Error(W(200));return Wh(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!qh(e))throw Error(W(40));return e._reactRootContainer?(di(function(){Wh(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};$r.unstable_batchedUpdates=Fx;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!qh(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Wh(e,t,r,!1,s)};$r.version="18.3.1-next-f1338f8080-20240426";function B_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B_)}catch(e){console.error(e)}}B_(),Bj.exports=$r;var Ci=Bj.exports;const q_=Kc(Ci);var T0=Ci;Jm.createRoot=T0.createRoot,Jm.hydrateRoot=T0.hydrateRoot;var jT=typeof Element<"u",bT=typeof Map=="function",_T=typeof Set=="function",NT=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function du(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!du(e[s],t[s]))return!1;return!0}var i;if(bT&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!du(s.value[1],t.get(s.value[0])))return!1;return!0}if(_T&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(NT&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(jT&&e instanceof Element)return!1;for(s=r;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!du(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var CT=function(t,r){try{return du(t,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const ST=Kc(CT);var kT=function(e,t,r,s,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,s,a,i,o,l],h=0;c=new Error(t.replace(/%s/g,function(){return d[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},ET=kT;const A0=Kc(ET);var RT=function(t,r,s,a){var i=s?s.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var o=Object.keys(t),l=Object.keys(r);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),d=0;d<o.length;d++){var h=o[d];if(!c(h))return!1;var u=t[h],f=r[h];if(i=s?s.call(a,u,f,h):void 0,i===!1||i===void 0&&u!==f)return!1}return!0};const PT=Kc(RT);var W_=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(W_||{}),vm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},O0=Object.values(W_),Hx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},TT=Object.entries(Hx).reduce((e,[t,r])=>(e[r]=t,e),{}),ys="data-rh",lo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},co=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const s=e[r];if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}return null},AT=e=>{let t=co(e,"title");const r=co(e,lo.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const s=co(e,lo.DEFAULT_TITLE);return t||s||void 0},OT=e=>co(e,lo.ON_CHANGE_CLIENT_STATE)||(()=>{}),ym=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,s)=>({...r,...s}),{}),MT=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,s)=>{if(!r.length){const a=Object.keys(s);for(let i=0;i<a.length;i+=1){const l=a[i].toLowerCase();if(e.indexOf(l)!==-1&&s[l])return r.concat(s)}}return r},[]),IT=e=>console&&typeof console.warn=="function"&&console.warn(e),jl=(e,t,r)=>{const s={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&IT(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const o={};i.filter(c=>{let d;const h=Object.keys(c);for(let f=0;f<h.length;f+=1){const p=h[f],y=p.toLowerCase();t.indexOf(y)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(d=y),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(d=p)}if(!d||!c[d])return!1;const u=c[d].toLowerCase();return s[d]||(s[d]={}),o[d]||(o[d]={}),s[d][u]?!1:(o[d][u]=!0,!0)}).reverse().forEach(c=>a.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],h={...s[d],...o[d]};s[d]=h}return a},[]).reverse()},DT=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},LT=e=>({baseTag:MT(["href"],e),bodyAttributes:ym("bodyAttributes",e),defer:co(e,lo.DEFER),encode:co(e,lo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ym("htmlAttributes",e),linkTags:jl("link",["rel","href"],e),metaTags:jl("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:jl("noscript",["innerHTML"],e),onChangeClientState:OT(e),scriptTags:jl("script",["src","innerHTML"],e),styleTags:jl("style",["cssText"],e),title:AT(e),titleAttributes:ym("titleAttributes",e),prioritizeSeoTags:DT(e,lo.PRIORITIZE_SEO_TAGS)}),H_=e=>Array.isArray(e)?e.join(""):e,FT=(e,t)=>{const r=Object.keys(e);for(let s=0;s<r.length;s+=1)if(t[r[s]]&&t[r[s]].includes(e[r[s]]))return!0;return!1},wm=(e,t)=>Array.isArray(e)?e.reduce((r,s)=>(FT(s,t)?r.priority.push(s):r.default.push(s),r),{priority:[],default:[]}):{default:e,priority:[]},M0=(e,t)=>({...e,[t]:void 0}),$T=["noscript","script","style"],Wp=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),K_=e=>Object.keys(e).reduce((t,r)=>{const s=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${s}`:s},""),UT=(e,t,r,s)=>{const a=K_(r),i=H_(t);return a?`<${e} ${ys}="true" ${a}>${Wp(i,s)}</${e}>`:`<${e} ${ys}="true">${Wp(i,s)}</${e}>`},zT=(e,t,r=!0)=>t.reduce((s,a)=>{const i=a,o=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,h)=>{const u=typeof i[h]>"u"?h:`${h}="${Wp(i[h],r)}"`;return d?`${d} ${u}`:u},""),l=i.innerHTML||i.cssText||"",c=$T.indexOf(e)===-1;return`${s}<${e} ${ys}="true" ${o}${c?"/>":`>${l}</${e}>`}`},""),G_=(e,t={})=>Object.keys(e).reduce((r,s)=>{const a=Hx[s];return r[a||s]=e[s],r},t),VT=(e,t,r)=>{const s={key:t,[ys]:!0},a=G_(r,s);return[F.createElement("title",a,t)]},uu=(e,t)=>t.map((r,s)=>{const a={key:s,[ys]:!0};return Object.keys(r).forEach(i=>{const l=Hx[i]||i;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[l]=r[i]}),F.createElement(e,a)}),Br=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>VT(e,t.title,t.titleAttributes),toString:()=>UT(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>G_(t),toString:()=>K_(t)};default:return{toComponent:()=>uu(e,t),toString:()=>zT(e,t,r)}}},BT=({metaTags:e,linkTags:t,scriptTags:r,encode:s})=>{const a=wm(e,vm.meta),i=wm(t,vm.link),o=wm(r,vm.script);return{priorityMethods:{toComponent:()=>[...uu("meta",a.priority),...uu("link",i.priority),...uu("script",o.priority)],toString:()=>`${Br("meta",a.priority,s)} ${Br("link",i.priority,s)} ${Br("script",o.priority,s)}`},metaTags:a.default,linkTags:i.default,scriptTags:o.default}},qT=e=>{const{baseTag:t,bodyAttributes:r,encode:s=!0,htmlAttributes:a,noscriptTags:i,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:h,metaTags:u,scriptTags:f}=e,p={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:p,linkTags:h,metaTags:u,scriptTags:f}=BT(e)),{priority:p,base:Br("base",t,s),bodyAttributes:Br("bodyAttributes",r,s),htmlAttributes:Br("htmlAttributes",a,s),link:Br("link",h,s),meta:Br("meta",u,s),noscript:Br("noscript",i,s),script:Br("script",f,s),style:Br("style",o,s),title:Br("title",{title:l,titleAttributes:c},s)}},Hp=qT,Ld=[],Q_=!!(typeof window<"u"&&window.document&&window.document.createElement),Kp=class{constructor(e,t){cn(this,"instances",[]);cn(this,"canUseDOM",Q_);cn(this,"context");cn(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Ld:this.instances,add:e=>{(this.canUseDOM?Ld:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Ld:this.instances).indexOf(e);(this.canUseDOM?Ld:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Hp({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},WT={},Y_=F.createContext(WT),Ya,Z_=(Ya=class extends m.Component{constructor(r){super(r);cn(this,"helmetData");this.helmetData=new Kp(this.props.context||{},Ya.canUseDOM)}render(){return F.createElement(Y_.Provider,{value:this.helmetData.value},this.props.children)}},cn(Ya,"canUseDOM",Q_),Ya),Oi=(e,t)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${e}[${ys}]`),a=[].slice.call(s),i=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const h=d,u=typeof l[h]>"u"?"":l[h];c.setAttribute(d,u)}c.setAttribute(ys,"true"),a.some((d,h)=>(o=h,c.isEqualNode(d)))?a.splice(o,1):i.push(c)}),a.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),i.forEach(l=>r.appendChild(l)),{oldTags:a,newTags:i}},Gp=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const s=r.getAttribute(ys),a=s?s.split(","):[],i=[...a],o=Object.keys(t);for(const l of o){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),a.indexOf(l)===-1&&a.push(l);const d=i.indexOf(l);d!==-1&&i.splice(d,1)}for(let l=i.length-1;l>=0;l-=1)r.removeAttribute(i[l]);a.length===i.length?r.removeAttribute(ys):r.getAttribute(ys)!==o.join(",")&&r.setAttribute(ys,o.join(","))},HT=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=H_(e)),Gp("title",t)},I0=(e,t)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:a,linkTags:i,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:h,title:u,titleAttributes:f}=e;Gp("body",s),Gp("html",a),HT(u,f);const p={baseTag:Oi("base",r),linkTags:Oi("link",i),metaTags:Oi("meta",o),noscriptTags:Oi("noscript",l),scriptTags:Oi("script",d),styleTags:Oi("style",h)},y={},v={};Object.keys(p).forEach(w=>{const{newTags:g,oldTags:x}=p[w];g.length&&(y[w]=g),x.length&&(v[w]=p[w].oldTags)}),t&&t(),c(e,y,v)},bl=null,KT=e=>{bl&&cancelAnimationFrame(bl),e.defer?bl=requestAnimationFrame(()=>{I0(e,()=>{bl=null})}):(I0(e),bl=null)},GT=KT,D0=class extends m.Component{constructor(){super(...arguments);cn(this,"rendered",!1)}shouldComponentUpdate(t){return!PT(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let s=null;const a=LT(t.get().map(i=>{const o={...i.props};return delete o.context,o}));Z_.canUseDOM?GT(a):Hp&&(s=Hp(a)),r(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Zm,QT=(Zm=class extends m.Component{shouldComponentUpdate(e){return!ST(M0(this.props,"helmetData"),M0(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,s){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,s)}]}}mapObjectTypeChildren(e,t,r,s){switch(e.type){case"title":return{...t,[e.type]:s,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(s=>{r={...r,[s]:e[s]}}),r}warnOnInvalidChildren(e,t){return A0(O0.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${O0.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),A0(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return F.Children.forEach(e,s=>{if(!s||!s.props)return;const{children:a,...i}=s.props,o=Object.keys(i).reduce((c,d)=>(c[TT[d]||d]=i[d],c),{});let{type:l}=s;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(s,a),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(s,r,o,a);break;default:t=this.mapObjectTypeChildren(s,t,o,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:s}=t;if(e&&(r=this.mapChildrenToProps(e,r)),s&&!(s instanceof Kp)){const a=s;s=new Kp(a.context,!0),delete r.helmetData}return s?F.createElement(D0,{...r,context:s.value}):F.createElement(Y_.Consumer,null,a=>F.createElement(D0,{...r,context:a}))}},cn(Zm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Zm);const YT=1,ZT=1e6;let jm=0;function JT(){return jm=(jm+1)%Number.MAX_SAFE_INTEGER,jm.toString()}const bm=new Map,L0=e=>{if(bm.has(e))return;const t=setTimeout(()=>{bm.delete(e),Zl({type:"REMOVE_TOAST",toastId:e})},ZT);bm.set(e,t)},XT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,YT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?L0(r):e.toasts.forEach(s=>{L0(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},hu=[];let fu={toasts:[]};function Zl(e){fu=XT(fu,e),hu.forEach(t=>{t(fu)})}function eA({...e}){const t=JT(),r=a=>Zl({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Zl({type:"DISMISS_TOAST",toastId:t});return Zl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function sn(){const[e,t]=m.useState(fu);return m.useEffect(()=>(hu.push(t),()=>{const r=hu.indexOf(t);r>-1&&hu.splice(r,1)}),[e]),{...e,toast:eA,dismiss:r=>Zl({type:"DISMISS_TOAST",toastId:r})}}function re(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function tA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Hh(...e){return t=>e.forEach(r=>tA(r,t))}function Fe(...e){return m.useCallback(Hh(...e),e)}function rA(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:p,...y}=u,v=(f==null?void 0:f[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})}function h(u,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,sA(a,...t)]}function sA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Rn=m.forwardRef((e,t)=>{const{children:r,...s}=e,a=m.Children.toArray(r),i=a.find(nA);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return n.jsx(Qp,{...s,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return n.jsx(Qp,{...s,ref:t,children:r})});Rn.displayName="Slot";var Qp=m.forwardRef((e,t)=>{const{children:r,...s}=e;if(m.isValidElement(r)){const a=iA(r);return m.cloneElement(r,{...aA(s,r.props),ref:t?Hh(t,a):a})}return m.Children.count(r)>1?m.Children.only(null):null});Qp.displayName="SlotClone";var J_=({children:e})=>n.jsx(n.Fragment,{children:e});function nA(e){return m.isValidElement(e)&&e.type===J_}function aA(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function iA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xc(e){const t=e+"CollectionProvider",[r,s]=rA(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:v}=p,w=F.useRef(null),g=F.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:g,collectionRef:w,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=F.forwardRef((p,y)=>{const{scope:v,children:w}=p,g=i(l,v),x=Fe(y,g.collectionRef);return n.jsx(Rn,{ref:x,children:w})});c.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",u=F.forwardRef((p,y)=>{const{scope:v,children:w,...g}=p,x=F.useRef(null),j=Fe(y,x),b=i(d,v);return F.useEffect(()=>(b.itemMap.set(x,{ref:x,...g}),()=>void b.itemMap.delete(x))),n.jsx(Rn,{[h]:"",ref:j,children:w})});u.displayName=d;function f(p){const y=i(e+"CollectionConsumer",p);return F.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const g=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((b,S)=>g.indexOf(b.ref.current)-g.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:u},f,s]}function oA(e,t){const r=m.createContext(t),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function br(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=u=>{var g;const{scope:f,children:p,...y}=u,v=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,w=m.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})};d.displayName=i+"Provider";function h(u,f){var v;const p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,lA(a,...t)]}function lA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var cA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=cA.reduce((e,t)=>{const r=m.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Rn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Kx(e,t){e&&Ci.flushSync(()=>e.dispatchEvent(t))}function Wt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function dA(e,t=globalThis==null?void 0:globalThis.document){const r=Wt(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var uA="DismissableLayer",Yp="dismissableLayer.update",hA="dismissableLayer.pointerDownOutside",fA="dismissableLayer.focusOutside",F0,X_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ed=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(X_),[h,u]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Fe(t,C=>u(C)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(w),x=h?v.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,b=x>=g,S=pA(C=>{const N=C.target,A=[...d.branches].some(k=>k.contains(N));!b||A||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),_=gA(C=>{const N=C.target;[...d.branches].some(k=>k.contains(N))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return dA(C=>{x===d.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),m.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(F0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),$0(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=F0)}},[h,f,r,d]),m.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),$0())},[h,d]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(Yp,C),()=>document.removeEventListener(Yp,C)},[]),n.jsx(me.div,{...c,ref:y,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,_.onFocusCapture),onBlurCapture:re(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,S.onPointerDownCapture)})});ed.displayName=uA;var mA="DismissableLayerBranch",e1=m.forwardRef((e,t)=>{const r=m.useContext(X_),s=m.useRef(null),a=Fe(t,s);return m.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(me.div,{...e,ref:a})});e1.displayName=mA;function pA(e,t=globalThis==null?void 0:globalThis.document){const r=Wt(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){t1(hA,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function gA(e,t=globalThis==null?void 0:globalThis.document){const r=Wt(e),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&t1(fA,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function $0(){const e=new CustomEvent(Yp);document.dispatchEvent(e)}function t1(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Kx(a,i):a.dispatchEvent(i)}var xA=ed,vA=e1,Dt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},yA="Portal",td=m.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=m.useState(!1);Dt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?q_.createPortal(n.jsx(me.div,{...s,ref:t}),o):null});td.displayName=yA;function wA(e,t){return m.useReducer((r,s)=>t[r][s]??r,e)}var zr=e=>{const{present:t,children:r}=e,s=jA(t),a=typeof r=="function"?r({present:s.isPresent}):m.Children.only(r),i=Fe(s.ref,bA(a));return typeof r=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};zr.displayName="Presence";function jA(e){const[t,r]=m.useState(),s=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Fd(s.current);i.current=l==="mounted"?d:"none"},[l]),Dt(()=>{const d=s.current,h=a.current;if(h!==e){const f=i.current,p=Fd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Dt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=p=>{const v=Fd(s.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(i.current=Fd(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Fd(e){return(e==null?void 0:e.animationName)||"none"}function bA(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ir({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=_A({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Wt(r),c=m.useCallback(d=>{if(i){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else a(d)},[i,e,a,l]);return[o,c]}function _A({defaultProp:e,onChange:t}){const r=m.useState(e),[s]=r,a=m.useRef(s),i=Wt(t);return m.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var NA="VisuallyHidden",Kh=m.forwardRef((e,t)=>n.jsx(me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Kh.displayName=NA;var Gx="ToastProvider",[Qx,CA,SA]=Xc("Toast"),[r1,w9]=br("Toast",[SA]),[kA,Gh]=r1(Gx),s1=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,h]=m.useState(0),u=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gx}\`. Expected non-empty \`string\`.`),n.jsx(Qx.Provider,{scope:t,children:n.jsx(kA,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>h(p=>p+1),[]),onToastRemove:m.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};s1.displayName=Gx;var n1="ToastViewport",EA=["F8"],Zp="toast.viewportPause",Jp="toast.viewportResume",a1=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=EA,label:a="Notifications ({hotkey})",...i}=e,o=Gh(n1,r),l=CA(r),c=m.useRef(null),d=m.useRef(null),h=m.useRef(null),u=m.useRef(null),f=Fe(t,u,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;m.useEffect(()=>{const w=g=>{var j;s.length!==0&&s.every(b=>g[b]||g.code===b)&&((j=u.current)==null||j.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),m.useEffect(()=>{const w=c.current,g=u.current;if(y&&w&&g){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Zp);g.dispatchEvent(_),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Jp);g.dispatchEvent(_),o.isClosePausedRef.current=!1}},b=_=>{!w.contains(_.relatedTarget)&&j()},S=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",x),w.addEventListener("focusout",b),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",j)}}},[y,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:w})=>{const x=l().map(j=>{const b=j.ref.current,S=[b,...zA(b)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const w=u.current;if(w){const g=x=>{var S,_,C;const j=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!j){const N=document.activeElement,A=x.shiftKey;if(x.target===w&&A){(S=d.current)==null||S.focus();return}const P=v({tabbingDirection:A?"backwards":"forwards"}),$=P.findIndex(D=>D===N);_m(P.slice($+1))?x.preventDefault():A?(_=d.current)==null||_.focus():(C=h.current)==null||C.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,v]),n.jsxs(vA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(Xp,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});_m(w)}}),n.jsx(Qx.Slot,{scope:r,children:n.jsx(me.ol,{tabIndex:-1,...i,ref:f})}),y&&n.jsx(Xp,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});_m(w)}})]})});a1.displayName=n1;var i1="ToastFocusProxy",Xp=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Gh(i1,r);return n.jsx(Kh,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});Xp.displayName=i1;var Qh="Toast",RA="toast.swipeStart",PA="toast.swipeMove",TA="toast.swipeCancel",AA="toast.swipeEnd",o1=m.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Ir({prop:s,defaultProp:a,onChange:i});return n.jsx(zr,{present:r||l,children:n.jsx(IA,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Wt(e.onPause),onResume:Wt(e.onResume),onSwipeStart:re(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:re(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});o1.displayName=Qh;var[OA,MA]=r1(Qh,{onClose(){}}),IA=m.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:p,...y}=e,v=Gh(Qh,r),[w,g]=m.useState(null),x=Fe(t,D=>g(D)),j=m.useRef(null),b=m.useRef(null),S=a||v.duration,_=m.useRef(0),C=m.useRef(S),N=m.useRef(0),{onToastAdd:A,onToastRemove:k}=v,T=Wt(()=>{var q;(w==null?void 0:w.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),o()}),P=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),_.current=new Date().getTime(),N.current=window.setTimeout(T,D))},[T]);m.useEffect(()=>{const D=v.viewport;if(D){const q=()=>{P(C.current),d==null||d()},B=()=>{const te=new Date().getTime()-_.current;C.current=C.current-te,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Zp,B),D.addEventListener(Jp,q),()=>{D.removeEventListener(Zp,B),D.removeEventListener(Jp,q)}}},[v.viewport,S,c,d,P]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(S)},[i,S,v.isClosePausedRef,P]),m.useEffect(()=>(A(),()=>k()),[A,k]);const $=m.useMemo(()=>w?m1(w):null,[w]);return v.viewport?n.jsxs(n.Fragment,{children:[$&&n.jsx(DA,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),n.jsx(OA,{scope:r,onClose:T,children:Ci.createPortal(n.jsx(Qx.ItemSlot,{scope:r,children:n.jsx(xA,{asChild:!0,onEscapeKeyDown:re(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:re(e.onPointerDown,D=>{D.button===0&&(j.current={x:D.clientX,y:D.clientY})}),onPointerMove:re(e.onPointerMove,D=>{if(!j.current)return;const q=D.clientX-j.current.x,B=D.clientY-j.current.y,te=!!b.current,O=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Z=O?L(0,q):0,K=O?0:L(0,B),oe=D.pointerType==="touch"?10:2,ye={x:Z,y:K},ke={originalEvent:D,delta:ye};te?(b.current=ye,$d(PA,u,ke,{discrete:!1})):U0(ye,v.swipeDirection,oe)?(b.current=ye,$d(RA,h,ke,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(q)>oe||Math.abs(B)>oe)&&(j.current=null)}),onPointerUp:re(e.onPointerUp,D=>{const q=b.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),b.current=null,j.current=null,q){const te=D.currentTarget,O={originalEvent:D,delta:q};U0(q,v.swipeDirection,v.swipeThreshold)?$d(AA,p,O,{discrete:!0}):$d(TA,f,O,{discrete:!0}),te.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),DA=e=>{const{__scopeToast:t,children:r,...s}=e,a=Gh(Qh,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return $A(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(td,{asChild:!0,children:n.jsx(Kh,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},LA="ToastTitle",l1=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(me.div,{...s,ref:t})});l1.displayName=LA;var FA="ToastDescription",c1=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(me.div,{...s,ref:t})});c1.displayName=FA;var d1="ToastAction",u1=m.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(f1,{altText:r,asChild:!0,children:n.jsx(Yx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${d1}\`. Expected non-empty \`string\`.`),null)});u1.displayName=d1;var h1="ToastClose",Yx=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=MA(h1,r);return n.jsx(f1,{asChild:!0,children:n.jsx(me.button,{type:"button",...s,ref:t,onClick:re(e.onClick,a.onClose)})})});Yx.displayName=h1;var f1=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function m1(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),UA(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...m1(s))}}),t}function $d(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Kx(a,i):a.dispatchEvent(i)}var U0=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function $A(e=()=>{}){const t=Wt(e);Dt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function UA(e){return e.nodeType===e.ELEMENT_NODE}function zA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _m(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var VA=s1,p1=a1,g1=o1,x1=l1,v1=c1,y1=u1,w1=Yx;function j1(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=j1(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function b1(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=j1(e))&&(s&&(s+=" "),s+=t);return s}const z0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,V0=b1,Yo=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return V0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const h=r==null?void 0:r[d],u=i==null?void 0:i[d];if(h===null)return null;const f=z0(h)||z0(u);return a[d][f]}),l=r&&Object.entries(r).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,h)=>{let{class:u,className:f,...p}=h;return Object.entries(p).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,u,f]:d},[]);return V0(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_1=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...qA,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:_1("lucide",a),...l},[...o.map(([d,h])=>m.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=m.forwardRef(({className:s,...a},i)=>m.createElement(WA,{ref:i,iconNode:t,className:_1(`lucide-${BA(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=se("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=se("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=se("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=se("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=se("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=se("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=se("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=se("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=se("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=se("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=se("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=se("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=se("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=se("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=se("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=se("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=se("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=se("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),av="-",m4=e=>{const t=g4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(av);return l[0]===""&&l.length!==1&&l.shift(),$1(l,t)||p4(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},$1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?$1(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(av);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},H0=/^\[(.+)\]$/,p4=e=>{if(H0.test(e)){const t=H0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},g4=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return v4(Object.entries(e.classGroups),r).forEach(([i,o])=>{sg(o,s,i,t)}),s},sg=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:K0(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(x4(a)){sg(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{sg(o,K0(t,i),r,s)})})},K0=(e,t)=>{let r=e;return t.split(av).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},x4=e=>e.isThemeGetter,v4=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,y4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},U1="!",w4=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,h=0,u;for(let w=0;w<l.length;w++){let g=l[w];if(d===0){if(g===a&&(s||l.slice(w,w+i)===t)){c.push(l.slice(h,w)),h=w+i;continue}if(g==="/"){u=w;continue}}g==="["?d++:g==="]"&&d--}const f=c.length===0?l:l.substring(h),p=f.startsWith(U1),y=p?f.substring(1):f,v=u&&u>h?u-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},j4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},b4=e=>({cache:y4(e.cacheSize),parseClassName:w4(e),...m4(e)}),_4=/\s+/,N4=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(_4);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:p}=r(d);let y=!!p,v=s(y?f.substring(0,p):f);if(!v){if(!y){l=d+(l.length>0?" "+l:l);continue}if(v=s(f),!v){l=d+(l.length>0?" "+l:l);continue}y=!1}const w=j4(h).join(":"),g=u?w+U1:w,x=g+v;if(i.includes(x))continue;i.push(x);const j=a(v,y);for(let b=0;b<j.length;++b){const S=j[b];i.push(g+S)}l=d+(l.length>0?" "+l:l)}return l};function C4(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=z1(t))&&(s&&(s+=" "),s+=r);return s}const z1=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=z1(e[s]))&&(r&&(r+=" "),r+=t);return r};function S4(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((h,u)=>u(h),e());return r=b4(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const h=N4(c,r);return a(c,h),h}return function(){return i(C4.apply(null,arguments))}}const lt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},V1=/^\[(?:([a-z-]+):)?(.+)\]$/i,k4=/^\d+\/\d+$/,E4=new Set(["px","full","screen"]),R4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dn=e=>ho(e)||E4.has(e)||k4.test(e),Hn=e=>Zo(e,"length",z4),ho=e=>!!e&&!Number.isNaN(Number(e)),Nm=e=>Zo(e,"number",ho),Nl=e=>!!e&&Number.isInteger(Number(e)),M4=e=>e.endsWith("%")&&ho(e.slice(0,-1)),Ae=e=>V1.test(e),Kn=e=>R4.test(e),I4=new Set(["length","size","percentage"]),D4=e=>Zo(e,I4,B1),L4=e=>Zo(e,"position",B1),F4=new Set(["image","url"]),$4=e=>Zo(e,F4,B4),U4=e=>Zo(e,"",V4),Cl=()=>!0,Zo=(e,t,r)=>{const s=V1.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},z4=e=>P4.test(e)&&!T4.test(e),B1=()=>!1,V4=e=>A4.test(e),B4=e=>O4.test(e),q4=()=>{const e=lt("colors"),t=lt("spacing"),r=lt("blur"),s=lt("brightness"),a=lt("borderColor"),i=lt("borderRadius"),o=lt("borderSpacing"),l=lt("borderWidth"),c=lt("contrast"),d=lt("grayscale"),h=lt("hueRotate"),u=lt("invert"),f=lt("gap"),p=lt("gradientColorStops"),y=lt("gradientColorStopPositions"),v=lt("inset"),w=lt("margin"),g=lt("opacity"),x=lt("padding"),j=lt("saturate"),b=lt("scale"),S=lt("sepia"),_=lt("skew"),C=lt("space"),N=lt("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Ae,t],P=()=>[Ae,t],$=()=>["",dn,Hn],D=()=>["auto",ho,Ae],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ae],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[ho,Ae];return{cacheSize:500,separator:":",theme:{colors:[Cl],spacing:[dn,Hn],blur:["none","",Kn,Ae],brightness:K(),borderColor:[e],borderRadius:["none","","full",Kn,Ae],borderSpacing:P(),borderWidth:$(),contrast:K(),grayscale:L(),hueRotate:K(),invert:L(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[M4,Hn],inset:T(),margin:T(),opacity:K(),padding:P(),saturate:K(),scale:K(),sepia:L(),skew:K(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Kn]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Ae]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nl,Ae]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Nl,Ae]}],"grid-cols":[{"grid-cols":[Cl]}],"col-start-end":[{col:["auto",{span:["full",Nl,Ae]},Ae]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Cl]}],"row-start-end":[{row:["auto",{span:[Nl,Ae]},Ae]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[Kn]},Kn]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nm]}],"font-family":[{font:[Cl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",ho,Nm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dn,Hn]}],"underline-offset":[{"underline-offset":["auto",dn,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),L4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[dn,Ae]}],"outline-w":[{outline:[dn,Hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[dn,Hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kn,U4]}],"shadow-color":[{shadow:[Cl]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kn,Ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Nl,Ae]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[dn,Hn,Nm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W4=S4(q4);function J(...e){return W4(b1(e))}const H4=VA,q1=m.forwardRef(({className:e,...t},r)=>n.jsx(p1,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));q1.displayName=p1.displayName;const K4=Yo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),W1=m.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(g1,{ref:s,className:J(K4({variant:t}),e),...r}));W1.displayName=g1.displayName;const G4=m.forwardRef(({className:e,...t},r)=>n.jsx(y1,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));G4.displayName=y1.displayName;const H1=m.forwardRef(({className:e,...t},r)=>n.jsx(w1,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(nd,{className:"h-4 w-4"})}));H1.displayName=w1.displayName;const K1=m.forwardRef(({className:e,...t},r)=>n.jsx(x1,{ref:r,className:J("text-sm font-semibold",e),...t}));K1.displayName=x1.displayName;const G1=m.forwardRef(({className:e,...t},r)=>n.jsx(v1,{ref:r,className:J("text-sm opacity-90",e),...t}));G1.displayName=v1.displayName;function Q4(){const{toasts:e}=sn();return n.jsxs(H4,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(W1,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(K1,{children:r}),s&&n.jsx(G1,{children:s})]}),a,n.jsx(H1,{})]},t)}),n.jsx(q1,{})]})}var G0=["light","dark"],Y4="(prefers-color-scheme: dark)",Z4=m.createContext(void 0),J4={setTheme:e=>{},themes:[]},X4=()=>{var e;return(e=m.useContext(Z4))!=null?e:J4};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,u=a?G0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,v=!1,w=!0)=>{let g=o?o[y]:y,x=v?y+"|| ''":`'${g}'`,j="";return a&&w&&!v&&G0.includes(y)&&(j+=`d.style.colorScheme = '${y}';`),r==="class"?v||g?j+=`c.add(${x})`:j+="null":g&&(j+=`d[s](n,${x})`),j},p=e?`!function(){${h}${f(e)}}()`:s?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Y4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${u}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var eO=e=>{switch(e){case"success":return sO;case"info":return aO;case"warning":return nO;case"error":return iO;default:return null}},tO=Array(12).fill(0),rO=({visible:e})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},F.createElement("div",{className:"sonner-spinner"},tO.map((t,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),sO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iO=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oO=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ng=1,lO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ng++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(dO(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||ng++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Er=new lO,cO=(e,t)=>{let r=(t==null?void 0:t.id)||ng++;return Er.addToast({title:e,...t,id:r}),r},dO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uO=cO,hO=()=>Er.toasts,z=Object.assign(uO,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:hO});function fO(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}fO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ud(e){return e.label!==void 0}var mO=3,pO="32px",gO=4e3,xO=356,vO=14,yO=20,wO=200;function jO(...e){return e.filter(Boolean).join(" ")}var bO=e=>{var t,r,s,a,i,o,l,c,d,h;let{invert:u,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:w,heights:g,index:x,toasts:j,expanded:b,removeToast:S,defaultRichColors:_,closeButton:C,style:N,cancelButtonStyle:A,actionButtonStyle:k,className:T="",descriptionClassName:P="",duration:$,position:D,gap:q,loadingIcon:B,expandByDefault:te,classNames:O,icons:L,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:K,cn:oe}=e,[ye,ke]=F.useState(!1),[at,ce]=F.useState(!1),[ae,Ee]=F.useState(!1),[De,Re]=F.useState(!1),[ze,Le]=F.useState(0),[St,Ht]=F.useState(0),ln=F.useRef(null),Cr=F.useRef(null),Vn=x===0,E=x+1<=w,I=f.type,U=f.dismissible!==!1,ne=f.className||"",ee=f.descriptionClassName||"",G=F.useMemo(()=>g.findIndex(Te=>Te.toastId===f.id)||0,[g,f.id]),ge=F.useMemo(()=>{var Te;return(Te=f.closeButton)!=null?Te:C},[f.closeButton,C]),Pe=F.useMemo(()=>f.duration||$||gO,[f.duration,$]),jt=F.useRef(0),it=F.useRef(0),Ts=F.useRef(0),Bn=F.useRef(null),[Pi,ul]=D.split("-"),xd=F.useMemo(()=>g.reduce((Te,ot,rt)=>rt>=G?Te:Te+ot.height,0),[g,G]),hl=oO(),qf=f.invert||u,Ti=I==="loading";it.current=F.useMemo(()=>G*q+xd,[G,xd]),F.useEffect(()=>{ke(!0)},[]),F.useLayoutEffect(()=>{if(!ye)return;let Te=Cr.current,ot=Te.style.height;Te.style.height="auto";let rt=Te.getBoundingClientRect().height;Te.style.height=ot,Ht(rt),v(As=>As.find(Os=>Os.toastId===f.id)?As.map(Os=>Os.toastId===f.id?{...Os,height:rt}:Os):[{toastId:f.id,height:rt,position:f.position},...As])},[ye,f.title,f.description,v,f.id]);let qn=F.useCallback(()=>{ce(!0),Le(it.current),v(Te=>Te.filter(ot=>ot.toastId!==f.id)),setTimeout(()=>{S(f)},wO)},[f,S,v,it]);F.useEffect(()=>{if(f.promise&&I==="loading"||f.duration===1/0||f.type==="loading")return;let Te,ot=Pe;return b||y||K&&hl?(()=>{if(Ts.current<jt.current){let rt=new Date().getTime()-jt.current;ot=ot-rt}Ts.current=new Date().getTime()})():ot!==1/0&&(jt.current=new Date().getTime(),Te=setTimeout(()=>{var rt;(rt=f.onAutoClose)==null||rt.call(f,f),qn()},ot)),()=>clearTimeout(Te)},[b,y,te,f,Pe,qn,f.promise,I,K,hl]),F.useEffect(()=>{let Te=Cr.current;if(Te){let ot=Te.getBoundingClientRect().height;return Ht(ot),v(rt=>[{toastId:f.id,height:ot,position:f.position},...rt]),()=>v(rt=>rt.filter(As=>As.toastId!==f.id))}},[v,f.id]),F.useEffect(()=>{f.delete&&qn()},[qn,f.delete]);function q2(){return L!=null&&L.loading?F.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},L.loading):B?F.createElement("div",{className:"sonner-loader","data-visible":I==="loading"},B):F.createElement(rO,{visible:I==="loading"})}return F.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Cr,className:oe(T,ne,O==null?void 0:O.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[I],(r=f==null?void 0:f.classNames)==null?void 0:r[I]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:_,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ye,"data-promise":!!f.promise,"data-removed":at,"data-visible":E,"data-y-position":Pi,"data-x-position":ul,"data-index":x,"data-front":Vn,"data-swiping":ae,"data-dismissible":U,"data-type":I,"data-invert":qf,"data-swipe-out":De,"data-expanded":!!(b||te&&ye),style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${at?ze:it.current}px`,"--initial-height":te?"auto":`${St}px`,...N,...f.style},onPointerDown:Te=>{Ti||!U||(ln.current=new Date,Le(it.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Ee(!0),Bn.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,ot,rt,As;if(De||!U)return;Bn.current=null;let Os=Number(((Te=Cr.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount").replace("px",""))||0),vd=new Date().getTime()-((ot=ln.current)==null?void 0:ot.getTime()),W2=Math.abs(Os)/vd;if(Math.abs(Os)>=yO||W2>.11){Le(it.current),(rt=f.onDismiss)==null||rt.call(f,f),qn(),Re(!0);return}(As=Cr.current)==null||As.style.setProperty("--swipe-amount","0px"),Ee(!1)},onPointerMove:Te=>{var ot;if(!Bn.current||!U)return;let rt=Te.clientY-Bn.current.y,As=Te.clientX-Bn.current.x,Os=(Pi==="top"?Math.min:Math.max)(0,rt),vd=Te.pointerType==="touch"?10:2;Math.abs(Os)>vd?(ot=Cr.current)==null||ot.style.setProperty("--swipe-amount",`${rt}px`):Math.abs(As)>vd&&(Bn.current=null)}},ge&&!f.jsx?F.createElement("button",{"aria-label":Z,"data-disabled":Ti,"data-close-button":!0,onClick:Ti||!U?()=>{}:()=>{var Te;qn(),(Te=f.onDismiss)==null||Te.call(f,f)},className:oe(O==null?void 0:O.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||F.isValidElement(f.title)?f.jsx||f.title:F.createElement(F.Fragment,null,I||f.icon||f.promise?F.createElement("div",{"data-icon":"",className:oe(O==null?void 0:O.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||q2():null,f.type!=="loading"?f.icon||(L==null?void 0:L[I])||eO(I):null):null,F.createElement("div",{"data-content":"",className:oe(O==null?void 0:O.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:oe(O==null?void 0:O.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?F.createElement("div",{"data-description":"",className:oe(P,ee,O==null?void 0:O.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),F.isValidElement(f.cancel)?f.cancel:f.cancel&&Ud(f.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||A,onClick:Te=>{var ot,rt;Ud(f.cancel)&&U&&((rt=(ot=f.cancel).onClick)==null||rt.call(ot,Te),qn())},className:oe(O==null?void 0:O.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,F.isValidElement(f.action)?f.action:f.action&&Ud(f.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:Te=>{var ot,rt;Ud(f.action)&&(Te.defaultPrevented||((rt=(ot=f.action).onClick)==null||rt.call(ot,Te),qn()))},className:oe(O==null?void 0:O.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Q0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var _O=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:h,style:u,visibleToasts:f=mO,toastOptions:p,dir:y=Q0(),gap:v=vO,loadingIcon:w,icons:g,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:j,cn:b=jO}=e,[S,_]=F.useState([]),C=F.useMemo(()=>Array.from(new Set([r].concat(S.filter(K=>K.position).map(K=>K.position)))),[S,r]),[N,A]=F.useState([]),[k,T]=F.useState(!1),[P,$]=F.useState(!1),[D,q]=F.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=F.useRef(null),te=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=F.useRef(null),L=F.useRef(!1),Z=F.useCallback(K=>{var oe;(oe=S.find(ye=>ye.id===K.id))!=null&&oe.delete||Er.dismiss(K.id),_(ye=>ye.filter(({id:ke})=>ke!==K.id))},[S]);return F.useEffect(()=>Er.subscribe(K=>{if(K.dismiss){_(oe=>oe.map(ye=>ye.id===K.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{q_.flushSync(()=>{_(oe=>{let ye=oe.findIndex(ke=>ke.id===K.id);return ye!==-1?[...oe.slice(0,ye),{...oe[ye],...K},...oe.slice(ye+1)]:[K,...oe]})})})}),[]),F.useEffect(()=>{if(c!=="system"){q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{q(K?"dark":"light")})},[c]),F.useEffect(()=>{S.length<=1&&T(!1)},[S]),F.useEffect(()=>{let K=oe=>{var ye,ke;s.every(at=>oe[at]||oe.code===at)&&(T(!0),(ye=B.current)==null||ye.focus()),oe.code==="Escape"&&(document.activeElement===B.current||(ke=B.current)!=null&&ke.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),F.useEffect(()=>{if(B.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[B.current]),S.length?F.createElement("section",{"aria-label":`${x} ${te}`,tabIndex:-1},C.map((K,oe)=>{var ye;let[ke,at]=K.split("-");return F.createElement("ol",{key:K,dir:y==="auto"?Q0():y,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":ke,"data-x-position":at,style:{"--front-toast-height":`${((ye=N[0])==null?void 0:ye.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||pO,"--width":`${xO}px`,"--gap":`${v}px`,...u},onBlur:ce=>{L.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=ce.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{P||T(!1)},onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},S.filter(ce=>!ce.position&&oe===0||ce.position===K).map((ce,ae)=>{var Ee,De;return F.createElement(bO,{key:ce.id,icons:g,index:ae,toast:ce,defaultRichColors:d,duration:(Ee=p==null?void 0:p.duration)!=null?Ee:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:f,closeButton:(De=p==null?void 0:p.closeButton)!=null?De:i,interacting:P,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:S.filter(Re=>Re.position==ce.position),heights:N.filter(Re=>Re.position==ce.position),setHeights:A,expandByDefault:a,gap:v,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:j,cn:b})}))})):null};const NO=({...e})=>{const{theme:t="system"}=X4();return n.jsx(_O,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Jo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hi=typeof window>"u"||"Deno"in globalThis;function Wr(){}function CO(e,t){return typeof e=="function"?e(t):e}function ag(e){return typeof e=="number"&&e>=0&&e!==1/0}function Q1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fo(e,t){return typeof e=="function"?e(t):e}function ps(e,t){return typeof e=="function"?e(t):e}function Y0(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==iv(o,t.options))return!1}else if(!Cc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Z0(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(fi(t.options.mutationKey)!==fi(i))return!1}else if(!Cc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function iv(e,t){return((t==null?void 0:t.queryKeyHashFn)||fi)(e)}function fi(e){return JSON.stringify(e,(t,r)=>ig(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Cc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Cc(e[r],t[r])):!1}function Y1(e,t){if(e===t)return e;const r=J0(e)&&J0(t);if(r||ig(e)&&ig(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&s.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,c++):(l[h]=Y1(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Hu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function J0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ig(e){if(!X0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!X0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function X0(e){return Object.prototype.toString.call(e)==="[object Object]"}function SO(e){return new Promise(t=>{setTimeout(t,e)})}function og(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y1(e,t):t}function kO(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function EO(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var ov=Symbol();function Z1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ov?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Za,aa,yo,jj,RO=(jj=class extends Jo{constructor(){super();ve(this,Za);ve(this,aa);ve(this,yo);le(this,yo,t=>{if(!hi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,aa)||this.setEventListener(R(this,yo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,aa))==null||t.call(this),le(this,aa,void 0))}setEventListener(t){var r;le(this,yo,t),(r=R(this,aa))==null||r.call(this),le(this,aa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){R(this,Za)!==t&&(le(this,Za,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,Za)=="boolean"?R(this,Za):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Za=new WeakMap,aa=new WeakMap,yo=new WeakMap,jj),lv=new RO,wo,ia,jo,bj,PO=(bj=class extends Jo{constructor(){super();ve(this,wo,!0);ve(this,ia);ve(this,jo);le(this,jo,t=>{if(!hi&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){R(this,ia)||this.setEventListener(R(this,jo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,ia))==null||t.call(this),le(this,ia,void 0))}setEventListener(t){var r;le(this,jo,t),(r=R(this,ia))==null||r.call(this),le(this,ia,t(this.setOnline.bind(this)))}setOnline(t){R(this,wo)!==t&&(le(this,wo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return R(this,wo)}},wo=new WeakMap,ia=new WeakMap,jo=new WeakMap,bj),Ku=new PO;function lg(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function TO(e){return Math.min(1e3*2**e,3e4)}function J1(e){return(e??"online")==="online"?Ku.isOnline():!0}var X1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Cm(e){return e instanceof X1}function eN(e){let t=!1,r=0,s=!1,a;const i=lg(),o=v=>{var w;s||(f(new X1(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>lv.isFocused()&&(e.networkMode==="always"||Ku.isOnline())&&e.canRun(),h=()=>J1(e.networkMode)&&e.canRun(),u=v=>{var w;s||(s=!0,(w=e.onSuccess)==null||w.call(e,v),a==null||a(),i.resolve(v))},f=v=>{var w;s||(s=!0,(w=e.onError)==null||w.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var w;a=g=>{(s||d())&&v(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;a=void 0,s||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(s)return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(u).catch(g=>{var _;if(s)return;const x=e.retry??(hi?0:3),j=e.retryDelay??TO,b=typeof j=="function"?j(r,g):j,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!S){f(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),SO(b).then(()=>d()?void 0:p()).then(()=>{t?f(g):y()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?y():p().then(y),i)}}function AO(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var Mt=AO(),Ja,_j,tN=(_j=class{constructor(){ve(this,Ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ag(this.gcTime)&&le(this,Ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hi?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ja)&&(clearTimeout(R(this,Ja)),le(this,Ja,void 0))}},Ja=new WeakMap,_j),bo,_o,qr,Qt,Bc,Xa,us,hn,Nj,OO=(Nj=class extends tN{constructor(t){super();ve(this,us);ve(this,bo);ve(this,_o);ve(this,qr);ve(this,Qt);ve(this,Bc);ve(this,Xa);le(this,Xa,!1),le(this,Bc,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,qr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,bo,MO(this.options)),this.state=t.state??R(this,bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,Qt))==null?void 0:t.promise}setOptions(t){this.options={...R(this,Bc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,qr).remove(this)}setData(t,r){const s=og(this.state.data,t,this.options);return Me(this,us,hn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Me(this,us,hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=R(this,Qt))==null?void 0:s.promise;return(a=R(this,Qt))==null||a.cancel(t),r?r.then(Wr).catch(Wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,bo))}isActive(){return this.observers.some(t=>ps(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ov||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Q1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,Qt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,Qt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,Qt)&&(R(this,Xa)?R(this,Qt).cancel({revert:!0}):R(this,Qt).cancelRetry()),this.scheduleGc()),R(this,qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Me(this,us,hn).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Qt))return R(this,Qt).continueRetry(),R(this,Qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const s=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(le(this,Xa,!0),s.signal)})},i=()=>{const u=Z1(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),le(this,Xa,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),le(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Me(this,us,hn).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=u=>{var f,p,y,v;Cm(u)&&u.silent||Me(this,us,hn).call(this,{type:"error",error:u}),Cm(u)||((p=(f=R(this,qr).config).onError)==null||p.call(f,u,this),(v=(y=R(this,qr).config).onSettled)==null||v.call(y,this.state.data,u,this)),this.scheduleGc()};return le(this,Qt,eN({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:u=>{var f,p,y,v;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(w){l(w);return}(p=(f=R(this,qr).config).onSuccess)==null||p.call(f,u,this),(v=(y=R(this,qr).config).onSettled)==null||v.call(y,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,f)=>{Me(this,us,hn).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{Me(this,us,hn).call(this,{type:"pause"})},onContinue:()=>{Me(this,us,hn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),R(this,Qt).start()}},bo=new WeakMap,_o=new WeakMap,qr=new WeakMap,Qt=new WeakMap,Bc=new WeakMap,Xa=new WeakMap,us=new WeakSet,hn=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...rN(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Cm(a)&&a.revert&&R(this,_o)?{...R(this,_o),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),R(this,qr).notify({query:this,type:"updated",action:t})})},Nj);function rN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fs,Cj,IO=(Cj=class extends Jo{constructor(t={}){super();ve(this,Fs);this.config=t,le(this,Fs,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??iv(a,r);let o=this.get(i);return o||(o=new OO({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){R(this,Fs).has(t.queryHash)||(R(this,Fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Fs).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Fs).get(t)}getAll(){return[...R(this,Fs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Y0(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Y0(t,s)):r}notify(t){Mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fs=new WeakMap,Cj),$s,Xt,ei,Us,Gn,Sj,DO=(Sj=class extends tN{constructor(t){super();ve(this,Us);ve(this,$s);ve(this,Xt);ve(this,ei);this.mutationId=t.mutationId,le(this,Xt,t.mutationCache),le(this,$s,[]),this.state=t.state||sN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,$s).includes(t)||(R(this,$s).push(t),this.clearGcTimeout(),R(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,$s,R(this,$s).filter(r=>r!==t)),this.scheduleGc(),R(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,$s).length||(this.state.status==="pending"?this.scheduleGc():R(this,Xt).remove(this))}continue(){var t;return((t=R(this,ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,h,u,f,p,y,v,w,g,x,j,b,S,_,C;le(this,ei,eN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,A)=>{Me(this,Us,Gn).call(this,{type:"failed",failureCount:N,error:A})},onPause:()=>{Me(this,Us,Gn).call(this,{type:"pause"})},onContinue:()=>{Me(this,Us,Gn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Xt).canRun(this)}));const r=this.state.status==="pending",s=!R(this,ei).canStart();try{if(!r){Me(this,Us,Gn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=R(this,Xt).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&Me(this,Us,Gn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const N=await R(this,ei).start();return await((d=(c=R(this,Xt).config).onSuccess)==null?void 0:d.call(c,N,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,N,t,this.state.context)),await((p=(f=R(this,Xt).config).onSettled)==null?void 0:p.call(f,N,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,N,null,t,this.state.context)),Me(this,Us,Gn).call(this,{type:"success",data:N}),N}catch(N){try{throw await((g=(w=R(this,Xt).config).onError)==null?void 0:g.call(w,N,t,this.state.context,this)),await((j=(x=this.options).onError)==null?void 0:j.call(x,N,t,this.state.context)),await((S=(b=R(this,Xt).config).onSettled)==null?void 0:S.call(b,void 0,N,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,N,t,this.state.context)),N}finally{Me(this,Us,Gn).call(this,{type:"error",error:N})}}finally{R(this,Xt).runNext(this)}}},$s=new WeakMap,Xt=new WeakMap,ei=new WeakMap,Us=new WeakSet,Gn=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{R(this,$s).forEach(s=>{s.onMutationUpdate(t)}),R(this,Xt).notify({mutation:this,type:"updated",action:t})})},Sj);function sN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,qc,kj,LO=(kj=class extends Jo{constructor(t={}){super();ve(this,kr);ve(this,qc);this.config=t,le(this,kr,new Map),le(this,qc,Date.now())}build(t,r,s){const a=new DO({mutationCache:this,mutationId:++yd(this,qc)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=zd(t),s=R(this,kr).get(r)??[];s.push(t),R(this,kr).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=zd(t);if(R(this,kr).has(r)){const a=(s=R(this,kr).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?R(this,kr).delete(r):R(this,kr).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=R(this,kr).get(zd(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=R(this,kr).get(zd(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...R(this,kr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Z0(r,s))}findAll(t={}){return this.getAll().filter(r=>Z0(t,r))}notify(t){Mt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Mt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Wr))))}},kr=new WeakMap,qc=new WeakMap,kj);function zd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ew(e){return{onFetch:(t,r)=>{var h,u,f,p,y;const s=t.options,a=(f=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=Z1(t.options,t.fetchOptions),x=async(j,b,S)=>{if(v)return Promise.reject();if(b==null&&j.pages.length)return Promise.resolve(j);const _={queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};w(_);const C=await g(_),{maxPages:N}=t.options,A=S?EO:kO;return{pages:A(j.pages,C,N),pageParams:A(j.pageParams,b,N)}};if(a&&i.length){const j=a==="backward",b=j?FO:tw,S={pages:i,pageParams:o},_=b(s,S);l=await x(S,_,j)}else{const j=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:tw(s,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function tw(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function FO(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var bt,oa,la,No,Co,ca,So,ko,Ej,$O=(Ej=class{constructor(e={}){ve(this,bt);ve(this,oa);ve(this,la);ve(this,No);ve(this,Co);ve(this,ca);ve(this,So);ve(this,ko);le(this,bt,e.queryCache||new IO),le(this,oa,e.mutationCache||new LO),le(this,la,e.defaultOptions||{}),le(this,No,new Map),le(this,Co,new Map),le(this,ca,0)}mount(){yd(this,ca)._++,R(this,ca)===1&&(le(this,So,lv.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,bt).onFocus())})),le(this,ko,Ku.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,bt).onOnline())})))}unmount(){var e,t;yd(this,ca)._--,R(this,ca)===0&&((e=R(this,So))==null||e.call(this),le(this,So,void 0),(t=R(this,ko))==null||t.call(this),le(this,ko,void 0))}isFetching(e){return R(this,bt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,oa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,bt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=R(this,bt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(fo(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return R(this,bt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=R(this,bt).get(s.queryHash),i=a==null?void 0:a.state.data,o=CO(t,i);if(o!==void 0)return R(this,bt).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Mt.batch(()=>R(this,bt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,bt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,bt);Mt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,bt),s={type:"active",...e};return Mt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Mt.batch(()=>R(this,bt).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Wr).catch(Wr)}invalidateQueries(e={},t={}){return Mt.batch(()=>{if(R(this,bt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=Mt.batch(()=>R(this,bt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Wr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,bt).build(this,t);return r.isStaleByTime(fo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Wr).catch(Wr)}fetchInfiniteQuery(e){return e.behavior=ew(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Wr).catch(Wr)}ensureInfiniteQueryData(e){return e.behavior=ew(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ku.isOnline()?R(this,oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,bt)}getMutationCache(){return R(this,oa)}getDefaultOptions(){return R(this,la)}setDefaultOptions(e){le(this,la,e)}setQueryDefaults(e,t){R(this,No).set(fi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,No).values()];let r={};return t.forEach(s=>{Cc(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){R(this,Co).set(fi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Co).values()];let r={};return t.forEach(s=>{Cc(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,la).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ov&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,la).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,bt).clear(),R(this,oa).clear()}},bt=new WeakMap,oa=new WeakMap,la=new WeakMap,No=new WeakMap,Co=new WeakMap,ca=new WeakMap,So=new WeakMap,ko=new WeakMap,Ej),dr,qe,Wc,er,ti,Eo,da,zs,Hc,Ro,Po,ri,si,ua,To,Ye,Il,cg,dg,ug,hg,fg,mg,pg,nN,Rj,UO=(Rj=class extends Jo{constructor(t,r){super();ve(this,Ye);ve(this,dr);ve(this,qe);ve(this,Wc);ve(this,er);ve(this,ti);ve(this,Eo);ve(this,da);ve(this,zs);ve(this,Hc);ve(this,Ro);ve(this,Po);ve(this,ri);ve(this,si);ve(this,ua);ve(this,To,new Set);this.options=r,le(this,dr,t),le(this,zs,null),le(this,da,lg()),this.options.experimental_prefetchInRender||R(this,da).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,qe).addObserver(this),rw(R(this,qe),this.options)?Me(this,Ye,Il).call(this):this.updateResult(),Me(this,Ye,hg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gg(R(this,qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gg(R(this,qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Me(this,Ye,fg).call(this),Me(this,Ye,mg).call(this),R(this,qe).removeObserver(this)}setOptions(t,r){const s=this.options,a=R(this,qe);if(this.options=R(this,dr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ps(this.options.enabled,R(this,qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Me(this,Ye,pg).call(this),R(this,qe).setOptions(this.options),s._defaulted&&!Hu(this.options,s)&&R(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,qe),observer:this});const i=this.hasListeners();i&&sw(R(this,qe),a,this.options,s)&&Me(this,Ye,Il).call(this),this.updateResult(r),i&&(R(this,qe)!==a||ps(this.options.enabled,R(this,qe))!==ps(s.enabled,R(this,qe))||fo(this.options.staleTime,R(this,qe))!==fo(s.staleTime,R(this,qe)))&&Me(this,Ye,cg).call(this);const o=Me(this,Ye,dg).call(this);i&&(R(this,qe)!==a||ps(this.options.enabled,R(this,qe))!==ps(s.enabled,R(this,qe))||o!==R(this,ua))&&Me(this,Ye,ug).call(this,o)}getOptimisticResult(t){const r=R(this,dr).getQueryCache().build(R(this,dr),t),s=this.createResult(r,t);return VO(this,s)&&(le(this,er,s),le(this,Eo,this.options),le(this,ti,R(this,qe).state)),s}getCurrentResult(){return R(this,er)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){R(this,To).add(t)}getCurrentQuery(){return R(this,qe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=R(this,dr).defaultQueryOptions(t),s=R(this,dr).getQueryCache().build(R(this,dr),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Me(this,Ye,Il).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,er)))}createResult(t,r){var N;const s=R(this,qe),a=this.options,i=R(this,er),o=R(this,ti),l=R(this,Eo),d=t!==s?t.state:R(this,Wc),{state:h}=t;let u={...h},f=!1,p;if(r._optimisticResults){const A=this.hasListeners(),k=!A&&rw(t,r),T=A&&sw(t,s,r,a);(k||T)&&(u={...u,...rN(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:w}=u;if(r.select&&u.data!==void 0)if(i&&u.data===(o==null?void 0:o.data)&&r.select===R(this,Hc))p=R(this,Ro);else try{le(this,Hc,r.select),p=r.select(u.data),p=og(i==null?void 0:i.data,p,r),le(this,Ro,p),le(this,zs,null)}catch(A){le(this,zs,A)}else p=u.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((N=R(this,Po))==null?void 0:N.state.data,R(this,Po)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),le(this,zs,null)}catch(k){le(this,zs,k)}A!==void 0&&(w="success",p=og(i==null?void 0:i.data,A,r),f=!0)}R(this,zs)&&(y=R(this,zs),p=R(this,Ro),v=Date.now(),w="error");const g=u.fetchStatus==="fetching",x=w==="pending",j=w==="error",b=x&&g,S=p!==void 0,C={status:w,fetchStatus:u.fetchStatus,isPending:x,isSuccess:w==="success",isError:j,isInitialLoading:b,isLoading:b,data:p,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:j&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&S,isStale:cv(t,r),refetch:this.refetch,promise:R(this,da)};if(this.options.experimental_prefetchInRender){const A=P=>{C.status==="error"?P.reject(C.error):C.data!==void 0&&P.resolve(C.data)},k=()=>{const P=le(this,da,C.promise=lg());A(P)},T=R(this,da);switch(T.status){case"pending":t.queryHash===s.queryHash&&A(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&k();break}}return C}updateResult(t){const r=R(this,er),s=this.createResult(R(this,qe),this.options);if(le(this,ti,R(this,qe).state),le(this,Eo,this.options),R(this,ti).data!==void 0&&le(this,Po,R(this,qe)),Hu(s,r))return;le(this,er,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!R(this,To).size)return!0;const c=new Set(l??R(this,To));return this.options.throwOnError&&c.add("error"),Object.keys(R(this,er)).some(d=>{const h=d;return R(this,er)[h]!==r[h]&&c.has(h)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Me(this,Ye,nN).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Me(this,Ye,hg).call(this)}},dr=new WeakMap,qe=new WeakMap,Wc=new WeakMap,er=new WeakMap,ti=new WeakMap,Eo=new WeakMap,da=new WeakMap,zs=new WeakMap,Hc=new WeakMap,Ro=new WeakMap,Po=new WeakMap,ri=new WeakMap,si=new WeakMap,ua=new WeakMap,To=new WeakMap,Ye=new WeakSet,Il=function(t){Me(this,Ye,pg).call(this);let r=R(this,qe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Wr)),r},cg=function(){Me(this,Ye,fg).call(this);const t=fo(this.options.staleTime,R(this,qe));if(hi||R(this,er).isStale||!ag(t))return;const s=Q1(R(this,er).dataUpdatedAt,t)+1;le(this,ri,setTimeout(()=>{R(this,er).isStale||this.updateResult()},s))},dg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,qe)):this.options.refetchInterval)??!1},ug=function(t){Me(this,Ye,mg).call(this),le(this,ua,t),!(hi||ps(this.options.enabled,R(this,qe))===!1||!ag(R(this,ua))||R(this,ua)===0)&&le(this,si,setInterval(()=>{(this.options.refetchIntervalInBackground||lv.isFocused())&&Me(this,Ye,Il).call(this)},R(this,ua)))},hg=function(){Me(this,Ye,cg).call(this),Me(this,Ye,ug).call(this,Me(this,Ye,dg).call(this))},fg=function(){R(this,ri)&&(clearTimeout(R(this,ri)),le(this,ri,void 0))},mg=function(){R(this,si)&&(clearInterval(R(this,si)),le(this,si,void 0))},pg=function(){const t=R(this,dr).getQueryCache().build(R(this,dr),this.options);if(t===R(this,qe))return;const r=R(this,qe);le(this,qe,t),le(this,Wc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nN=function(t){Mt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(R(this,er))}),R(this,dr).getQueryCache().notify({query:R(this,qe),type:"observerResultsUpdated"})})},Rj);function zO(e,t){return ps(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rw(e,t){return zO(e,t)||e.state.data!==void 0&&gg(e,t,t.refetchOnMount)}function gg(e,t,r){if(ps(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&cv(e,t)}return!1}function sw(e,t,r,s){return(e!==t||ps(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cv(e,r)}function cv(e,t){return ps(t.enabled,e)!==!1&&e.isStaleByTime(fo(t.staleTime,e))}function VO(e,t){return!Hu(e.getCurrentResult(),t)}var ha,fa,ur,xn,Nn,mu,xg,Pj,BO=(Pj=class extends Jo{constructor(r,s){super();ve(this,Nn);ve(this,ha);ve(this,fa);ve(this,ur);ve(this,xn);le(this,ha,r),this.setOptions(s),this.bindMethods(),Me(this,Nn,mu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=R(this,ha).defaultMutationOptions(r),Hu(this.options,s)||R(this,ha).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,ur),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&fi(s.mutationKey)!==fi(this.options.mutationKey)?this.reset():((a=R(this,ur))==null?void 0:a.state.status)==="pending"&&R(this,ur).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=R(this,ur))==null||r.removeObserver(this)}onMutationUpdate(r){Me(this,Nn,mu).call(this),Me(this,Nn,xg).call(this,r)}getCurrentResult(){return R(this,fa)}reset(){var r;(r=R(this,ur))==null||r.removeObserver(this),le(this,ur,void 0),Me(this,Nn,mu).call(this),Me(this,Nn,xg).call(this)}mutate(r,s){var a;return le(this,xn,s),(a=R(this,ur))==null||a.removeObserver(this),le(this,ur,R(this,ha).getMutationCache().build(R(this,ha),this.options)),R(this,ur).addObserver(this),R(this,ur).execute(r)}},ha=new WeakMap,fa=new WeakMap,ur=new WeakMap,xn=new WeakMap,Nn=new WeakSet,mu=function(){var s;const r=((s=R(this,ur))==null?void 0:s.state)??sN();le(this,fa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},xg=function(r){Mt.batch(()=>{var s,a,i,o,l,c,d,h;if(R(this,xn)&&this.hasListeners()){const u=R(this,fa).variables,f=R(this,fa).context;(r==null?void 0:r.type)==="success"?((a=(s=R(this,xn)).onSuccess)==null||a.call(s,r.data,u,f),(o=(i=R(this,xn)).onSettled)==null||o.call(i,r.data,null,u,f)):(r==null?void 0:r.type)==="error"&&((c=(l=R(this,xn)).onError)==null||c.call(l,r.error,u,f),(h=(d=R(this,xn)).onSettled)==null||h.call(d,void 0,r.error,u,f))}this.listeners.forEach(u=>{u(R(this,fa))})})},Pj),aN=m.createContext(void 0),_r=e=>{const t=m.useContext(aN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qO=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(aN.Provider,{value:e,children:t})),iN=m.createContext(!1),WO=()=>m.useContext(iN);iN.Provider;function HO(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KO=m.createContext(HO()),GO=()=>m.useContext(KO);function oN(e,t){return typeof e=="function"?e(...t):!!e}function lN(){}var QO=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},YO=e=>{m.useEffect(()=>{e.clearReset()},[e])},ZO=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&oN(r,[e.error,s]),JO=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},XO=(e,t)=>e.isLoading&&e.isFetching&&!t,eM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nw=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tM(e,t,r){var h,u,f,p,y;const s=_r(),a=WO(),i=GO(),o=s.defaultQueryOptions(e);(u=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||u.call(h,o),o._optimisticResults=a?"isRestoring":"optimistic",JO(o),QO(o,i),YO(i);const l=!s.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(v=>{const w=a?()=>{}:c.subscribe(Mt.batchCalls(v));return c.updateResult(),w},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),eM(o,d))throw nw(o,c,i);if(ZO({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,o,d),o.experimental_prefetchInRender&&!hi&&XO(d,a)){const v=l?nw(o,c,i):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;v==null||v.catch(lN).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function et(e,t){return tM(e,UO)}function Tt(e,t){const r=_r(),[s]=m.useState(()=>new BO(r,e));m.useEffect(()=>{s.setOptions(e)},[s,e]);const a=m.useSyncExternalStore(m.useCallback(o=>s.subscribe(Mt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=m.useCallback((o,l)=>{s.mutate(o,l).catch(lN)},[s]);if(a.error&&oN(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Sc.apply(this,arguments)}var ga;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ga||(ga={}));const aw="popstate";function rM(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return vg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Gu(a)}return nM(t,r,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sM(){return Math.random().toString(36).substr(2,8)}function iw(e,t){return{usr:e.state,key:e.key,idx:t}}function vg(e,t,r,s){return r===void 0&&(r=null),Sc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xo(t):t,{state:r,key:t&&t.key||s||sM()})}function Gu(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Xo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function nM(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=ga.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Sc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function u(){l=ga.Pop;let w=h(),g=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:g})}function f(w,g){l=ga.Push;let x=vg(v.location,w,g);d=h()+1;let j=iw(x,d),b=v.createHref(x);try{o.pushState(j,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function p(w,g){l=ga.Replace;let x=vg(v.location,w,g);d=h();let j=iw(x,d),b=v.createHref(x);o.replaceState(j,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function y(w){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof w=="string"?w:Gu(w);return x=x.replace(/ $/,"%20"),yt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(aw,u),c=w,()=>{a.removeEventListener(aw,u),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var ow;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ow||(ow={}));function aM(e,t,r){return r===void 0&&(r="/"),iM(e,t,r,!1)}function iM(e,t,r,s){let a=typeof t=="string"?Xo(t):t,i=Uo(a.pathname||"/",r);if(i==null)return null;let o=dN(e);oM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=vM(i);l=gM(o[c],d,s)}return l}function dN(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Ca([s,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dN(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:mM(d,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of uN(i.path))a(i,o,c)}),t}function uN(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=uN(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pM(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const lM=/^:[\w-]+$/,cM=3,dM=2,uM=1,hM=10,fM=-2,lw=e=>e==="*";function mM(e,t){let r=e.split("/"),s=r.length;return r.some(lw)&&(s+=fM),t&&(s+=dM),r.filter(a=>!lw(a)).reduce((a,i)=>a+(lM.test(i)?cM:i===""?uM:hM),s)}function pM(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function gM(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=i==="/"?t:t.slice(i.length)||"/",u=Qu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!u&&d&&r&&!s[s.length-1].route.index&&(u=Qu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Ca([i,u.pathname]),pathnameBase:bM(Ca([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Ca([i,u.pathnameBase]))}return o}function Qu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=xM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,h,u)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let v=l[u]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[u];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function xM(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function vM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function yM(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Xo(e):e;return{pathname:r?r.startsWith("/")?r:wM(r,t):t,search:_M(s),hash:NM(a)}}function wM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sm(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dv(e,t){let r=jM(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function uv(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Xo(e):(a=Sc({},e),yt(!a.pathname||!a.pathname.includes("?"),Sm("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Sm("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Sm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let u=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}l=u>=0?t[u]:"/"}let c=yM(a,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Ca=e=>e.join("/").replace(/\/\/+/g,"/"),bM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hN=["post","put","patch","delete"];new Set(hN);const SM=["get",...hN];new Set(SM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kc.apply(this,arguments)}const ef=m.createContext(null),fN=m.createContext(null),Ln=m.createContext(null),tf=m.createContext(null),nn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),mN=m.createContext(null);function kM(e,t){let{relative:r}=t===void 0?{}:t;el()||yt(!1);let{basename:s,navigator:a}=m.useContext(Ln),{hash:i,pathname:o,search:l}=rf(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Ca([s,o])),a.createHref({pathname:c,search:l,hash:i})}function el(){return m.useContext(tf)!=null}function Fn(){return el()||yt(!1),m.useContext(tf).location}function pN(e){m.useContext(Ln).static||m.useLayoutEffect(e)}function Nr(){let{isDataRoute:e}=m.useContext(nn);return e?VM():EM()}function EM(){el()||yt(!1);let e=m.useContext(ef),{basename:t,future:r,navigator:s}=m.useContext(Ln),{matches:a}=m.useContext(nn),{pathname:i}=Fn(),o=JSON.stringify(dv(a,r.v7_relativeSplatPath)),l=m.useRef(!1);return pN(()=>{l.current=!0}),m.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=uv(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ca([t,u.pathname])),(h.replace?s.replace:s.push)(u,h.state,h)},[t,s,o,i,e])}const RM=m.createContext(null);function PM(e){let t=m.useContext(nn).outlet;return t&&m.createElement(RM.Provider,{value:e},t)}function hv(){let{matches:e}=m.useContext(nn),t=e[e.length-1];return t?t.params:{}}function rf(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=m.useContext(Ln),{matches:a}=m.useContext(nn),{pathname:i}=Fn(),o=JSON.stringify(dv(a,s.v7_relativeSplatPath));return m.useMemo(()=>uv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function TM(e,t){return AM(e,t)}function AM(e,t,r,s){el()||yt(!1);let{navigator:a}=m.useContext(Ln),{matches:i}=m.useContext(nn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Fn(),h;if(t){var u;let w=typeof t=="string"?Xo(t):t;c==="/"||(u=w.pathname)!=null&&u.startsWith(c)||yt(!1),h=w}else h=d;let f=h.pathname||"/",p=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=aM(e,{pathname:p}),v=LM(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ca([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ca([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,s);return t&&v?m.createElement(tf.Provider,{value:{location:kc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ga.Pop}},v):v}function OM(){let e=zM(),t=CM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const MM=m.createElement(OM,null);class IM extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(nn.Provider,{value:this.props.routeContext},m.createElement(mN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DM(e){let{routeContext:t,match:r,children:s}=e,a=m.useContext(ef);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(nn.Provider,{value:t},s)}function LM(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);h>=0||yt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:f,errors:p}=r,y=u.route.loader&&f[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,u,f)=>{let p,y=!1,v=null,w=null;r&&(p=l&&u.route.id?l[u.route.id]:void 0,v=u.route.errorElement||MM,c&&(d<0&&f===0?(y=!0,w=null):d===f&&(y=!0,w=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),x=()=>{let j;return p?j=v:y?j=w:u.route.Component?j=m.createElement(u.route.Component,null):u.route.element?j=u.route.element:j=h,m.createElement(DM,{match:u,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:j})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?m.createElement(IM,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var gN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gN||{}),Yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yu||{});function FM(e){let t=m.useContext(ef);return t||yt(!1),t}function $M(e){let t=m.useContext(fN);return t||yt(!1),t}function UM(e){let t=m.useContext(nn);return t||yt(!1),t}function xN(e){let t=UM(),r=t.matches[t.matches.length-1];return r.route.id||yt(!1),r.route.id}function zM(){var e;let t=m.useContext(mN),r=$M(Yu.UseRouteError),s=xN(Yu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function VM(){let{router:e}=FM(gN.UseNavigateStable),t=xN(Yu.UseNavigateStable),r=m.useRef(!1);return pN(()=>{r.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kc({fromRouteId:t},i)))},[e,t])}function Tn(e){let{to:t,replace:r,state:s,relative:a}=e;el()||yt(!1);let{future:i,static:o}=m.useContext(Ln),{matches:l}=m.useContext(nn),{pathname:c}=Fn(),d=Nr(),h=uv(t,dv(l,i.v7_relativeSplatPath),c,a==="path"),u=JSON.stringify(h);return m.useEffect(()=>d(JSON.parse(u),{replace:r,state:s,relative:a}),[d,u,a,r,s]),null}function BM(e){return PM(e.context)}function Lt(e){yt(!1)}function qM(e){let{basename:t="/",children:r=null,location:s,navigationType:a=ga.Pop,navigator:i,static:o=!1,future:l}=e;el()&&yt(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:kc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Xo(s));let{pathname:h="/",search:u="",hash:f="",state:p=null,key:y="default"}=s,v=m.useMemo(()=>{let w=Uo(h,c);return w==null?null:{location:{pathname:w,search:u,hash:f,state:p,key:y},navigationType:a}},[c,h,u,f,p,y,a]);return v==null?null:m.createElement(Ln.Provider,{value:d},m.createElement(tf.Provider,{children:r,value:v}))}function WM(e){let{children:t,location:r}=e;return TM(yg(t),r)}new Promise(()=>{});function yg(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let i=[...t,a];if(s.type===m.Fragment){r.push.apply(r,yg(s.props.children,i));return}s.type!==Lt&&yt(!1),!s.props.index||!s.props.children||yt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=yg(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zu.apply(this,arguments)}function vN(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KM(e,t){return e.button===0&&(!t||t==="_self")&&!HM(e)}const GM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],YM="6";try{window.__reactRouterVersion=YM}catch{}const ZM=m.createContext({isTransitioning:!1}),JM="startTransition",cw=zj[JM];function XM(e){let{basename:t,children:r,future:s,window:a}=e,i=m.useRef();i.current==null&&(i.current=rM({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},h=m.useCallback(u=>{d&&cw?cw(()=>c(u)):c(u)},[c,d]);return m.useLayoutEffect(()=>o.listen(h),[o,h]),m.createElement(qM,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const eI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=m.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:u}=t,f=vN(t,GM),{basename:p}=m.useContext(Ln),y,v=!1;if(typeof d=="string"&&tI.test(d)&&(y=d,eI))try{let j=new URL(window.location.href),b=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=Uo(b.pathname,p);b.origin===j.origin&&S!=null?d=S+b.search+b.hash:v=!0}catch{}let w=kM(d,{relative:a}),g=sI(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:u});function x(j){s&&s(j),j.defaultPrevented||g(j)}return m.createElement("a",Zu({},f,{href:y||w,onClick:v||i?s:x,ref:r,target:c}))}),Vr=m.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=t,u=vN(t,QM),f=rf(c,{relative:u.relative}),p=Fn(),y=m.useContext(fN),{navigator:v,basename:w}=m.useContext(Ln),g=y!=null&&nI(f)&&d===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,j=p.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(j=j.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&w&&(b=Uo(b,w)||b);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=j===x||!o&&j.startsWith(x)&&j.charAt(S)==="/",C=b!=null&&(b===x||!o&&b.startsWith(x)&&b.charAt(x.length)==="/"),N={isActive:_,isPending:C,isTransitioning:g},A=_?s:void 0,k;typeof i=="function"?k=i(N):k=[i,_?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(N):l;return m.createElement(We,Zu({},u,{"aria-current":A,className:k,ref:r,style:T,to:c,viewTransition:d}),typeof h=="function"?h(N):h)});var wg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wg||(wg={}));var dw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function rI(e){let t=m.useContext(ef);return t||yt(!1),t}function sI(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Nr(),d=Fn(),h=rf(e,{relative:o});return m.useCallback(u=>{if(KM(u,r)){u.preventDefault();let f=s!==void 0?s:Gu(d)===Gu(h);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,s,a,r,e,i,o,l])}function nI(e,t){t===void 0&&(t={});let r=m.useContext(ZM);r==null&&yt(!1);let{basename:s}=rI(wg.useViewTransitionState),a=rf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Uo(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Uo(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Qu(a.pathname,o)!=null||Qu(a.pathname,i)!=null}const aI="modulepreload",iI=function(e){return"/"+e},uw={},mi=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=iI(c),c in uw)return;uw[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":aI,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((f,p)=>{u.addEventListener("load",f),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},oI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mi(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class fv extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class lI extends fv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cI extends fv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dI extends fv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jg||(jg={}));var uI=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class hI{constructor(t,{headers:r={},customFetch:s,region:a=jg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=oI(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return uI(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(y=>{throw new lI(y)}),u=h.headers.get("x-relay-error");if(u&&u==="true")throw new cI(h);if(!h.ok)throw new dI(h);let f=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield h.json():f==="application/octet-stream"?p=yield h.blob():f==="text/event-stream"?p=h:f==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var mr={},mv={},sf={},ad={},nf={},af={},fI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zo=fI();const mI=zo.fetch,yN=zo.fetch.bind(zo),wN=zo.Headers,pI=zo.Request,gI=zo.Response,tl=Object.freeze(Object.defineProperty({__proto__:null,Headers:wN,Request:pI,Response:gI,default:yN,fetch:mI},Symbol.toStringTag,{value:"Module"})),xI=Q2(tl);var of={};Object.defineProperty(of,"__esModule",{value:!0});let vI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};of.default=vI;var jN=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(af,"__esModule",{value:!0});const yI=jN(xI),wI=jN(of);let jI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,h=null,u=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=g:h=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(u=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(h=[],d=null,f=200,p="OK")}catch{i.status===404&&v===""?(f=204,p="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,p="OK"),d&&this.shouldThrowOnError)throw new wI.default(d)}return{error:d,data:h,count:u,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};af.default=jI;var bI=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nf,"__esModule",{value:!0});const _I=bI(af);let NI=class extends _I.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nf.default=NI;var CI=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const SI=CI(nf);let kI=class extends SI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};ad.default=kI;var EI=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sf,"__esModule",{value:!0});const Sl=EI(ad);let RI=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=r,this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Sl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:s=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Sl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const s="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Sl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Sl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sf.default=RI;var lf={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.version=void 0;cf.version="0.0.0-automated";Object.defineProperty(lf,"__esModule",{value:!0});lf.DEFAULT_HEADERS=void 0;const PI=cf;lf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PI.version}`};var bN=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mv,"__esModule",{value:!0});const TI=bN(sf),AI=bN(ad),OI=lf;let MI=class _N{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},OI.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new TI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _N(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([h,u])=>u!==void 0).map(([h,u])=>[h,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([h,u])=>{l.searchParams.append(h,u)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new AI.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};mv.default=MI;var rl=ns&&ns.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const NN=rl(mv);mr.PostgrestClient=NN.default;const CN=rl(sf);mr.PostgrestQueryBuilder=CN.default;const SN=rl(ad);mr.PostgrestFilterBuilder=SN.default;const kN=rl(nf);mr.PostgrestTransformBuilder=kN.default;const EN=rl(af);mr.PostgrestBuilder=EN.default;const RN=rl(of);mr.PostgrestError=RN.default;var II=mr.default={PostgrestClient:NN.default,PostgrestQueryBuilder:CN.default,PostgrestFilterBuilder:SN.default,PostgrestTransformBuilder:kN.default,PostgrestBuilder:EN.default,PostgrestError:RN.default};const{PostgrestClient:DI,PostgrestQueryBuilder:k9,PostgrestFilterBuilder:E9,PostgrestTransformBuilder:R9,PostgrestBuilder:P9,PostgrestError:T9}=II,LI="2.11.2",FI={"X-Client-Info":`realtime-js/${LI}`},$I="1.0.0",PN=1e4,UI=1e3;var mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mo||(mo={}));var Sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sr||(Sr={}));var fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fs||(fs={}));var bg;(function(e){e.websocket="websocket"})(bg||(bg={}));var qa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qa||(qa={}));class zI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+a));o=o+a;const c=s.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class TN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(st||(st={}));const hw=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=VI(o,e,t,a),i),{})},VI=(e,t,r,s)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?AN(i,o):_g(o)},AN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HI(t,r)}switch(e){case st.bool:return BI(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return qI(t);case st.json:case st.jsonb:return WI(t);case st.timestamp:return KI(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return _g(t);default:return _g(t)}},_g=e=>e,BI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>AN(t,l))}return e},KI=e=>typeof e=="string"?e.replace(" ","T"):e,ON=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class km{constructor(t,r,s={},a=PN){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fw||(fw={}));class Xl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Xl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const u=i[d];if(u){const f=h.map(w=>w.presence_ref),p=u.map(w=>w.presence_ref),y=h.filter(w=>p.indexOf(w.presence_ref)<0),v=u.filter(w=>f.indexOf(w.presence_ref)<0);y.length>0&&(l[d]=y),v.length>0&&(c[d]=v)}else l[d]=h}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const u=t[l].map(p=>p.presence_ref),f=h.filter(p=>u.indexOf(p.presence_ref)<0);t[l].unshift(...f)}s(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(u=>u.presence_ref);d=d.filter(u=>h.indexOf(u.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mw||(mw={}));var pw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pw||(pw={}));var pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class pv{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new km(this,fs.join,this.params,this.timeout),this.rejoinTimer=new TN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Xl(this),this.broadcastEndpointURL=ON(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>t==null?void 0:t(pn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(pn.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var u;if(this.socket.setAuth(),h===void 0){t==null||t(pn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(u=f==null?void 0:f.length)!==null&&u!==void 0?u:0,y=[];for(let v=0;v<p;v++){const w=f[v],{filter:{event:g,schema:x,table:j,filter:b}}=w,S=h&&h[v];if(S&&S.event===g&&S.schema===x&&S.table===j&&S.filter===b)y.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),t==null||t(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(pn.SUBSCRIBED);return}}).receive("error",h=>{t==null||t(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new km(this,fs.leave,{},t);a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new km(this,t,r,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=fs;if(s&&[l,c,d,h].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,v,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,v,w,g,x,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(x=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((j=r==null?void 0:r.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:v,table:w,commit_timestamp:g,type:x,errors:j}=y;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:x,new:{},old:{},errors:j}),this._getPayloadRecords(y))}p.callback(f,s)})}_isClosed(){return this.state===Sr.closed}_isJoined(){return this.state===Sr.joined}_isJoining(){return this.state===Sr.joining}_isLeaving(){return this.state===Sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&pv.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fs.close,{},t)}_onError(t){this._on(fs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hw(t.columns,t.old_record)),r}}const GI=()=>{},QI=typeof WebSocket<"u",YI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZI{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=FI,this.params={},this.timeout=PN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=GI,this.conn=null,this.sendBuffer=[],this.serializer=new zI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>mi(async()=>{const{default:c}=await Promise.resolve().then(()=>tl);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${bg.websocket}`,this.httpEndpoint=ON(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(QI){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new JI(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),mi(async()=>{const{default:t}=await import("./browser-DL3voRYk.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$I}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case mo.connecting:return qa.Connecting;case mo.open:return qa.Open;case mo.closing:return qa.Closing;default:return qa.Closed}}isConnected(){return this.connectionState()===qa.Open}channel(t,r={config:{}}){const s=new pv(`realtime:${t}`,r,this);return this.channels.push(s),s}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(fs.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(UI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(fs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([YI],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class JI{constructor(t,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class gv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XI extends gv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ng extends gv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var eD=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const MN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mi(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},tD=()=>eD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mi(()=>Promise.resolve().then(()=>tl),void 0)).Response:Response}),Cg=e=>{if(Array.isArray(e))return e.map(r=>Cg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Cg(s)}),t};var Si=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const Em=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rD=(e,t,r)=>Si(void 0,void 0,void 0,function*(){const s=yield tD();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new XI(Em(a),e.status||500))}).catch(a=>{t(new Ng(Em(a),a))}):t(new Ng(Em(e),e))}),sD=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),r))};function id(e,t,r,s,a,i){return Si(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,sD(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>rD(c,l,s))})})}function Ju(e,t,r,s){return Si(this,void 0,void 0,function*(){return id(e,"GET",t,r,s)})}function ea(e,t,r,s,a){return Si(this,void 0,void 0,function*(){return id(e,"POST",t,s,a,r)})}function nD(e,t,r,s,a){return Si(this,void 0,void 0,function*(){return id(e,"PUT",t,s,a,r)})}function aD(e,t,r,s){return Si(this,void 0,void 0,function*(){return id(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function IN(e,t,r,s,a){return Si(this,void 0,void 0,function*(){return id(e,"DELETE",t,s,a,r)})}var lr=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const iD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oD{constructor(t,r={},s,a){this.url=t,this.headers=r,this.bucketId=s,this.fetch=MN(a)}uploadOrUpdate(t,r,s,a){return lr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),u=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield u.json();return u.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}upload(t,r,s){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return lr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:gw.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const u=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),f=yield u.json();return u.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return lr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ea(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new gv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}update(t,r,s){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return lr(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}copy(t,r,s){return lr(this,void 0,void 0,function*(){try{return{data:{path:(yield ea(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return lr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ea(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return lr(this,void 0,void 0,function*(){try{const a=yield ea(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}download(t,r){return lr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ju(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}info(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Ju(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cg(s),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}exists(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ft(s)&&s instanceof Ng){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(t){return lr(this,void 0,void 0,function*(){try{return{data:yield IN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,s){return lr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},iD),r),{prefix:t||""});return{data:yield ea(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const lD="2.7.1",cD={"X-Client-Info":`storage-js/${lD}`};var Mi=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class dD{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},cD),r),this.fetch=MN(s)}listBuckets(){return Mi(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Mi(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Mi(this,void 0,void 0,function*(){try{return{data:yield nD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield IN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}}class uD extends dD{constructor(t,r={},s){super(t,r,s)}from(t){return new oD(this.url,this.headers,t,this.fetch)}}const hD="2.49.8";let Dl="";typeof Deno<"u"?Dl="deno":typeof document<"u"?Dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dl="react-native":Dl="node";const fD={"X-Client-Info":`supabase-js-${Dl}/${hD}`},mD={headers:fD},pD={schema:"public"},gD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xD={};var vD=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};const yD=e=>{let t;return e?t=e:typeof fetch>"u"?t=yN:t=fetch,(...r)=>t(...r)},wD=()=>typeof Headers>"u"?wN:Headers,jD=(e,t,r)=>{const s=yD(r),a=wD();return(i,o)=>vD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var bD=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};function _D(e){return e.endsWith("/")?e:e+"/"}function ND(e,t){var r,s;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:u}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},u),l),{headers:Object.assign(Object.assign({},(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>bD(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const DN="2.69.1",Vi=30*1e3,Sg=3,Rm=Sg*Vi,CD="http://localhost:9999",SD="supabase.auth.token",kD={"X-Client-Info":`gotrue-js/${DN}`},kg="X-Supabase-Api-Version",LN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ED=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RD=6e5;class xv extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PD extends xv{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function TD(e){return Oe(e)&&e.name==="AuthApiError"}class FN extends xv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class La extends xv{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class Qn extends La{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AD(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class Pm extends La{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends La{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bd extends La{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OD(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class xw extends La{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eg extends La{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Tm(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class vw extends La{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ec extends La{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ww=` 	
\r=`.split(""),MD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ww.length;t+=1)e[ww[t].charCodeAt(0)]=-2;for(let t=0;t<yw.length;t+=1)e[yw[t].charCodeAt(0)]=t;return e})();function $N(e,t,r){const s=MD[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{LD(o,s,r)};for(let o=0;o<e.length;o+=1)$N(e.charCodeAt(o),a,i);return t.join("")}function ID(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DD(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ID(s,t)}}function LD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function FD(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)$N(e.charCodeAt(a),r,s);return new Uint8Array(t)}function $D(e){const t=[];return DD(e,r=>t.push(r)),new Uint8Array(t)}function UD(e){return Math.round(Date.now()/1e3)+e}function zD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ds=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},tc=()=>{if(!Ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function VD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const UN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mi(async()=>{const{default:s}=await Promise.resolve().then(()=>tl);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},BD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wd=async(e,t)=>{await e.removeItem(t)};class df{constructor(){this.promise=new df.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}df.promiseConstructor=Promise;function Am(e){const t=e.split(".");if(t.length!==3)throw new ec("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!ED.test(t[s]))throw new ec("JWT not in base64url format");return{header:JSON.parse(jw(t[0])),payload:JSON.parse(jw(t[1])),signature:FD(t[2]),raw:{header:t[0],payload:t[1]}}}async function qD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WD(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function HD(e){return("0"+e.toString(16)).substr(-2)}function KD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,HD).join("")}async function GD(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function QD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ii(e,t,r=!1){const s=KD();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await zN(e,`${t}-code-verifier`,a);const i=await QD(s);return[i,s===i?"plain":"s256"]}const YD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZD(e){const t=e.headers.get(kg);if(!t||!t.match(YD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var e5=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const Ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t5=[502,503,504];async function bw(e){var t;if(!BD(e))throw new Eg(Ba(e),0);if(t5.includes(e.status))throw new Eg(Ba(e),e.status);let r;try{r=await e.json()}catch(i){throw new FN(Ba(i),i)}let s;const a=ZD(e);if(a&&a.getTime()>=LN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new vw(Ba(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Qn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vw(Ba(r),e.status,r.weak_password.reasons);throw new PD(Ba(r),e.status||500,s)}const r5=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function Ve(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[kg]||(i[kg]=LN["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await s5(e,t,r+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function s5(e,t,r,s,a,i){const o=r5(t,s,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Eg(Ba(c),0)}if(l.ok||await bw(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await bw(c)}}function Yn(e){var t;let r=null;o5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UD(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function _w(e){const t=Yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n5(e){return{data:e,error:null}}function a5(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=e5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function i5(e){return e}function o5(e){return e.access_token&&e.refresh_token&&e.expires_in}var l5=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class c5{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=UN(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:sa})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=l5(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:a5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:i5});if(h.error)throw h.error;const u=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(Oe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:sa})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:sa})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:r,error:s}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}}const d5={getItem:e=>tc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{tc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{tc()&&globalThis.localStorage.removeItem(e)}};function Nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function u5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Di={debug:!!(globalThis&&tc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h5 extends VN{}async function f5(e,t,r){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Di.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Di.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Di.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}u5();const m5={url:CD,storageKey:SD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cw(e,t,r){return await r()}class Ec{constructor(t){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ec.nextInstanceID,Ec.nextInstanceID+=1,this.instanceID>0&&Ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},m5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new c5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=UN(a.fetch),this.lock=a.lock||Cw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ds()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=f5:this.lock=Cw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:tc()?this.storage=d5:(this.memoryStorage={},this.storage=Nw(this.memoryStorage)):(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${DN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=VD(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Ds()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OD(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?{error:r}:{error:new FN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Yn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:h,password:u,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ii(this.storage,this.storageKey)),i=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:Yn})}else if("phone"in t){const{phone:h,password:u,options:f}=t;i=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yn})}else throw new Vd("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_w})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_w})}else throw new Vd("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Pm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await qd(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Yn});if(await Wd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,l=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ii(this.storage,this.storageKey));const{error:u}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Vd("You must provide either an email or phone number.")}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Yn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ii(this.storage,this.storageKey)),await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:n5})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Qn;const{error:a}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:l}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vd("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await qd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Rm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,h))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sa}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:sa})})}catch(r){if(Oe(r))return AD(r)&&(await this._removeSession(),await Wd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Qn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ii(this.storage,this.storageKey));const{data:d,error:h}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:sa});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qn;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=Am(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Qn;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ds())throw new Bd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xw("No code detected.");const{data:x,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Bd("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(l);let f=h+u;c&&(f=parseInt(c));const p=f-h;p*1e3<=Vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${u}s`);const y=f-u;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,h);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:u,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(Oe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await qd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Wd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=zD(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ii(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,h;const{data:u,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Ds()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Oe(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await WD(async a=>(a>0&&await qD(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Tm(i)&&Date.now()+o-s<Vi})}catch(s){if(this._debug(r,"error",s),Oe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Ds()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qd(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Rm;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Rm}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Tm(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new df;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Oe(i)){const o={session:null,error:i};return Tm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Wd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vi}ms, refresh threshold is ${Sg} ticks`),a<=Sg&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof VN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ii(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Am(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(u=>u.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s||(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+RD>Date.now()))return s;const{data:a,error:i}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new ec("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),s=a.keys.find(o=>o.kid===t),!s)throw new ec("No matching signing key found in JWKS");return s}async getClaims(t,r={keys:[]}){try{let s=t;if(!s){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};s=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Am(s);if(JD(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const d=XD(a.alg),h=await this.fetchJwk(a.kid,r),u=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,u,o,$D(`${l}.${c}`)))throw new ec("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}}Ec.nextInstanceID=0;const p5=Ec;class g5 extends p5{constructor(t){super(t)}}var x5=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{d(s.next(h))}catch(u){o(u)}}function c(h){try{d(s.throw(h))}catch(u){o(u)}}function d(h){h.done?i(h.value):a(h.value).then(l,c)}d((s=s.apply(e,t||[])).next())})};class v5{constructor(t,r,s){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=_D(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:pD,realtime:xD,auth:Object.assign(Object.assign({},gD),{storageKey:d}),global:mD},u=ND(s??{},h);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=jD(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new DI(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new hI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return x5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,h){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g5({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ZI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y5=(e,t,r)=>new v5(e,t,r),w5="https://tphwebrzhqhwtvuxuyqn.supabase.co",j5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwaHdlYnJ6aHFod3R2dXh1eXFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNzQ2MzksImV4cCI6MjA2Mzc1MDYzOX0.Cl1o4kywEtPdOLdJX5mB3P0yhoROt3U5FxP9DscQwDk",M=y5(w5,j5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},db:{schema:"public"},global:{headers:{"X-Client-Info":"learn-and-earn@1.0.0"}},realtime:{params:{eventsPerSecond:5}}}),b5=Object.freeze(Object.defineProperty({__proto__:null,supabase:M},Symbol.toStringTag,{value:"Module"})),BN=m.createContext(void 0),_5=({children:e})=>{const[t,r]=m.useState(null),[s,a]=m.useState(!0),[i,o]=m.useState(!1),l=async f=>{try{console.log("Checking admin status for user:",f);const{data:p,error:y}=await M.rpc("is_admin_user");return y?(console.error("Error calling is_admin_user RPC:",y),!1):(console.log("Admin status result:",p),p||!1)}catch(p){return console.error("Exception checking admin status:",p),!1}},c=async(f,p)=>{try{const{error:y}=await M.auth.signInWithPassword({email:f,password:p});return{error:y}}catch(y){return{error:y}}},d=async(f,p,y)=>{try{const{error:v}=await M.auth.signUp({email:f,password:p,options:{data:{name:y}}});return{error:v}}catch(v){return{error:v}}},h=async()=>{try{await M.auth.signOut(),r(null),o(!1)}catch(f){console.error("Error signing out:",f)}},u=async()=>{try{const{data:{user:f}}=await M.auth.getUser();if(r(f),f){const p=await l(f.id);o(p)}else o(!1)}catch(f){console.error("Error refreshing user:",f)}};return m.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await M.auth.getSession();if(y!=null&&y.user){r(y.user);const v=await l(y.user.id);o(v)}}catch(y){console.error("Error initializing auth:",y)}finally{a(!1)}})();const{data:{subscription:p}}=M.auth.onAuthStateChange(async(y,v)=>{if(console.log("Auth state changed:",y),v!=null&&v.user){r(v.user);const w=await l(v.user.id);o(w)}else r(null),o(!1);a(!1)});return()=>p.unsubscribe()},[]),n.jsx(BN.Provider,{value:{user:t,isLoading:s,isAdmin:i,signIn:c,signUp:d,signOut:h,refreshUser:u},children:e})},Xe=()=>{const e=m.useContext(BN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Sw=({requireAdmin:e=!1})=>{const{user:t,isLoading:r,isAdmin:s}=Xe(),a=Fn();return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Verifying your access..."})]})}):t?e&&!s?n.jsx(Tn,{to:"/dashboard",replace:!0}):n.jsx(BM,{}):n.jsx(Tn,{to:"/",replace:!0,state:{from:a}})},Be=m.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Be.displayName="Input";const vv=Yo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=m.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Rn:"button";return n.jsx(o,{className:J(vv({variant:t,size:r,className:e})),ref:i,...a})});V.displayName="Button";function uf(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function hf(e){const[t,r]=m.useState(void 0);return Dt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var yv="Checkbox",[N5,A9]=br(yv),[C5,S5]=N5(yv),qN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[f,p]=m.useState(null),y=Fe(t,b=>p(b)),v=m.useRef(!1),w=f?h||!!f.closest("form"):!0,[g=!1,x]=Ir({prop:a,defaultProp:i,onChange:d}),j=m.useRef(g);return m.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const S=()=>x(j.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[f,x]),n.jsxs(C5,{scope:r,state:g,disabled:l,children:[n.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Sa(g)?"mixed":g,"aria-required":o,"data-state":KN(g),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:y,onKeyDown:re(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:re(e.onClick,b=>{x(S=>Sa(S)?!0:!S),w&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),w&&n.jsx(k5,{control:f,bubbles:!v.current,name:s,value:c,checked:g,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Sa(i)?!1:i})]})});qN.displayName=yv;var WN="CheckboxIndicator",HN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=S5(WN,r);return n.jsx(zr,{present:s||Sa(i.state)||i.state===!0,children:n.jsx(me.span,{"data-state":KN(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});HN.displayName=WN;var k5=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=uf(r),c=hf(t);m.useEffect(()=>{const h=o.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&p){const y=new Event("click",{bubbles:s});h.indeterminate=Sa(r),p.call(h,Sa(r)?!1:r),h.dispatchEvent(y)}},[l,r,s]);const d=m.useRef(Sa(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sa(e){return e==="indeterminate"}function KN(e){return Sa(e)?"indeterminate":e?"checked":"unchecked"}var GN=qN,E5=HN;const Rc=m.forwardRef(({className:e,...t},r)=>n.jsx(GN,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(E5,{className:J("flex items-center justify-center text-current"),children:n.jsx(Qs,{className:"h-4 w-4"})})}));Rc.displayName=GN.displayName;const kw=()=>{const[e,t]=m.useState(!0),[r,s]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,d]=m.useState(!1),[h,u]=m.useState(!1),{signIn:f,signUp:p}=Xe(),y=Nr(),{toast:v}=sn(),w=async g=>{g.preventDefault(),d(!0);try{if(e){const{error:x}=await f(a,o);if(x)throw x;v({title:"Login successful",description:"Welcome back!"}),y("/dashboard")}else{if(!r.trim()){v({title:"Error",description:"Please enter your name",variant:"destructive"}),d(!1);return}if(!h){v({title:"Error",description:"You must agree to the Terms and Conditions to sign up",variant:"destructive"}),d(!1);return}const{error:x}=await p(a,o,r);if(x)throw x;v({title:"Signup successful",description:"Your account has been created. You can now log in."}),t(!0)}}catch(x){console.error("Authentication error:",x),v({title:"Authentication Error",description:x.message||"Failed to authenticate. Please try again.",variant:"destructive"})}finally{d(!1)}};return n.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:n.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Learn & Earn"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Learn new skills and earn through referrals"})]}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!e&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx(Be,{id:"name",type:"text",value:r,onChange:g=>s(g.target.value),placeholder:"Enter your name",required:!e})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx(Be,{id:"email",type:"email",value:a,onChange:g=>i(g.target.value),placeholder:"Enter your email",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx(Be,{id:"password",type:"password",value:o,onChange:g=>l(g.target.value),placeholder:"Enter your password",required:!0})]}),!e&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rc,{id:"terms",checked:h,onCheckedChange:g=>u(g===!0)}),n.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the"," ",n.jsx(We,{to:"/policies",className:"text-[#00C853] hover:underline",children:"Terms and Conditions"})]})]}),n.jsx(V,{type:"submit",className:"w-full bg-[#00C853] hover:bg-green-600 text-white",disabled:c||!e&&!h,children:c?"Processing...":e?"Login":"Sign Up"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-blue-600 hover:underline",children:e?"Don't have an account? Sign Up":"Already have an account? Login"})})]})})};var R5=m.createContext(void 0);function sl(e){const t=m.useContext(R5);return e||t||"ltr"}var Om=0;function wv(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ew()),document.body.insertAdjacentElement("beforeend",e[1]??Ew()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Om--}},[])}function Ew(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Mm="focusScope.autoFocusOnMount",Im="focusScope.autoFocusOnUnmount",Rw={bubbles:!1,cancelable:!0},P5="FocusScope",ff=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Wt(a),h=Wt(i),u=m.useRef(null),f=Fe(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let v=function(j){if(p.paused||!l)return;const b=j.target;l.contains(b)?u.current=b:Zn(u.current,{select:!0})},w=function(j){if(p.paused||!l)return;const b=j.relatedTarget;b!==null&&(l.contains(b)||Zn(u.current,{select:!0}))},g=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&Zn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[s,l,p.paused]),m.useEffect(()=>{if(l){Tw.add(p);const v=document.activeElement;if(!l.contains(v)){const g=new CustomEvent(Mm,Rw);l.addEventListener(Mm,d),l.dispatchEvent(g),g.defaultPrevented||(T5(D5(QN(l)),{select:!0}),document.activeElement===v&&Zn(l))}return()=>{l.removeEventListener(Mm,d),setTimeout(()=>{const g=new CustomEvent(Im,Rw);l.addEventListener(Im,h),l.dispatchEvent(g),g.defaultPrevented||Zn(v??document.body,{select:!0}),l.removeEventListener(Im,h),Tw.remove(p)},0)}}},[l,d,h,p]);const y=m.useCallback(v=>{if(!r&&!s||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(w&&g){const x=v.currentTarget,[j,b]=A5(x);j&&b?!v.shiftKey&&g===b?(v.preventDefault(),r&&Zn(j,{select:!0})):v.shiftKey&&g===j&&(v.preventDefault(),r&&Zn(b,{select:!0})):g===x&&v.preventDefault()}},[r,s,p.paused]);return n.jsx(me.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});ff.displayName=P5;function T5(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Zn(s,{select:t}),document.activeElement!==r)return}function A5(e){const t=QN(e),r=Pw(t,e),s=Pw(t.reverse(),e);return[r,s]}function QN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Pw(e,t){for(const r of e)if(!O5(r,{upTo:t}))return r}function O5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M5(e){return e instanceof HTMLInputElement&&"select"in e}function Zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&M5(e)&&t&&e.select()}}var Tw=I5();function I5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Aw(e,t),e.unshift(t)},remove(t){var r;e=Aw(e,t),(r=e[0])==null||r.resume()}}}function Aw(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function D5(e){return e.filter(t=>t.tagName!=="A")}var L5=zj.useId||(()=>{}),F5=0;function ts(e){const[t,r]=m.useState(L5());return Dt(()=>{e||r(s=>s??String(F5++))},[e]),e||(t?`radix-${t}`:"")}const $5=["top","right","bottom","left"],Ra=Math.min,Pr=Math.max,Xu=Math.round,Hd=Math.floor,Pa=e=>({x:e,y:e}),U5={left:"right",right:"left",bottom:"top",top:"bottom"},z5={start:"end",end:"start"};function Rg(e,t,r){return Pr(e,Ra(t,r))}function An(e,t){return typeof e=="function"?e(t):e}function On(e){return e.split("-")[0]}function nl(e){return e.split("-")[1]}function jv(e){return e==="x"?"y":"x"}function bv(e){return e==="y"?"height":"width"}function Ta(e){return["top","bottom"].includes(On(e))?"y":"x"}function _v(e){return jv(Ta(e))}function V5(e,t,r){r===void 0&&(r=!1);const s=nl(e),a=_v(e),i=bv(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=eh(o)),[o,eh(o)]}function B5(e){const t=eh(e);return[Pg(e),t,Pg(t)]}function Pg(e){return e.replace(/start|end/g,t=>z5[t])}function q5(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function W5(e,t,r,s){const a=nl(e);let i=q5(On(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Pg)))),i}function eh(e){return e.replace(/left|right|bottom|top/g,t=>U5[t])}function H5(e){return{top:0,right:0,bottom:0,left:0,...e}}function YN(e){return typeof e!="number"?H5(e):{top:e,right:e,bottom:e,left:e}}function th(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function Ow(e,t,r){let{reference:s,floating:a}=e;const i=Ta(t),o=_v(t),l=bv(o),c=On(t),d=i==="y",h=s.x+s.width/2-a.width/2,u=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:h,y:s.y-a.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:u};break;case"left":p={x:s.x-a.width,y:u};break;default:p={x:s.x,y:s.y}}switch(nl(t)){case"start":p[o]-=f*(r&&d?-1:1);break;case"end":p[o]+=f*(r&&d?-1:1);break}return p}const K5=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:u}=Ow(d,s,c),f=s,p={},y=0;for(let v=0;v<l.length;v++){const{name:w,fn:g}=l[v],{x,y:j,data:b,reset:S}=await g({x:h,y:u,initialPlacement:s,placement:f,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});h=x??h,u=j??u,p={...p,[w]:{...p[w],...b}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:h,y:u}=Ow(d,f,c)),v=-1)}return{x:h,y:u,placement:f,strategy:a,middlewareData:p}};async function Pc(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=An(t,e),y=YN(p),w=l[f?u==="floating"?"reference":"floating":u],g=th(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),x=u==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},S=th(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:j,strategy:c}):x);return{top:(g.top-S.top+y.top)/b.y,bottom:(S.bottom-g.bottom+y.bottom)/b.y,left:(g.left-S.left+y.left)/b.x,right:(S.right-g.right+y.right)/b.x}}const G5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=An(e,t)||{};if(d==null)return{};const u=YN(h),f={x:r,y:s},p=_v(a),y=bv(p),v=await o.getDimensions(d),w=p==="y",g=w?"top":"left",x=w?"bottom":"right",j=w?"clientHeight":"clientWidth",b=i.reference[y]+i.reference[p]-f[p]-i.floating[y],S=f[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=_?_[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=l.floating[j]||i.floating[y]);const N=b/2-S/2,A=C/2-v[y]/2-1,k=Ra(u[g],A),T=Ra(u[x],A),P=k,$=C-v[y]-T,D=C/2-v[y]/2+N,q=Rg(P,D,$),B=!c.arrow&&nl(a)!=null&&D!==q&&i.reference[y]/2-(D<P?k:T)-v[y]/2<0,te=B?D<P?D-P:D-$:0;return{[p]:f[p]+te,data:{[p]:q,centerOffset:D-q-te,...B&&{alignmentOffset:te}},reset:B}}}),Q5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=An(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=On(a),x=Ta(l),j=On(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(j||!v?[eh(l)]:B5(l)),_=y!=="none";!f&&_&&S.push(...W5(l,v,y,b));const C=[l,...S],N=await Pc(t,w),A=[];let k=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&A.push(N[g]),u){const D=V5(a,o,b);A.push(N[D[0]],N[D[1]])}if(k=[...k,{placement:a,overflows:A}],!A.every(D=>D<=0)){var T,P;const D=(((T=i.flip)==null?void 0:T.index)||0)+1,q=C[D];if(q)return{data:{index:D,overflows:k},reset:{placement:q}};let B=(P=k.filter(te=>te.overflows[0]<=0).sort((te,O)=>te.overflows[1]-O.overflows[1])[0])==null?void 0:P.placement;if(!B)switch(p){case"bestFit":{var $;const te=($=k.filter(O=>{if(_){const L=Ta(O.placement);return L===x||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,Z)=>L+Z,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:$[0];te&&(B=te);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Mw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Iw(e){return $5.some(t=>e[t]>=0)}const Y5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=An(e,t);switch(s){case"referenceHidden":{const i=await Pc(t,{...a,elementContext:"reference"}),o=Mw(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Iw(o)}}}case"escaped":{const i=await Pc(t,{...a,altBoundary:!0}),o=Mw(i,r.floating);return{data:{escapedOffsets:o,escaped:Iw(o)}}}default:return{}}}}};async function Z5(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=On(r),l=nl(r),c=Ta(r)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,u=An(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*h,y:f*d}:{x:f*d,y:p*h}}const J5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Z5(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},X5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...c}=An(e,t),d={x:r,y:s},h=await Pc(t,c),u=Ta(On(a)),f=jv(u);let p=d[f],y=d[u];if(i){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=p+h[w],j=p-h[g];p=Rg(x,p,j)}if(o){const w=u==="y"?"top":"left",g=u==="y"?"bottom":"right",x=y+h[w],j=y-h[g];y=Rg(x,y,j)}const v=l.fn({...t,[f]:p,[u]:y});return{...v,data:{x:v.x-r,y:v.y-s,enabled:{[f]:i,[u]:o}}}}}},eL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=An(e,t),h={x:r,y:s},u=Ta(a),f=jv(u);let p=h[f],y=h[u];const v=An(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=f==="y"?"height":"width",b=i.reference[f]-i.floating[j]+w.mainAxis,S=i.reference[f]+i.reference[j]-w.mainAxis;p<b?p=b:p>S&&(p=S)}if(d){var g,x;const j=f==="y"?"width":"height",b=["top","left"].includes(On(a)),S=i.reference[u]-i.floating[j]+(b&&((g=o.offset)==null?void 0:g[u])||0)+(b?0:w.crossAxis),_=i.reference[u]+i.reference[j]+(b?0:((x=o.offset)==null?void 0:x[u])||0)-(b?w.crossAxis:0);y<S?y=S:y>_&&(y=_)}return{[f]:p,[u]:y}}}},tL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=An(e,t),h=await Pc(t,d),u=On(a),f=nl(a),p=Ta(a)==="y",{width:y,height:v}=i.floating;let w,g;u==="top"||u==="bottom"?(w=u,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=u,w=f==="end"?"top":"bottom");const x=v-h.top-h.bottom,j=y-h.left-h.right,b=Ra(v-h[w],x),S=Ra(y-h[g],j),_=!t.middlewareData.shift;let C=b,N=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(C=x),_&&!f){const k=Pr(h.left,0),T=Pr(h.right,0),P=Pr(h.top,0),$=Pr(h.bottom,0);p?N=y-2*(k!==0||T!==0?k+T:Pr(h.left,h.right)):C=v-2*(P!==0||$!==0?P+$:Pr(h.top,h.bottom))}await c({...t,availableWidth:N,availableHeight:C});const A=await o.getDimensions(l.floating);return y!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function mf(){return typeof window<"u"}function al(e){return ZN(e)?(e.nodeName||"").toLowerCase():"#document"}function Or(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(ZN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZN(e){return mf()?e instanceof Node||e instanceof Or(e).Node:!1}function ks(e){return mf()?e instanceof Element||e instanceof Or(e).Element:!1}function Zs(e){return mf()?e instanceof HTMLElement||e instanceof Or(e).HTMLElement:!1}function Dw(e){return!mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Or(e).ShadowRoot}function od(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Es(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function rL(e){return["table","td","th"].includes(al(e))}function pf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Nv(e){const t=Cv(),r=ks(e)?Es(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function sL(e){let t=Aa(e);for(;Zs(t)&&!Vo(t);){if(Nv(t))return t;if(pf(t))return null;t=Aa(t)}return null}function Cv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(e){return["html","body","#document"].includes(al(e))}function Es(e){return Or(e).getComputedStyle(e)}function gf(e){return ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Aa(e){if(al(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dw(e)&&e.host||an(e);return Dw(t)?t.host:t}function JN(e){const t=Aa(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zs(t)&&od(t)?t:JN(t)}function Tc(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=JN(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Or(a);if(i){const l=Tg(o);return t.concat(o,o.visualViewport||[],od(a)?a:[],l&&r?Tc(l):[])}return t.concat(a,Tc(a,[],r))}function Tg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XN(e){const t=Es(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Zs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Xu(r)!==i||Xu(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Sv(e){return ks(e)?e:e.contextElement}function po(e){const t=Sv(e);if(!Zs(t))return Pa(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=XN(t);let o=(i?Xu(r.width):r.width)/s,l=(i?Xu(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nL=Pa(0);function eC(e){const t=Or(e);return!Cv()||!t.visualViewport?nL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Or(e)?!1:t}function pi(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Sv(e);let o=Pa(1);t&&(s?ks(s)&&(o=po(s)):o=po(e));const l=aL(i,r,s)?eC(i):Pa(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,h=a.width/o.x,u=a.height/o.y;if(i){const f=Or(i),p=s&&ks(s)?Or(s):s;let y=f,v=Tg(y);for(;v&&s&&p!==y;){const w=po(v),g=v.getBoundingClientRect(),x=Es(v),j=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,b=g.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,h*=w.x,u*=w.y,c+=j,d+=b,y=Or(v),v=Tg(y)}}return th({width:h,height:u,x:c,y:d})}function iL(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=an(s),l=t?pf(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Pa(1);const h=Pa(0),u=Zs(s);if((u||!u&&!i)&&((al(s)!=="body"||od(o))&&(c=gf(s)),Zs(s))){const f=pi(s);d=po(s),h.x=f.x+s.clientLeft,h.y=f.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x,y:r.y*d.y-c.scrollTop*d.y+h.y}}function oL(e){return Array.from(e.getClientRects())}function Ag(e,t){const r=gf(e).scrollLeft;return t?t.left+r:pi(an(e)).left+r}function lL(e){const t=an(e),r=gf(e),s=e.ownerDocument.body,a=Pr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Pr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Ag(e);const l=-r.scrollTop;return Es(s).direction==="rtl"&&(o+=Pr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function cL(e,t){const r=Or(e),s=an(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Cv();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function dL(e,t){const r=pi(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zs(e)?po(e):Pa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function Lw(e,t,r){let s;if(t==="viewport")s=cL(e,r);else if(t==="document")s=lL(an(e));else if(ks(t))s=dL(t,r);else{const a=eC(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return th(s)}function tC(e,t){const r=Aa(e);return r===t||!ks(r)||Vo(r)?!1:Es(r).position==="fixed"||tC(r,t)}function uL(e,t){const r=t.get(e);if(r)return r;let s=Tc(e,[],!1).filter(l=>ks(l)&&al(l)!=="body"),a=null;const i=Es(e).position==="fixed";let o=i?Aa(e):e;for(;ks(o)&&!Vo(o);){const l=Es(o),c=Nv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||od(o)&&!c&&tC(e,o))?s=s.filter(h=>h!==o):a=l,o=Aa(o)}return t.set(e,s),s}function hL(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?pf(t)?[]:uL(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,h)=>{const u=Lw(t,h,a);return d.top=Pr(u.top,d.top),d.right=Ra(u.right,d.right),d.bottom=Ra(u.bottom,d.bottom),d.left=Pr(u.left,d.left),d},Lw(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fL(e){const{width:t,height:r}=XN(e);return{width:t,height:r}}function mL(e,t,r){const s=Zs(t),a=an(t),i=r==="fixed",o=pi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Pa(0);if(s||!s&&!i)if((al(t)!=="body"||od(a))&&(l=gf(t)),s){const p=pi(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=Ag(a));let d=0,h=0;if(a&&!s&&!i){const p=a.getBoundingClientRect();h=p.top+l.scrollTop,d=p.left+l.scrollLeft-Ag(a,p)}const u=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-h;return{x:u,y:f,width:o.width,height:o.height}}function Dm(e){return Es(e).position==="static"}function Fw(e,t){if(!Zs(e)||Es(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return an(e)===r&&(r=r.ownerDocument.body),r}function rC(e,t){const r=Or(e);if(pf(e))return r;if(!Zs(e)){let a=Aa(e);for(;a&&!Vo(a);){if(ks(a)&&!Dm(a))return a;a=Aa(a)}return r}let s=Fw(e,t);for(;s&&rL(s)&&Dm(s);)s=Fw(s,t);return s&&Vo(s)&&Dm(s)&&!Nv(s)?r:s||sL(e)||r}const pL=async function(e){const t=this.getOffsetParent||rC,r=this.getDimensions,s=await r(e.floating);return{reference:mL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function gL(e){return Es(e).direction==="rtl"}const xL={convertOffsetParentRelativeRectToViewportRelativeRect:iL,getDocumentElement:an,getClippingRect:hL,getOffsetParent:rC,getElementRects:pL,getClientRects:oL,getDimensions:fL,getScale:po,isElement:ks,isRTL:gL};function vL(e,t){let r=null,s;const a=an(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:h,width:u,height:f}=e.getBoundingClientRect();if(l||t(),!u||!f)return;const p=Hd(h),y=Hd(a.clientWidth-(d+u)),v=Hd(a.clientHeight-(h+f)),w=Hd(d),x={rootMargin:-p+"px "+-y+"px "+-v+"px "+-w+"px",threshold:Pr(0,Ra(1,c))||1};let j=!0;function b(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(b,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,x)}r.observe(e)}return o(!0),i}function yL(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Sv(e),h=a||i?[...d?Tc(d):[],...Tc(t)]:[];h.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const u=d&&l?vL(d,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let y,v=c?pi(e):null;c&&w();function w(){const g=pi(e);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&r(),v=g,y=requestAnimationFrame(w)}return r(),()=>{var g;h.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),u==null||u(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const wL=J5,jL=X5,bL=Q5,_L=tL,NL=Y5,$w=G5,CL=eL,SL=(e,t,r)=>{const s=new Map,a={platform:xL,...r},i={...a.platform,_c:s};return K5(e,t,{...a,platform:i})};var pu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function rh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!rh(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!rh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function sC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uw(e,t){const r=sC(e);return Math.round(t*r)/r}function Lm(e){const t=m.useRef(e);return pu(()=>{t.current=e}),t}function kL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(s);rh(f,s)||p(s);const[y,v]=m.useState(null),[w,g]=m.useState(null),x=m.useCallback(O=>{O!==_.current&&(_.current=O,v(O))},[]),j=m.useCallback(O=>{O!==C.current&&(C.current=O,g(O))},[]),b=i||y,S=o||w,_=m.useRef(null),C=m.useRef(null),N=m.useRef(h),A=c!=null,k=Lm(c),T=Lm(a),P=Lm(d),$=m.useCallback(()=>{if(!_.current||!C.current)return;const O={placement:t,strategy:r,middleware:f};T.current&&(O.platform=T.current),SL(_.current,C.current,O).then(L=>{const Z={...L,isPositioned:P.current!==!1};D.current&&!rh(N.current,Z)&&(N.current=Z,Ci.flushSync(()=>{u(Z)}))})},[f,t,r,T,P]);pu(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,u(O=>({...O,isPositioned:!1})))},[d]);const D=m.useRef(!1);pu(()=>(D.current=!0,()=>{D.current=!1}),[]),pu(()=>{if(b&&(_.current=b),S&&(C.current=S),b&&S){if(k.current)return k.current(b,S,$);$()}},[b,S,$,k,A]);const q=m.useMemo(()=>({reference:_,floating:C,setReference:x,setFloating:j}),[x,j]),B=m.useMemo(()=>({reference:b,floating:S}),[b,S]),te=m.useMemo(()=>{const O={position:r,left:0,top:0};if(!B.floating)return O;const L=Uw(B.floating,h.x),Z=Uw(B.floating,h.y);return l?{...O,transform:"translate("+L+"px, "+Z+"px)",...sC(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:Z}},[r,l,B.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:$,refs:q,elements:B,floatingStyles:te}),[h,$,q,B,te])}const EL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?$w({element:s.current,padding:a}).fn(r):{}:s?$w({element:s,padding:a}).fn(r):{}}}},RL=(e,t)=>({...wL(e),options:[e,t]}),PL=(e,t)=>({...jL(e),options:[e,t]}),TL=(e,t)=>({...CL(e),options:[e,t]}),AL=(e,t)=>({...bL(e),options:[e,t]}),OL=(e,t)=>({..._L(e),options:[e,t]}),ML=(e,t)=>({...NL(e),options:[e,t]}),IL=(e,t)=>({...EL(e),options:[e,t]});var DL="Arrow",nC=m.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(me.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});nC.displayName=DL;var LL=nC;function FL(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:p,...y}=u,v=(f==null?void 0:f[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})}function h(u,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,$L(a,...t)]}function $L(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var kv="Popper",[aC,xf]=FL(kv),[UL,iC]=aC(kv),oC=e=>{const{__scopePopper:t,children:r}=e,[s,a]=m.useState(null);return n.jsx(UL,{scope:t,anchor:s,onAnchorChange:a,children:r})};oC.displayName=kv;var lC="PopperAnchor",cC=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=iC(lC,r),o=m.useRef(null),l=Fe(t,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(me.div,{...a,ref:l})});cC.displayName=lC;var Ev="PopperContent",[zL,VL]=aC(Ev),dC=m.forwardRef((e,t)=>{var ae,Ee,De,Re,ze,Le;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=e,w=iC(Ev,r),[g,x]=m.useState(null),j=Fe(t,St=>x(St)),[b,S]=m.useState(null),_=hf(b),C=(_==null?void 0:_.width)??0,N=(_==null?void 0:_.height)??0,A=s+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},T=Array.isArray(d)?d:[d],P=T.length>0,$={padding:k,boundary:T.filter(qL),altBoundary:P},{refs:D,floatingStyles:q,placement:B,isPositioned:te,middlewareData:O}=kL({strategy:"fixed",placement:A,whileElementsMounted:(...St)=>yL(...St,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[RL({mainAxis:a+N,alignmentAxis:o}),c&&PL({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?TL():void 0,...$}),c&&AL({...$}),OL({...$,apply:({elements:St,rects:Ht,availableWidth:ln,availableHeight:Cr})=>{const{width:Vn,height:E}=Ht.reference,I=St.floating.style;I.setProperty("--radix-popper-available-width",`${ln}px`),I.setProperty("--radix-popper-available-height",`${Cr}px`),I.setProperty("--radix-popper-anchor-width",`${Vn}px`),I.setProperty("--radix-popper-anchor-height",`${E}px`)}}),b&&IL({element:b,padding:l}),WL({arrowWidth:C,arrowHeight:N}),f&&ML({strategy:"referenceHidden",...$})]}),[L,Z]=fC(B),K=Wt(y);Dt(()=>{te&&(K==null||K())},[te,K]);const oe=(ae=O.arrow)==null?void 0:ae.x,ye=(Ee=O.arrow)==null?void 0:Ee.y,ke=((De=O.arrow)==null?void 0:De.centerOffset)!==0,[at,ce]=m.useState();return Dt(()=>{g&&ce(window.getComputedStyle(g).zIndex)},[g]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:te?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(Re=O.transformOrigin)==null?void 0:Re.x,(ze=O.transformOrigin)==null?void 0:ze.y].join(" "),...((Le=O.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(zL,{scope:r,placedSide:L,onArrowChange:S,arrowX:oe,arrowY:ye,shouldHideArrow:ke,children:n.jsx(me.div,{"data-side":L,"data-align":Z,...v,ref:j,style:{...v.style,animation:te?void 0:"none"}})})})});dC.displayName=Ev;var uC="PopperArrow",BL={top:"bottom",right:"left",bottom:"top",left:"right"},hC=m.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=VL(uC,s),o=BL[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(LL,{...a,ref:r,style:{...a.style,display:"block"}})})});hC.displayName=uC;function qL(e){return e!==null}var WL=e=>({name:"transformOrigin",options:e,fn(t){var w,g,x;const{placement:r,rects:s,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=fC(r),u={start:"0%",center:"50%",end:"100%"}[h],f=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",v="";return d==="bottom"?(y=o?u:`${f}px`,v=`${-c}px`):d==="top"?(y=o?u:`${f}px`,v=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,v=o?u:`${p}px`):d==="left"&&(y=`${s.floating.width+c}px`,v=o?u:`${p}px`),{data:{x:y,y:v}}}});function fC(e){const[t,r="center"]=e.split("-");return[t,r]}var mC=oC,pC=cC,gC=dC,xC=hC;function HL(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:p,...y}=u,v=(f==null?void 0:f[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})}function h(u,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,KL(a,...t)]}function KL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Fm="rovingFocusGroup.onEntryFocus",GL={bubbles:!1,cancelable:!0},vf="RovingFocusGroup",[Og,vC,QL]=Xc(vf),[YL,il]=HL(vf,[QL]),[ZL,JL]=YL(vf),yC=m.forwardRef((e,t)=>n.jsx(Og.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Og.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(XL,{...e,ref:t})})}));yC.displayName=vf;var XL=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,f=m.useRef(null),p=Fe(t,f),y=sl(i),[v=null,w]=Ir({prop:o,defaultProp:l,onChange:c}),[g,x]=m.useState(!1),j=Wt(d),b=vC(r),S=m.useRef(!1),[_,C]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(Fm,j),()=>N.removeEventListener(Fm,j)},[j]),n.jsx(ZL,{scope:r,orientation:s,dir:y,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>C(N=>N-1),[]),children:n.jsx(me.div,{tabIndex:g||_===0?-1:0,"data-orientation":s,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{S.current=!0}),onFocus:re(e.onFocus,N=>{const A=!S.current;if(N.target===N.currentTarget&&A&&!g){const k=new CustomEvent(Fm,GL);if(N.currentTarget.dispatchEvent(k),!k.defaultPrevented){const T=b().filter(B=>B.focusable),P=T.find(B=>B.active),$=T.find(B=>B.id===v),q=[P,$,...T].filter(Boolean).map(B=>B.ref.current);bC(q,h)}}S.current=!1}),onBlur:re(e.onBlur,()=>x(!1))})})}),wC="RovingFocusGroupItem",jC=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=ts(),c=i||l,d=JL(wC,r),h=d.currentTabStopId===c,u=vC(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=d;return m.useEffect(()=>{if(s)return f(),()=>p()},[s,f,p]),n.jsx(Og.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:re(e.onMouseDown,y=>{s?d.onItemFocus(c):y.preventDefault()}),onFocus:re(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:re(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=r3(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let g=u().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const x=g.indexOf(y.currentTarget);g=d.loop?s3(g,x+1):g.slice(x+1)}setTimeout(()=>bC(g))}})})})});jC.displayName=wC;var e3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function t3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function r3(e,t,r){const s=t3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return e3[s]}function bC(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function s3(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Rv=yC,Pv=jC,n3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Li=new WeakMap,Kd=new WeakMap,Gd={},$m=0,_C=function(e){return e&&(e.host||_C(e.parentNode))},a3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=_C(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},i3=function(e,t,r,s){var a=a3(t,Array.isArray(e)?e:[e]);Gd[r]||(Gd[r]=new WeakMap);var i=Gd[r],o=[],l=new Set,c=new Set(a),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};a.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(f){if(l.has(f))h(f);else try{var p=f.getAttribute(s),y=p!==null&&p!=="false",v=(Li.get(f)||0)+1,w=(i.get(f)||0)+1;Li.set(f,v),i.set(f,w),o.push(f),v===1&&y&&Kd.set(f,!0),w===1&&f.setAttribute(r,"true"),y||f.setAttribute(s,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return h(t),l.clear(),$m++,function(){o.forEach(function(u){var f=Li.get(u)-1,p=i.get(u)-1;Li.set(u,f),i.set(u,p),f||(Kd.has(u)||u.removeAttribute(s),Kd.delete(u)),p||u.removeAttribute(r)}),$m--,$m||(Li=new WeakMap,Li=new WeakMap,Kd=new WeakMap,Gd={})}},Tv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=n3(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),i3(s,a,r,"aria-hidden")):function(){return null}},Bs=function(){return Bs=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bs.apply(this,arguments)};function NC(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function o3(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var gu="right-scroll-bar-position",xu="width-before-scroll-bar",l3="with-scroll-bars-hidden",c3="--removed-body-scroll-bar-size";function Um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d3(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var u3=typeof window<"u"?m.useLayoutEffect:m.useEffect,zw=new WeakMap;function h3(e,t){var r=d3(null,function(s){return e.forEach(function(a){return Um(a,s)})});return u3(function(){var s=zw.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Um(l,null)}),i.forEach(function(l){a.has(l)||Um(l,o)})}zw.set(r,e)},[e]),r}function f3(e){return e}function m3(e,t){t===void 0&&(t=f3);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return a}function p3(e){e===void 0&&(e={});var t=m3(null);return t.options=Bs({async:!0,ssr:!1},e),t}var CC=function(e){var t=e.sideCar,r=NC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Bs({},r))};CC.isSideCarExport=!0;function g3(e,t){return e.useMedium(t),CC}var SC=p3(),zm=function(){},yf=m.forwardRef(function(e,t){var r=m.useRef(null),s=m.useState({onScrollCapture:zm,onWheelCapture:zm,onTouchMoveCapture:zm}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,f=e.sideCar,p=e.noIsolation,y=e.inert,v=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,x=e.gapMode,j=NC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,S=h3([r,t]),_=Bs(Bs({},j),a);return m.createElement(m.Fragment,null,h&&m.createElement(b,{sideCar:SC,removeScrollBar:d,shards:u,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(l),Bs(Bs({},_),{ref:S})):m.createElement(g,Bs({},_,{className:c,ref:S}),l))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:xu,zeroRight:gu};var x3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function v3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x3();return t&&e.setAttribute("nonce",t),e}function y3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function w3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var j3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=v3())&&(y3(t,r),w3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b3=function(){var e=j3();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kC=function(){var e=b3(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},_3={left:0,top:0,right:0,gap:0},Vm=function(e){return parseInt(e||"",10)||0},N3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Vm(r),Vm(s),Vm(a)]},C3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _3;var t=N3(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},S3=kC(),go="data-scroll-locked",k3=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(l3,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(go,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(xu,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(go,`] {
    `).concat(c3,": ").concat(l,`px;
  }
`)},Vw=function(){var e=parseInt(document.body.getAttribute(go)||"0",10);return isFinite(e)?e:0},E3=function(){m.useEffect(function(){return document.body.setAttribute(go,(Vw()+1).toString()),function(){var e=Vw()-1;e<=0?document.body.removeAttribute(go):document.body.setAttribute(go,e.toString())}},[])},R3=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;E3();var i=m.useMemo(function(){return C3(a)},[a]);return m.createElement(S3,{styles:k3(i,!t,a,r?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Qd=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{Mg=!1}var Fi=Mg?{passive:!1}:!1,P3=function(e){return e.tagName==="TEXTAREA"},EC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!P3(e)&&r[t]==="visible")},T3=function(e){return EC(e,"overflowY")},A3=function(e){return EC(e,"overflowX")},Bw=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=RC(e,s);if(a){var i=PC(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},O3=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},M3=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},RC=function(e,t){return e==="v"?T3(t):A3(t)},PC=function(e,t){return e==="v"?O3(t):M3(t)},I3=function(e,t){return e==="h"&&t==="rtl"?-1:1},D3=function(e,t,r,s,a){var i=I3(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,h=o>0,u=0,f=0;do{var p=PC(e,l),y=p[0],v=p[1],w=p[2],g=v-w-i*y;(y||g)&&RC(e,l)&&(u+=g,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(u)<1||!a)||!h&&(Math.abs(f)<1||!a))&&(d=!0),d},Yd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qw=function(e){return[e.deltaX,e.deltaY]},Ww=function(e){return e&&"current"in e?e.current:e},L3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$3=0,$i=[];function U3(e){var t=m.useRef([]),r=m.useRef([0,0]),s=m.useRef(),a=m.useState($3++)[0],i=m.useState(kC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=o3([e.lockRef.current],(e.shards||[]).map(Ww),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=Yd(v),x=r.current,j="deltaX"in v?v.deltaX:x[0]-g[0],b="deltaY"in v?v.deltaY:x[1]-g[1],S,_=v.target,C=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in v&&C==="h"&&_.type==="range")return!1;var N=Bw(C,_);if(!N)return!0;if(N?S=C:(S=C==="v"?"h":"v",N=Bw(C,_)),!N)return!1;if(!s.current&&"changedTouches"in v&&(j||b)&&(s.current=S),!S)return!0;var A=s.current||S;return D3(A,w,v,A==="h"?j:b,!0)},[]),c=m.useCallback(function(v){var w=v;if(!(!$i.length||$i[$i.length-1]!==i)){var g="deltaY"in w?qw(w):Yd(w),x=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&L3(S.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var j=(o.current.shards||[]).map(Ww).filter(Boolean).filter(function(S){return S.contains(w.target)}),b=j.length>0?l(w,j[0]):!o.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(v,w,g,x){var j={name:v,delta:w,target:g,should:x,shadowParent:z3(g)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),h=m.useCallback(function(v){r.current=Yd(v),s.current=void 0},[]),u=m.useCallback(function(v){d(v.type,qw(v),v.target,l(v,e.lockRef.current))},[]),f=m.useCallback(function(v){d(v.type,Yd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return $i.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Fi),document.addEventListener("touchmove",c,Fi),document.addEventListener("touchstart",h,Fi),function(){$i=$i.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Fi),document.removeEventListener("touchmove",c,Fi),document.removeEventListener("touchstart",h,Fi)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:F3(a)}):null,p?m.createElement(R3,{gapMode:e.gapMode}):null)}function z3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const V3=g3(SC,U3);var wf=m.forwardRef(function(e,t){return m.createElement(yf,Bs({},e,{ref:t,sideCar:V3}))});wf.classNames=yf.classNames;var Ig=["Enter"," "],B3=["ArrowDown","PageUp","Home"],TC=["ArrowUp","PageDown","End"],q3=[...B3,...TC],W3={ltr:[...Ig,"ArrowRight"],rtl:[...Ig,"ArrowLeft"]},H3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ld="Menu",[Ac,K3,G3]=Xc(ld),[ki,AC]=br(ld,[G3,xf,il]),jf=xf(),OC=il(),[Q3,Ei]=ki(ld),[Y3,cd]=ki(ld),MC=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=jf(t),[c,d]=m.useState(null),h=m.useRef(!1),u=Wt(i),f=sl(a);return m.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(mC,{...l,children:n.jsx(Q3,{scope:t,open:r,onOpenChange:u,content:c,onContentChange:d,children:n.jsx(Y3,{scope:t,onClose:m.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:f,modal:o,children:s})})})};MC.displayName=ld;var Z3="MenuAnchor",Av=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=jf(r);return n.jsx(pC,{...a,...s,ref:t})});Av.displayName=Z3;var Ov="MenuPortal",[J3,IC]=ki(Ov,{forceMount:void 0}),DC=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Ei(Ov,t);return n.jsx(J3,{scope:t,forceMount:r,children:n.jsx(zr,{present:r||i.open,children:n.jsx(td,{asChild:!0,container:a,children:s})})})};DC.displayName=Ov;var rs="MenuContent",[X3,Mv]=ki(rs),LC=m.forwardRef((e,t)=>{const r=IC(rs,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ei(rs,e.__scopeMenu),o=cd(rs,e.__scopeMenu);return n.jsx(Ac.Provider,{scope:e.__scopeMenu,children:n.jsx(zr,{present:s||i.open,children:n.jsx(Ac.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(eF,{...a,ref:t}):n.jsx(tF,{...a,ref:t})})})})}),eF=m.forwardRef((e,t)=>{const r=Ei(rs,e.__scopeMenu),s=m.useRef(null),a=Fe(t,s);return m.useEffect(()=>{const i=s.current;if(i)return Tv(i)},[]),n.jsx(Iv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tF=m.forwardRef((e,t)=>{const r=Ei(rs,e.__scopeMenu);return n.jsx(Iv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Iv=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:p,disableOutsideScroll:y,...v}=e,w=Ei(rs,r),g=cd(rs,r),x=jf(r),j=OC(r),b=K3(r),[S,_]=m.useState(null),C=m.useRef(null),N=Fe(t,C,w.onContentChange),A=m.useRef(0),k=m.useRef(""),T=m.useRef(0),P=m.useRef(null),$=m.useRef("right"),D=m.useRef(0),q=y?wf:m.Fragment,B=y?{as:Rn,allowPinchZoom:!0}:void 0,te=L=>{var ae,Ee;const Z=k.current+L,K=b().filter(De=>!De.disabled),oe=document.activeElement,ye=(ae=K.find(De=>De.ref.current===oe))==null?void 0:ae.textValue,ke=K.map(De=>De.textValue),at=fF(ke,Z,ye),ce=(Ee=K.find(De=>De.textValue===at))==null?void 0:Ee.ref.current;(function De(Re){k.current=Re,window.clearTimeout(A.current),Re!==""&&(A.current=window.setTimeout(()=>De(""),1e3))})(Z),ce&&setTimeout(()=>ce.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),wv();const O=m.useCallback(L=>{var K,oe;return $.current===((K=P.current)==null?void 0:K.side)&&pF(L,(oe=P.current)==null?void 0:oe.area)},[]);return n.jsx(X3,{scope:r,searchRef:k,onItemEnter:m.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:m.useCallback(L=>{var Z;O(L)||((Z=C.current)==null||Z.focus(),_(null))},[O]),onTriggerLeave:m.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:T,onPointerGraceIntentChange:m.useCallback(L=>{P.current=L},[]),children:n.jsx(q,{...B,children:n.jsx(ff,{asChild:!0,trapped:a,onMountAutoFocus:re(i,L=>{var Z;L.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(ed,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:p,children:n.jsx(Rv,{asChild:!0,...j,dir:g.dir,orientation:"vertical",loop:s,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:re(c,L=>{g.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(gC,{role:"menu","aria-orientation":"vertical","data-state":XC(w.open),"data-radix-menu-content":"",dir:g.dir,...x,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:re(v.onKeyDown,L=>{const K=L.target.closest("[data-radix-menu-content]")===L.currentTarget,oe=L.ctrlKey||L.altKey||L.metaKey,ye=L.key.length===1;K&&(L.key==="Tab"&&L.preventDefault(),!oe&&ye&&te(L.key));const ke=C.current;if(L.target!==ke||!q3.includes(L.key))return;L.preventDefault();const ce=b().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);TC.includes(L.key)&&ce.reverse(),uF(ce)}),onBlur:re(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:re(e.onPointerMove,Oc(L=>{const Z=L.target,K=D.current!==L.clientX;if(L.currentTarget.contains(Z)&&K){const oe=L.clientX>D.current?"right":"left";$.current=oe,D.current=L.clientX}}))})})})})})})});LC.displayName=rs;var rF="MenuGroup",Dv=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(me.div,{role:"group",...s,ref:t})});Dv.displayName=rF;var sF="MenuLabel",FC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(me.div,{...s,ref:t})});FC.displayName=sF;var sh="MenuItem",Hw="menu.itemSelect",bf=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=m.useRef(null),o=cd(sh,e.__scopeMenu),l=Mv(sh,e.__scopeMenu),c=Fe(t,i),d=m.useRef(!1),h=()=>{const u=i.current;if(!r&&u){const f=new CustomEvent(Hw,{bubbles:!0,cancelable:!0});u.addEventListener(Hw,p=>s==null?void 0:s(p),{once:!0}),Kx(u,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx($C,{...a,ref:c,disabled:r,onClick:re(e.onClick,h),onPointerDown:u=>{var f;(f=e.onPointerDown)==null||f.call(e,u),d.current=!0},onPointerUp:re(e.onPointerUp,u=>{var f;d.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:re(e.onKeyDown,u=>{const f=l.searchRef.current!=="";r||f&&u.key===" "||Ig.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});bf.displayName=sh;var $C=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=Mv(sh,r),l=OC(r),c=m.useRef(null),d=Fe(t,c),[h,u]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),n.jsx(Ac.ItemSlot,{scope:r,disabled:s,textValue:a??f,children:n.jsx(Pv,{asChild:!0,...l,focusable:!s,children:n.jsx(me.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:re(e.onPointerMove,Oc(y=>{s?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,Oc(y=>o.onItemLeave(y))),onFocus:re(e.onFocus,()=>u(!0)),onBlur:re(e.onBlur,()=>u(!1))})})})}),nF="MenuCheckboxItem",UC=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(WC,{scope:e.__scopeMenu,checked:r,children:n.jsx(bf,{role:"menuitemcheckbox","aria-checked":nh(r)?"mixed":r,...a,ref:t,"data-state":Fv(r),onSelect:re(a.onSelect,()=>s==null?void 0:s(nh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});UC.displayName=nF;var zC="MenuRadioGroup",[aF,iF]=ki(zC,{value:void 0,onValueChange:()=>{}}),VC=m.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Wt(s);return n.jsx(aF,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(Dv,{...a,ref:t})})});VC.displayName=zC;var BC="MenuRadioItem",qC=m.forwardRef((e,t)=>{const{value:r,...s}=e,a=iF(BC,e.__scopeMenu),i=r===a.value;return n.jsx(WC,{scope:e.__scopeMenu,checked:i,children:n.jsx(bf,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":Fv(i),onSelect:re(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});qC.displayName=BC;var Lv="MenuItemIndicator",[WC,oF]=ki(Lv,{checked:!1}),HC=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=oF(Lv,r);return n.jsx(zr,{present:s||nh(i.checked)||i.checked===!0,children:n.jsx(me.span,{...a,ref:t,"data-state":Fv(i.checked)})})});HC.displayName=Lv;var lF="MenuSeparator",KC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});KC.displayName=lF;var cF="MenuArrow",GC=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=jf(r);return n.jsx(xC,{...a,...s,ref:t})});GC.displayName=cF;var dF="MenuSub",[O9,QC]=ki(dF),Ll="MenuSubTrigger",YC=m.forwardRef((e,t)=>{const r=Ei(Ll,e.__scopeMenu),s=cd(Ll,e.__scopeMenu),a=QC(Ll,e.__scopeMenu),i=Mv(Ll,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},h=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),c(null)}},[l,c]),n.jsx(Av,{asChild:!0,...d,children:n.jsx($C,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":XC(r.open),...e,ref:Hh(t,a.onTriggerChange),onClick:u=>{var f;(f=e.onClick)==null||f.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,Oc(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:re(e.onPointerLeave,Oc(u=>{var p,y;h();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const v=(y=r.content)==null?void 0:y.dataset.side,w=v==="right",g=w?-5:5,x=f[w?"left":"right"],j=f[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+g,y:u.clientY},{x,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x,y:f.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,u=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&u.key===" "||W3[s.dir].includes(u.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),u.preventDefault())})})})});YC.displayName=Ll;var ZC="MenuSubContent",JC=m.forwardRef((e,t)=>{const r=IC(rs,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Ei(rs,e.__scopeMenu),o=cd(rs,e.__scopeMenu),l=QC(ZC,e.__scopeMenu),c=m.useRef(null),d=Fe(t,c);return n.jsx(Ac.Provider,{scope:e.__scopeMenu,children:n.jsx(zr,{present:s||i.open,children:n.jsx(Ac.Slot,{scope:e.__scopeMenu,children:n.jsx(Iv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;o.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(e.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:re(e.onKeyDown,h=>{var p;const u=h.currentTarget.contains(h.target),f=H3[o.dir].includes(h.key);u&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});JC.displayName=ZC;function XC(e){return e?"open":"closed"}function nh(e){return e==="indeterminate"}function Fv(e){return nh(e)?"indeterminate":e?"checked":"unchecked"}function uF(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function hF(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function fF(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=hF(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function mF(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,h=t[o].y;c>s!=h>s&&r<(d-l)*(s-c)/(h-c)+l&&(a=!a)}return a}function pF(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return mF(r,t)}function Oc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gF=MC,xF=Av,vF=DC,yF=LC,wF=Dv,jF=FC,bF=bf,_F=UC,NF=VC,CF=qC,SF=HC,kF=KC,EF=GC,RF=YC,PF=JC,$v="DropdownMenu",[TF,M9]=br($v,[AC]),or=AC(),[AF,eS]=TF($v),tS=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=or(t),d=m.useRef(null),[h=!1,u]=Ir({prop:a,defaultProp:i,onChange:o});return n.jsx(AF,{scope:t,triggerId:ts(),triggerRef:d,contentId:ts(),open:h,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:l,children:n.jsx(gF,{...c,open:h,onOpenChange:u,dir:s,modal:l,children:r})})};tS.displayName=$v;var rS="DropdownMenuTrigger",sS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=eS(rS,r),o=or(r);return n.jsx(xF,{asChild:!0,...o,children:n.jsx(me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Hh(t,i.triggerRef),onPointerDown:re(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:re(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});sS.displayName=rS;var OF="DropdownMenuPortal",nS=e=>{const{__scopeDropdownMenu:t,...r}=e,s=or(t);return n.jsx(vF,{...s,...r})};nS.displayName=OF;var aS="DropdownMenuContent",iS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=eS(aS,r),i=or(r),o=m.useRef(!1);return n.jsx(yF,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:re(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!a.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iS.displayName=aS;var MF="DropdownMenuGroup",IF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(wF,{...a,...s,ref:t})});IF.displayName=MF;var DF="DropdownMenuLabel",oS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(jF,{...a,...s,ref:t})});oS.displayName=DF;var LF="DropdownMenuItem",lS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(bF,{...a,...s,ref:t})});lS.displayName=LF;var FF="DropdownMenuCheckboxItem",cS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(_F,{...a,...s,ref:t})});cS.displayName=FF;var $F="DropdownMenuRadioGroup",UF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(NF,{...a,...s,ref:t})});UF.displayName=$F;var zF="DropdownMenuRadioItem",dS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(CF,{...a,...s,ref:t})});dS.displayName=zF;var VF="DropdownMenuItemIndicator",uS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(SF,{...a,...s,ref:t})});uS.displayName=VF;var BF="DropdownMenuSeparator",hS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(kF,{...a,...s,ref:t})});hS.displayName=BF;var qF="DropdownMenuArrow",WF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(EF,{...a,...s,ref:t})});WF.displayName=qF;var HF="DropdownMenuSubTrigger",fS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(RF,{...a,...s,ref:t})});fS.displayName=HF;var KF="DropdownMenuSubContent",mS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=or(r);return n.jsx(PF,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mS.displayName=KF;var GF=tS,QF=sS,YF=nS,pS=iS,gS=oS,xS=lS,vS=cS,yS=dS,wS=uS,jS=hS,bS=fS,_S=mS;const Mc=GF,Ic=QF,ZF=m.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(bS,{ref:a,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(GA,{className:"ml-auto h-4 w-4"})]}));ZF.displayName=bS.displayName;const JF=m.forwardRef(({className:e,...t},r)=>n.jsx(_S,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));JF.displayName=_S.displayName;const Bo=m.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(YF,{children:n.jsx(pS,{ref:s,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Bo.displayName=pS.displayName;const Zr=m.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(xS,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Zr.displayName=xS.displayName;const XF=m.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(vS,{ref:a,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(wS,{children:n.jsx(Qs,{className:"h-4 w-4"})})}),t]}));XF.displayName=vS.displayName;const e$=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(yS,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(wS,{children:n.jsx(R1,{className:"h-2 w-2 fill-current"})})}),t]}));e$.displayName=yS.displayName;const _f=m.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(gS,{ref:s,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));_f.displayName=gS.displayName;const qo=m.forwardRef(({className:e,...t},r)=>n.jsx(jS,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));qo.displayName=jS.displayName;const t$=Yo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xe({className:e,variant:t,...r}){return n.jsx("div",{className:J(t$({variant:t}),e),...r})}var Uv="Dialog",[NS,CS]=br(Uv),[r$,Rs]=NS(Uv),SS=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d=!1,h]=Ir({prop:s,defaultProp:a,onChange:i});return n.jsx(r$,{scope:t,triggerRef:l,contentRef:c,contentId:ts(),titleId:ts(),descriptionId:ts(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(u=>!u),[h]),modal:o,children:r})};SS.displayName=Uv;var kS="DialogTrigger",ES=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Rs(kS,r),i=Fe(t,a.triggerRef);return n.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Bv(a.open),...s,ref:i,onClick:re(e.onClick,a.onOpenToggle)})});ES.displayName=kS;var zv="DialogPortal",[s$,RS]=NS(zv,{forceMount:void 0}),PS=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Rs(zv,t);return n.jsx(s$,{scope:t,forceMount:r,children:m.Children.map(s,o=>n.jsx(zr,{present:r||i.open,children:n.jsx(td,{asChild:!0,container:a,children:o})}))})};PS.displayName=zv;var ah="DialogOverlay",TS=m.forwardRef((e,t)=>{const r=RS(ah,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Rs(ah,e.__scopeDialog);return i.modal?n.jsx(zr,{present:s||i.open,children:n.jsx(n$,{...a,ref:t})}):null});TS.displayName=ah;var n$=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Rs(ah,r);return n.jsx(wf,{as:Rn,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(me.div,{"data-state":Bv(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),gi="DialogContent",AS=m.forwardRef((e,t)=>{const r=RS(gi,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Rs(gi,e.__scopeDialog);return n.jsx(zr,{present:s||i.open,children:i.modal?n.jsx(a$,{...a,ref:t}):n.jsx(i$,{...a,ref:t})})});AS.displayName=gi;var a$=m.forwardRef((e,t)=>{const r=Rs(gi,e.__scopeDialog),s=m.useRef(null),a=Fe(t,r.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return Tv(i)},[]),n.jsx(OS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:re(e.onFocusOutside,i=>i.preventDefault())})}),i$=m.forwardRef((e,t)=>{const r=Rs(gi,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return n.jsx(OS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),OS=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Rs(gi,r),c=m.useRef(null),d=Fe(t,c);return wv(),n.jsxs(n.Fragment,{children:[n.jsx(ff,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(ed,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Bv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(l$,{titleId:l.titleId}),n.jsx(d$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vv="DialogTitle",MS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Rs(Vv,r);return n.jsx(me.h2,{id:a.titleId,...s,ref:t})});MS.displayName=Vv;var IS="DialogDescription",DS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Rs(IS,r);return n.jsx(me.p,{id:a.descriptionId,...s,ref:t})});DS.displayName=IS;var LS="DialogClose",FS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Rs(LS,r);return n.jsx(me.button,{type:"button",...s,ref:t,onClick:re(e.onClick,()=>a.onOpenChange(!1))})});FS.displayName=LS;function Bv(e){return e?"open":"closed"}var $S="DialogTitleWarning",[o$,US]=oA($S,{contentName:gi,titleName:Vv,docsSlug:"dialog"}),l$=({titleId:e})=>{const t=US($S),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},c$="DialogDescriptionWarning",d$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${US(c$).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},qv=SS,Wv=ES,Hv=PS,dd=TS,ud=AS,hd=MS,fd=DS,Nf=FS;const Kv=qv,Gv=Wv,u$=Hv,zS=m.forwardRef(({className:e,...t},r)=>n.jsx(dd,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));zS.displayName=dd.displayName;const h$=Yo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Cf=m.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(u$,{children:[n.jsx(zS,{}),n.jsxs(ud,{ref:a,className:J(h$({side:e}),t),...s,children:[r,n.jsxs(Nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(nd,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cf.displayName=ud.displayName;const VS=({className:e,...t})=>n.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});VS.displayName="SheetHeader";const BS=m.forwardRef(({className:e,...t},r)=>n.jsx(hd,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));BS.displayName=hd.displayName;const qS=m.forwardRef(({className:e,...t},r)=>n.jsx(fd,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));qS.displayName=fd.displayName;var Qv="Avatar",[f$,I9]=br(Qv),[m$,WS]=f$(Qv),HS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=m.useState("idle");return n.jsx(m$,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(me.span,{...s,ref:t})})});HS.displayName=Qv;var KS="AvatarImage",GS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=WS(KS,r),l=p$(s,i.referrerPolicy),c=Wt(d=>{a(d),o.onImageLoadingStatusChange(d)});return Dt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(me.img,{...i,ref:t,src:s}):null});GS.displayName=KS;var QS="AvatarFallback",YS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=WS(QS,r),[o,l]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(me.span,{...a,ref:t}):null});YS.displayName=QS;function p$(e,t){const[r,s]=m.useState("idle");return Dt(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var ZS=HS,JS=GS,XS=YS;const Dc=m.forwardRef(({className:e,...t},r)=>n.jsx(ZS,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Dc.displayName=ZS.displayName;const g$=m.forwardRef(({className:e,...t},r)=>n.jsx(JS,{ref:r,className:J("aspect-square h-full w-full",e),...t}));g$.displayName=JS.displayName;const Lc=m.forwardRef(({className:e,...t},r)=>n.jsx(XS,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Lc.displayName=XS.displayName;function Vt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function x$(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Zd=43200,Kw=1440;let v$={};function y$(){return v$}function Gw(e){const t=Vt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vu(e,t){const r=Vt(e),s=Vt(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function w$(e){return x$(e,Date.now())}function j$(e,t){const r=Vt(e),s=Vt(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function b$(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function _$(e,t){return+Vt(e)-+Vt(t)}function N$(e){const t=Vt(e);return t.setHours(23,59,59,999),t}function C$(e){const t=Vt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function S$(e){const t=Vt(e);return+N$(t)==+C$(t)}function k$(e,t){const r=Vt(e),s=Vt(t),a=vu(r,s),i=Math.abs(j$(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=vu(r,s)===-a;S$(Vt(e))&&i===1&&vu(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function E$(e,t,r){const s=_$(e,t)/1e3;return b$(r==null?void 0:r.roundingMethod)(s)}const R$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P$=(e,t,r)=>{let s;const a=R$[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Bm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const T$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M$={date:Bm({formats:T$,defaultWidth:"full"}),time:Bm({formats:A$,defaultWidth:"full"}),dateTime:Bm({formats:O$,defaultWidth:"full"})},I$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D$=(e,t,r,s)=>I$[e];function kl(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const L$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},z$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B$=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},q$={ordinalNumber:B$,era:kl({values:L$,defaultWidth:"wide"}),quarter:kl({values:F$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kl({values:$$,defaultWidth:"wide"}),day:kl({values:U$,defaultWidth:"wide"}),dayPeriod:kl({values:z$,defaultWidth:"wide",formattingValues:V$,defaultFormattingWidth:"wide"})};function El(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?H$(l,u=>u.test(o)):W$(l,u=>u.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function W$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function H$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function K$(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const G$=/^(\d+)(th|st|nd|rd)?/i,Q$=/\d+/i,Y$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z$={any:[/^b/i,/^(a|c)/i]},J$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X$={any:[/1/i,/2/i,/3/i,/4/i]},e6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i6={ordinalNumber:K$({matchPattern:G$,parsePattern:Q$,valueCallback:e=>parseInt(e,10)}),era:El({matchPatterns:Y$,defaultMatchWidth:"wide",parsePatterns:Z$,defaultParseWidth:"any"}),quarter:El({matchPatterns:J$,defaultMatchWidth:"wide",parsePatterns:X$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:El({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any"}),day:El({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),dayPeriod:El({matchPatterns:n6,defaultMatchWidth:"any",parsePatterns:a6,defaultParseWidth:"any"})},o6={code:"en-US",formatDistance:P$,formatLong:M$,formatRelative:D$,localize:q$,match:i6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l6(e,t,r){const s=y$(),a=(r==null?void 0:r.locale)??s.locale??o6,i=2520,o=vu(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Vt(t),d=Vt(e)):(c=Vt(e),d=Vt(t));const h=E$(d,c),u=(Gw(d)-Gw(c))/1e3,f=Math.round((h-u)/60);let p;if(f<2)return r!=null&&r.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,l):h<10?a.formatDistance("lessThanXSeconds",10,l):h<20?a.formatDistance("lessThanXSeconds",20,l):h<40?a.formatDistance("halfAMinute",0,l):h<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<Kw){const y=Math.round(f/60);return a.formatDistance("aboutXHours",y,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Zd){const y=Math.round(f/Kw);return a.formatDistance("xDays",y,l)}else if(f<Zd*2)return p=Math.round(f/Zd),a.formatDistance("aboutXMonths",p,l)}if(p=k$(d,c),p<12){const y=Math.round(f/Zd);return a.formatDistance("xMonths",y,l)}else{const y=p%12,v=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",v,l):y<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function bn(e,t){return l6(e,w$(e),t)}function c6({queryKey:e,queryFn:t,dependencies:r=[],...s}){const a=m.useMemo(()=>e,r),i=m.useMemo(()=>t,r);return et({queryKey:a,queryFn:i,staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:1,...s})}const ek=F.memo(({onClose:e})=>{const{user:t}=Xe(),[r,s]=m.useState([]),{data:a,isLoading:i}=c6({queryKey:["notifications",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:u,error:f}=await M.from("notifications").select("*").or(`user_id.eq.${t.id},is_global.eq.true`).order("created_at",{ascending:!1}).limit(50);if(f)throw f;return u||[]},dependencies:[t==null?void 0:t.id],enabled:!!t});m.useEffect(()=>{a&&s(a)},[a]);const o=m.useCallback(async u=>{try{const{error:f}=await M.from("notifications").update({is_read:!0}).eq("id",u);if(f)throw f;s(p=>p.map(y=>y.id===u?{...y,is_read:!0}:y))}catch(f){console.error("Error marking notification as read:",f)}},[]),l=m.useCallback(async u=>{try{const{error:f}=await M.from("notifications").delete().eq("id",u);if(f)throw f;s(p=>p.filter(y=>y.id!==u)),z.success("Notification deleted")}catch(f){console.error("Error deleting notification:",f),z.error("Failed to delete notification")}},[]),c=m.useCallback(async()=>{try{const u=r.filter(p=>!p.is_read).map(p=>p.id);if(u.length===0){z.info("No unread notifications");return}const{error:f}=await M.from("notifications").update({is_read:!0}).in("id",u);if(f)throw f;s(p=>p.map(y=>({...y,is_read:!0}))),z.success("All notifications marked as read")}catch(u){console.error("Error marking all as read:",u),z.error("Failed to mark all as read")}},[r]),d=m.useCallback(u=>{switch(u){case"success":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},[]),h=m.useMemo(()=>r.filter(u=>!u.is_read).length,[r]);return i?n.jsx("div",{className:"w-full p-4",children:n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx("div",{className:"w-6 h-6 border-2 border-t-[#00C853] border-gray-200 rounded-full animate-spin"})})}):n.jsxs("div",{className:"w-full p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[n.jsx(ui,{className:"h-5 w-5 mr-2"}),"Notifications",h>0&&n.jsx(xe,{variant:"destructive",className:"ml-2",children:h})]}),h>0&&n.jsxs(V,{onClick:c,variant:"outline",size:"sm",className:"flex items-center",children:[n.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Mark All Read"]})]}),r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No notifications yet"})]}):n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map(u=>n.jsx("div",{className:`p-3 rounded-lg border transition-colors ${u.is_read?"bg-gray-50 border-gray-200":"bg-white border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:u.title}),n.jsx(xe,{className:`${d(u.type)} text-xs`,children:u.type}),!u.is_read&&n.jsx(xe,{variant:"destructive",className:"text-xs",children:"New"})]}),n.jsx("p",{className:"text-gray-700 text-sm mb-2",children:u.message}),n.jsx("p",{className:"text-xs text-gray-500",children:bn(new Date(u.created_at),{addSuffix:!0})})]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[!u.is_read&&n.jsx(V,{onClick:()=>o(u.id),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 h-8 w-8 p-0",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(V,{onClick:()=>l(u.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800 h-8 w-8 p-0",children:n.jsx(L1,{className:"h-4 w-4"})})]})]})},u.id))})]})});ek.displayName="OptimizedNotificationCenter";const Sf="/lovable-uploads/629a36a7-2859-4c33-9657-12a1dfea41ed.png",tt=F.memo(()=>{var p,y,v,w;const{user:e,signOut:t,isAdmin:r}=Xe(),s=Nr(),[a,i]=m.useState(!1),[o]=m.useState(0),[l,c]=m.useState(!1),d=m.useMemo(()=>{var g,x;return((g=e==null?void 0:e.user_metadata)==null?void 0:g.name)||((x=e==null?void 0:e.email)==null?void 0:x.split("@")[0])||"User"},[(p=e==null?void 0:e.user_metadata)==null?void 0:p.name,e==null?void 0:e.email]),h=m.useMemo(()=>{var g;return((g=e==null?void 0:e.email)==null?void 0:g.charAt(0).toUpperCase())||"U"},[e==null?void 0:e.email]),u=async()=>{await t(),s("/")},f=()=>{s("/admin")};return console.log("UnifiedHeader - isAdmin:",r,"user:",e==null?void 0:e.email),n.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:n.jsxs("div",{className:"max-w-[993px] mx-auto px-4 md:px-6 h-16 flex items-center justify-between",children:[n.jsx(We,{to:"/dashboard",className:"flex items-center",children:n.jsx("div",{className:"h-10 w-auto mr-2 flex items-center",children:n.jsx("img",{src:Sf,alt:"Learn & Earn",className:"h-auto w-full max-h-10 object-contain",style:{filter:"brightness(1.2) contrast(1.2)",maxWidth:"150px"},loading:"eager"})})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[n.jsx(We,{to:"/dashboard",className:"text-gray-700 hover:text-[#00C853] font-medium",children:"Dashboard"}),n.jsx(We,{to:"/my-courses",className:"text-gray-700 hover:text-[#00C853] font-medium",children:"My Courses"}),n.jsx(We,{to:"/referrals",className:"text-gray-700 hover:text-[#00C853] font-medium",children:"Refer & Earn"}),n.jsx(We,{to:"/wallet",className:"text-gray-700 hover:text-[#00C853] font-medium",children:"Wallet"}),r&&n.jsxs(V,{onClick:f,className:"flex items-center space-x-1 px-3 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors font-medium",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Mc,{open:l,onOpenChange:c,children:[n.jsx(Ic,{asChild:!0,children:n.jsxs(V,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(ui,{className:"h-5 w-5"}),o>0&&n.jsx(xe,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500",children:o>9?"9+":o})]})}),n.jsx(Bo,{align:"end",className:"w-80",children:n.jsx(ek,{onClose:()=>c(!1)})})]}),n.jsxs(Mc,{children:[n.jsx(Ic,{asChild:!0,className:"hidden md:flex",children:n.jsxs(V,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(Dc,{className:"h-8 w-8",children:n.jsx(Lc,{className:"bg-[#00C853] text-white",children:h})}),n.jsx("span",{className:"text-sm font-normal",children:d})]})}),n.jsxs(Bo,{align:"end",children:[n.jsx(_f,{children:"My Account"}),n.jsx(qo,{}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/profile",children:"Profile"})}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/wallet",children:"Wallet"})}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/feedback",children:"Feedback"})}),n.jsx(qo,{}),n.jsx(Zr,{onClick:u,children:"Logout"})]})]}),n.jsxs(Kv,{open:a,onOpenChange:i,children:[n.jsx(Gv,{asChild:!0,className:"md:hidden ml-2",children:n.jsx(V,{variant:"ghost",size:"icon",children:n.jsx(Jx,{className:"h-6 w-6"})})}),n.jsx(Cf,{side:"right",className:"w-[300px]",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx(Dc,{className:"h-10 w-10",children:n.jsx(Lc,{className:"bg-[#00C853] text-white",children:((y=e==null?void 0:e.email)==null?void 0:y.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:"font-semibold",children:((v=e==null?void 0:e.user_metadata)==null?void 0:v.name)||((w=e==null?void 0:e.email)==null?void 0:w.split("@")[0])||"User"}),n.jsx("p",{className:"text-sm text-gray-500",children:e==null?void 0:e.email}),r&&n.jsxs(xe,{className:"mt-1 bg-purple-100 text-purple-800 border-purple-200 text-xs",children:[n.jsx(Cs,{className:"h-3 w-3 mr-1"}),"Admin"]})]})]}),n.jsxs("nav",{className:"flex flex-col space-y-4",children:[n.jsx(We,{to:"/dashboard",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"Dashboard"}),n.jsx(We,{to:"/my-courses",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"My Courses"}),n.jsx(We,{to:"/referrals",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"Refer & Earn"}),n.jsx(We,{to:"/wallet",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"Wallet"}),n.jsx(We,{to:"/profile",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"Profile"}),n.jsx(We,{to:"/feedback",className:"px-2 py-2 rounded-lg hover:bg-gray-100 font-medium",onClick:()=>i(!1),children:"Feedback"}),r&&n.jsxs(V,{onClick:()=>{f(),i(!1)},className:"px-2 py-2 rounded-lg bg-purple-100 text-purple-700 hover:bg-purple-200 font-medium flex items-center justify-start space-x-2",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]})]}),n.jsx("div",{className:"mt-auto pt-4",children:n.jsx(V,{variant:"outline",className:"w-full",onClick:u,children:"Logout"})})]})})]})]})]})})});tt.displayName="UnifiedHeader";const Ge=()=>n.jsx("footer",{className:"bg-gray-100 py-6 mt-auto border-t border-gray-200",children:n.jsxs("div",{className:"max-w-[993px] mx-auto px-6 max-sm:p-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsx("div",{className:"mb-4 md:mb-0",children:n.jsx(We,{to:"/",className:"flex items-center",children:n.jsx("img",{src:Sf,alt:"Learn and Earn Logo",className:"h-9 w-auto mr-2",style:{filter:"brightness(1.2) contrast(1.2)",maxWidth:"120px"},onError:e=>{const t=e.currentTarget;t.style.display="none"}})})}),n.jsx("div",{className:"text-center md:text-left mb-4 md:mb-0",children:n.jsxs("ul",{className:"flex flex-wrap justify-center md:justify-start space-x-4",children:[n.jsx("li",{children:n.jsx(We,{to:"/policies",className:"text-sm text-gray-600 hover:text-[#00C853]",children:"Terms & Conditions"})}),n.jsx("li",{children:n.jsx(We,{to:"/policies",className:"text-sm text-gray-600 hover:text-[#00C853]",children:"Privacy Policy"})}),n.jsx("li",{children:n.jsx(We,{to:"/policies",className:"text-sm text-gray-600 hover:text-[#00C853]",children:"Refund Policy"})})]})}),n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Contact: ",n.jsx("a",{href:"mailto:learnandearn776@gmail.com",className:"hover:text-[#00C853]",children:"learnandearn776@gmail.com"})]})})]}),n.jsxs("div",{className:"text-xs text-center mt-4 text-gray-500",children:[" ",new Date().getFullYear()," Learn and Earn. All rights reserved."]})]})}),Q=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Q.displayName="Card";const he=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));he.displayName="CardHeader";const fe=m.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));fe.displayName="CardTitle";const xi=m.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));xi.displayName="CardDescription";const Y=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));Y.displayName="CardContent";const Yv=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));Yv.displayName="CardFooter";const d6=({title:e,description:t,price:r,type:s,onClick:a,isPurchased:i=!1,thumbnail:o})=>n.jsx(Q,{className:"w-full bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:n.jsxs(Y,{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx(xe,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:s}),i&&n.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-200",children:[n.jsx(_c,{className:"h-3 w-3 mr-1"}),"Purchased"]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"text-xl font-bold text-[#00C853]",children:["",r]}),!i&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Earn ",Math.floor(r*.5)," per referral"]})]}),n.jsx(V,{onClick:a,className:`w-full ${i?"bg-green-600 hover:bg-green-700":"bg-[#00C853] hover:bg-green-700"} text-white`,children:i?n.jsxs(n.Fragment,{children:[n.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Start Learning"]}):"Buy Now"})]})}),u6=({userName:e,walletBalance:t})=>n.jsxs("div",{className:"flex justify-between items-center mb-8 p-8 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 max-sm:flex-col max-sm:text-center max-sm:gap-4",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("h1",{className:"text-[26px] font-bold mb-2",children:["Welcome, ",e,"!"]}),n.jsx("p",{className:"text-sm text-blue-100",children:"Learn new skills and earn through referrals"})]}),n.jsxs("div",{className:"bg-[rgba(255,255,255,0.1)] p-4 rounded-lg",children:[n.jsx("div",{className:"text-xs text-white mb-1",children:"Wallet Balance"}),n.jsxs("div",{className:"text-[17px] font-bold text-white",children:["",t]})]})]}),h6=()=>{const{user:e}=Xe();return et({queryKey:["dashboard",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const[t,r,s,a]=await Promise.all([M.from("courses").select("id, title, description, thumbnail_url, price, is_active, referral_reward").eq("is_active",!0).order("title"),M.from("wallet").select("balance, total_earned").eq("user_id",e.id).maybeSingle(),M.from("purchases").select("course_id").eq("user_id",e.id).eq("payment_status","completed"),M.from("referrals").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","completed")]);if(t.error)throw t.error;if(s.error)throw s.error;const i=t.data||[],o=r.data,l=s.data||[],c=a.count||0,d=new Set(l.map(f=>f.course_id)),h=i.map(f=>({...f,isPurchased:d.has(f.id)})),u={balance:(o==null?void 0:o.balance)||0,totalEarned:(o==null?void 0:o.total_earned)||0,coursesOwned:d.size,totalReferrals:c};return{courses:h,stats:u}},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3})};function Is({className:e,...t}){return n.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const f6=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Is,{className:"h-7 w-48"}),n.jsx(Is,{className:"h-4 w-32"})]}),n.jsx(Is,{className:"h-6 w-20"})]}),n.jsx(Is,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Is,{className:"h-8 w-48"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(e=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-5",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx(Is,{className:"h-6 w-3/4"}),n.jsx(Is,{className:"h-5 w-20"})]}),n.jsx(Is,{className:"h-4 w-full mb-2"}),n.jsx(Is,{className:"h-4 w-2/3 mb-4"}),n.jsx(Is,{className:"h-10 w-full"})]},e))})]})]}),m6=()=>{var d,h;const{user:e}=Xe(),t=Nr(),{data:r,isLoading:s,error:a}=h6(),i=((d=e==null?void 0:e.user_metadata)==null?void 0:d.name)||((h=e==null?void 0:e.email)==null?void 0:h.split("@")[0])||"User",o=(u,f)=>{t(f?`/course/${u}`:`/payment/${u}`)};if(a&&(z.error("Failed to load dashboard data"),console.error("Dashboard error:",a)),s)return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:n.jsx(f6,{})}),n.jsx(Ge,{})]});const{courses:l=[],stats:c={balance:0,totalEarned:0,coursesOwned:0,totalReferrals:0}}=r||{};return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsx(u6,{userName:i,walletBalance:c.balance}),n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Courses"}),l.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(u=>n.jsx(d6,{title:u.title,description:u.description||"No description available",price:u.price,type:"Web Course",onClick:()=>o(u.id,u.isPurchased),isPurchased:u.isPurchased,thumbnail:u.thumbnail_url||void 0},u.id))}):n.jsx(Q,{children:n.jsxs(Y,{className:"p-8 text-center",children:[n.jsx(Yr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No courses available"}),n.jsx("p",{className:"text-gray-600",children:"New courses will appear here when they're added."})]})})]})]}),n.jsx(Ge,{})]})},p6=()=>{const e=Fn();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};async function g6(){var e;try{console.log("Fetching user courses...");const t=(e=(await M.auth.getUser()).data.user)==null?void 0:e.id;if(!t)return console.error("No authenticated user found"),[];const{data:r,error:s}=await M.from("purchases").select(`
        course_id,
        courses (
          *,
          modules:course_modules(
            *,
            lessons (*)
          )
        )
      `).eq("user_id",t).eq("payment_status","completed");if(s)return console.error("Error fetching purchases:",s),[];if(!r||r.length===0)return console.log("No purchased courses found"),[];const{data:a}=await M.from("user_progress").select("module_id, lesson_id, completed").eq("user_id",t).eq("completed",!0),i=new Set((a==null?void 0:a.map(l=>l.module_id).filter(Boolean))||[]),o=r.filter(l=>l.courses).map(l=>{const c=l.courses,d=c.modules||[],h=d.length,u=d.filter(p=>i.has(p.id)).length,f=h>0?Math.round(u/h*100):0;return{id:c.id,title:c.title,description:c.description,price:c.price,modules:d,totalModules:h,completedModules:u,progress:f}});return console.log("Successfully fetched user courses:",o.length),o}catch(t){return console.error("Exception fetching user courses:",t),[]}}const x6=()=>{const{user:e}=Xe(),t=Nr(),[r,s]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{if(e)try{i(!0),l(null),console.log("Loading user courses...");const h=await g6();s(h),console.log("Courses loaded successfully:",h.length)}catch(h){console.error("Error loading courses:",h),l("Failed to load your courses. Please try again."),z.error("Failed to load courses")}finally{i(!1)}})()},[e]);const c=d=>{t(`/course/${d}`)};return e?a?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading your courses..."})]})})}),n.jsx(Ge,{})]}):o?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsxs("div",{className:"text-red-500 mb-4",children:[n.jsx(Yr,{className:"h-16 w-16 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Course Loading Error"}),n.jsx("p",{children:o})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#00C853] text-white rounded-lg hover:bg-[#00B248]",children:"Retry"})]})}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(Yr,{className:"h-8 w-8 text-[#00C853] mr-3"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Courses"})]}),r.length===0?n.jsx(Q,{className:"text-center py-12",children:n.jsxs(Y,{children:[n.jsx(Yr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Courses Yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't purchased any courses yet. Browse our course catalog to get started."}),n.jsx(V,{onClick:()=>t("/dashboard"),className:"bg-[#00C853] hover:bg-[#00B248] text-white",children:"Browse Courses"})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(d=>n.jsxs(Q,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[n.jsx(he,{children:n.jsx(fe,{className:"text-lg",children:d.title})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:d.description}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"flex items-center text-gray-500",children:[n.jsx(Yr,{className:"h-4 w-4 mr-1"}),d.totalModules," modules"]}),n.jsxs("span",{className:"flex items-center text-green-600",children:[n.jsx(Ns,{className:"h-4 w-4 mr-1"}),d.completedModules,"/",d.totalModules," completed"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-[#00C853] h-2 rounded-full transition-all duration-300",style:{width:`${d.progress}%`}})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(d.progress),"% complete"]}),n.jsxs(V,{size:"sm",onClick:()=>c(d.id),className:"bg-[#00C853] hover:bg-[#00B248] text-white",children:[d.progress>0?"Continue":"Start",n.jsx(HA,{className:"h-4 w-4 ml-1"})]})]})]})]})]},d.id))})]}),n.jsx(Ge,{})]}):n.jsx(Tn,{to:"/auth",replace:!0})},qm=()=>{const[e,t]=m.useState(!1),{user:r,isAdmin:s}=Xe(),a=Nr();sn();const i=()=>{t(!e)},o=()=>{a("/admin")};return n.jsx("header",{className:"bg-white border-b border-gray-200",children:n.jsxs("div",{className:"max-w-[1200px] mx-auto px-6 py-4 flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(Vr,{to:"/dashboard",className:"flex items-center",children:n.jsxs("div",{className:"h-10 w-auto mr-2 flex items-center",children:[n.jsx("img",{src:Sf,alt:"Learn & Earn",className:"h-auto w-full max-h-10 object-contain",style:{filter:"brightness(1.2) contrast(1.2)",maxWidth:"150px"},onError:l=>{const c=l.currentTarget;c.style.display="none";const d=l.currentTarget.nextElementSibling;d&&(d.style.display="block")}}),n.jsx("span",{className:"text-lg font-bold text-gray-900 hidden",style:{display:"none"},children:"Learn & Earn"})]})})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[n.jsx(Vr,{to:"/dashboard",className:({isActive:l})=>l?"text-blue-600 font-medium":"text-gray-600 hover:text-gray-900",children:"Home"}),n.jsx(Vr,{to:"/my-courses",className:({isActive:l})=>l?"text-blue-600 font-medium":"text-gray-600 hover:text-gray-900",children:"My Courses"}),n.jsx(Vr,{to:"/referrals",className:({isActive:l})=>l?"text-blue-600 font-medium":"text-gray-600 hover:text-gray-900",children:"Referrals"}),n.jsx(Vr,{to:"/wallet",className:({isActive:l})=>l?"text-blue-600 font-medium":"text-gray-600 hover:text-gray-900",children:"Wallet"}),n.jsx(Vr,{to:"/profile",className:({isActive:l})=>l?"text-blue-600 font-medium":"text-gray-600 hover:text-gray-900",children:"Profile"}),s&&n.jsxs(V,{onClick:o,variant:"outline",size:"sm",className:"border-purple-200 text-purple-700 hover:bg-purple-50 flex items-center space-x-1",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]})]}),n.jsx("button",{className:"md:hidden",onClick:i,"aria-label":"Toggle menu",children:n.jsx(Jx,{className:"h-6 w-6"})}),e&&n.jsx("div",{className:"md:hidden absolute top-16 right-0 left-0 bg-white z-50 border-b border-gray-200 shadow-md",children:n.jsxs("div",{className:"flex flex-col p-4 space-y-3",children:[n.jsx(Vr,{to:"/dashboard",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"Home"}),n.jsx(Vr,{to:"/my-courses",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"My Courses"}),n.jsx(Vr,{to:"/referrals",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"Referrals"}),n.jsx(Vr,{to:"/wallet",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"Wallet"}),n.jsx(Vr,{to:"/profile",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"Profile"}),s&&n.jsxs(V,{onClick:()=>{o(),t(!1)},variant:"outline",className:"p-2 text-purple-700 border border-purple-200 rounded-md bg-purple-50 flex items-center justify-center space-x-1",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]}),n.jsx(Vr,{to:"/feedback",className:({isActive:l})=>l?"text-blue-600 font-medium p-2":"text-gray-600 hover:text-gray-900 p-2",onClick:()=>t(!1),children:"Send Feedback"})]})})]})})},Wm=({title:e="Learn & Earn - Master Skills, Earn Money",description:t="Learn high-demand skills through our affordable PDF courses and earn 50% commission by referring friends. Start your learning journey today!",keywords:r="online learning, PDF courses, referral program, earn money, skill development, AI tools, stock market, education",image:s="/assets/learnandearn-logo.png",url:a="https://learn-and-earn.in",type:i="website"})=>{const o=e.includes("Learn & Earn")?e:`${e} | Learn & Earn`,l=a.startsWith("http")?a:`https://learn-and-earn.in${a}`,c=s.startsWith("http")?s:`https://learn-and-earn.in${s}`;return n.jsxs(QT,{children:[n.jsx("title",{children:o}),n.jsx("meta",{name:"description",content:t}),n.jsx("meta",{name:"keywords",content:r}),n.jsx("meta",{name:"author",content:"Learn & Earn"}),n.jsx("meta",{name:"robots",content:"index, follow"}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.jsx("link",{rel:"canonical",href:l}),n.jsx("meta",{property:"og:title",content:o}),n.jsx("meta",{property:"og:description",content:t}),n.jsx("meta",{property:"og:image",content:c}),n.jsx("meta",{property:"og:url",content:l}),n.jsx("meta",{property:"og:type",content:i}),n.jsx("meta",{property:"og:site_name",content:"Learn & Earn"}),n.jsx("meta",{property:"og:locale",content:"en_IN"}),n.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{name:"twitter:title",content:o}),n.jsx("meta",{name:"twitter:description",content:t}),n.jsx("meta",{name:"twitter:image",content:c}),n.jsx("meta",{name:"twitter:site",content:"@learnandearn_in"}),n.jsx("meta",{name:"theme-color",content:"#00C853"}),n.jsx("meta",{name:"msapplication-TileColor",content:"#00C853"}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"EducationalOrganization",name:"Learn & Earn",description:t,url:l,logo:c,sameAs:["https://t.me/learnandearn_in","https://wa.me/learnandearn"]})})]})},v6=()=>{const{courseId:e}=hv(),[t,r]=m.useState(null),[s,a]=m.useState(!1),[i,o]=m.useState(!0),{user:l}=Xe(),c=Nr(),{toast:d}=sn();m.useEffect(()=>{(async()=>{if(e)try{o(!0);const{data:p,error:y}=await M.from("courses").select("*").eq("id",e).eq("is_active",!0).single();if(y){console.error("Error fetching course:",y),d({title:"Error",description:"Course not found",variant:"destructive"}),c("/dashboard");return}if(r(p),l){const{data:v,error:w}=await M.from("purchases").select("id").eq("user_id",l.id).eq("course_id",e).eq("payment_status","completed").maybeSingle();!w&&v&&a(!0)}}catch(p){console.error("Error fetching course data:",p),d({title:"Error",description:"Failed to load course details",variant:"destructive"})}finally{o(!1)}})()},[e,l,c,d]);const h=()=>{if(!l){d({title:"Login Required",description:"Please login to purchase courses",variant:"destructive"}),c("/auth");return}c(`/payment/${e}`)},u=()=>{c(`/course/${e}/content`)};return i?n.jsxs(n.Fragment,{children:[n.jsx(Wm,{title:"Loading Course..."}),n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(qm,{}),n.jsx("main",{className:"flex-grow flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading course details..."})]})}),n.jsx(Ge,{})]})]}):t?n.jsxs(n.Fragment,{children:[n.jsx(Wm,{title:t.title,description:t.description||`Learn ${t.title} through our comprehensive course. Earn ${t.referral_reward} per referral!`,type:"article",url:`/course/${t.id}`,image:t.thumbnail_url||void 0}),n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(qm,{}),n.jsx("main",{className:"max-w-[1200px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(xe,{variant:"outline",children:"PDF Course"}),n.jsx(xe,{className:"bg-green-100 text-green-800",children:"Active"})]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4 leading-tight break-words",children:t.title}),n.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:t.description||"Comprehensive course designed to help you master essential skills and earn while you learn."})]}),t.thumbnail_url&&n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:t.thumbnail_url,alt:`${t.title} course thumbnail`,className:"w-full h-64 object-cover rounded-lg shadow-md",loading:"lazy"})}),n.jsx(Q,{className:"mb-8",children:n.jsxs(Y,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What you'll learn"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Yr,{className:"h-5 w-5 text-[#00C853] mr-3 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Comprehensive course modules"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(q0,{className:"h-5 w-5 text-[#00C853] mr-3 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Interactive lessons"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ys,{className:"h-5 w-5 text-[#00C853] mr-3 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Self-paced learning"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-5 w-5 text-[#00C853] mr-3 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Lifetime access"})]})]})]})}),n.jsx(Q,{children:n.jsxs(Y,{className:"p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Earn with Referrals"}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(D1,{className:"h-5 w-5 text-yellow-600 mr-2 flex-shrink-0"}),n.jsxs("span",{className:"font-semibold text-yellow-800 break-words",children:["Earn ",t.referral_reward," per referral!"]})]}),n.jsxs("p",{className:"text-yellow-700 text-sm",children:["Share your referral code with friends and earn ",(t.referral_reward/t.price*100).toFixed(0),"% commission on every successful purchase."]})]})]})})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(Q,{className:"sticky top-6",children:n.jsxs(Y,{className:"p-6",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["",t.price]}),n.jsx("p",{className:"text-gray-600",children:"One-time payment"})]}),s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-green-800 font-semibold mb-1",children:"Course Purchased!"}),n.jsx("div",{className:"text-green-600 text-sm",children:"You have full access to this course"})]}),n.jsxs(V,{onClick:u,className:"w-full bg-[#00C853] hover:bg-green-700",size:"lg",children:[n.jsx(q0,{className:"h-5 w-5 mr-2"}),"Start Learning"]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(V,{onClick:h,className:"w-full bg-[#00C853] hover:bg-green-700",size:"lg",children:"Buy Course"}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-sm text-gray-600",children:"Secure payment powered by Razorpay"})})]}),n.jsxs("div",{className:"border-t pt-4 mt-6",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"This course includes:"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx(Yr,{className:"h-4 w-4 text-[#00C853] mr-2 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Structured learning modules"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Ys,{className:"h-4 w-4 text-[#00C853] mr-2 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Self-paced progress"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-4 w-4 text-[#00C853] mr-2 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:"Lifetime access"})]})]})]})]})})})]})}),n.jsx(Ge,{})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(Wm,{title:"Course Not Found"}),n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(qm,{}),n.jsx("main",{className:"max-w-[1200px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Yr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Course Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The course you're looking for doesn't exist or is no longer available."}),n.jsx(V,{onClick:()=>c("/dashboard"),className:"bg-[#00C853] hover:bg-green-700",children:"Back to Dashboard"})]})}),n.jsx(Ge,{})]})]})};function y6(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];function d(u){const{scope:f,children:p,...y}=u,v=(f==null?void 0:f[e][c])||l,w=m.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})}function h(u,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,w6(a,...t)]}function w6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(i)[`__scope${d}`];return{...l,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Zv="Progress",Jv=100,[j6,D9]=y6(Zv),[b6,_6]=j6(Zv),tk=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=N6,...o}=e;(a||a===0)&&!Qw(a)&&console.error(C6(`${a}`,"Progress"));const l=Qw(a)?a:Jv;s!==null&&!Yw(s,l)&&console.error(S6(`${s}`,"Progress"));const c=Yw(s,l)?s:null,d=ih(c)?i(c,l):void 0;return n.jsx(b6,{scope:r,value:c,max:l,children:n.jsx(me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ih(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":nk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});tk.displayName=Zv;var rk="ProgressIndicator",sk=m.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=_6(rk,r);return n.jsx(me.div,{"data-state":nk(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});sk.displayName=rk;function N6(e,t){return`${Math.round(e/t*100)}%`}function nk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ih(e){return typeof e=="number"}function Qw(e){return ih(e)&&!isNaN(e)&&e>0}function Yw(e,t){return ih(e)&&!isNaN(e)&&e<=t&&e>=0}function C6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jv}\`.`}function S6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ak=tk,k6=sk;const xs=m.forwardRef(({className:e,value:t,...r},s)=>n.jsx(ak,{ref:s,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(k6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xs.displayName=ak.displayName;const E6=({courseId:e,courseTitle:t})=>{const{user:r}=Xe(),[s,a]=m.useState([]),[i,o]=m.useState(null),[l,c]=m.useState(null),[d,h]=m.useState(0),[u,f]=m.useState(!0),[p,y]=m.useState(new Set);m.useEffect(()=>{(async()=>{if(!(!r||!e))try{f(!0);const{data:N,error:A}=await M.from("course_modules").select("*").eq("course_id",e).eq("is_active",!0).order("module_order");if(A){console.error("Error loading modules:",A),await v();return}if(!N||N.length===0){await v();return}const k=await Promise.all(N.map(async T=>{const{data:P,error:$}=await M.from("lessons").select("*").eq("module_id",T.id).order("lesson_order");if($)return console.error("Error loading lessons:",$),{...T,lessons:[]};const D=await Promise.all((P||[]).map(async q=>{const{data:B}=await M.from("user_progress").select("completed").eq("user_id",r.id).eq("lesson_id",q.id).single();return{...q,completed:(B==null?void 0:B.completed)||!1}}));return{...T,lessons:D}}));if(a(k),k.length>0&&!i){const T=k[0];o(T.id),y(new Set([T.id])),T.lessons.length>0&&c(T.lessons[0].id)}w(k)}catch(N){console.error("Error loading course content:",N),z.error("Failed to load course content")}finally{f(!1)}})()},[r,e,i]);const v=async()=>{try{const C=[{course_id:e,title:"Introduction & Getting Started",description:"Welcome to the course! Learn the basics and set up your environment.",content:"This module covers the fundamentals and helps you get started.",module_order:1,is_active:!0},{course_id:e,title:"Core Concepts",description:"Dive deep into the main concepts and principles.",content:"Understanding the core concepts is essential for mastery.",module_order:2,is_active:!0},{course_id:e,title:"Practical Applications",description:"Apply what you've learned through hands-on exercises.",content:"Put theory into practice with real-world examples.",module_order:3,is_active:!0}];for(const N of C){const{data:A,error:k}=await M.from("course_modules").insert(N).select().single();if(k){console.error("Error creating module:",k);continue}const T=[{module_id:A.id,title:`${N.title} - Lesson 1`,content:`Welcome to ${N.title}! This lesson introduces the key concepts you'll learn in this module.`,lesson_order:1},{module_id:A.id,title:`${N.title} - Lesson 2`,content:`In this lesson, we'll dive deeper into the practical aspects of ${N.title.toLowerCase()}.`,lesson_order:2}];for(const P of T){const{error:$}=await M.from("lessons").insert(P);$&&console.error("Error creating lesson:",$)}}window.location.reload()}catch(C){console.error("Error creating demo modules:",C)}},w=C=>{const N=C.reduce((T,P)=>T+P.lessons.length,0),A=C.reduce((T,P)=>T+P.lessons.filter($=>$.completed).length,0),k=N>0?A/N*100:0;h(k)},g=async C=>{if(r)try{const{error:N}=await M.from("user_progress").upsert({user_id:r.id,lesson_id:C,completed:!0,completed_at:new Date().toISOString()});if(N){console.error("Error marking lesson complete:",N);return}a(A=>A.map(k=>({...k,lessons:k.lessons.map(T=>T.id===C?{...T,completed:!0}:T)}))),z.success("Lesson completed!"),w(s)}catch(N){console.error("Error marking lesson complete:",N),z.error("Failed to mark lesson as complete")}},x=C=>{const N=new Set(p);N.has(C)?N.delete(C):N.add(C),y(N)},j=()=>{if(!l)return null;for(const C of s){const N=C.lessons.find(A=>A.id===l);if(N)return N}return null},b=()=>{if(!l)return null;for(let C=0;C<s.length;C++){const N=s[C],A=N.lessons.findIndex(k=>k.id===l);if(A!==-1){if(A<N.lessons.length-1)return N.lessons[A+1];if(C<s.length-1&&s[C+1].lessons.length>0)return s[C+1].lessons[0]}}return null},S=j(),_=b();return u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading course content..."})]})}):n.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 lg:gap-6",children:[n.jsx("div",{className:"lg:col-span-1 order-2 lg:order-1",children:n.jsxs(Q,{className:"sticky top-4",children:[n.jsxs(he,{className:"pb-3",children:[n.jsx(fe,{className:"text-lg",children:"Course Progress"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xs,{value:d,className:"w-full h-2"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[Math.round(d),"% Complete"]})]})]}),n.jsx(Y,{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:s.map(C=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>{o(C.id),x(C.id)},className:`w-full text-left p-3 font-medium flex items-center justify-between transition-colors ${i===C.id?"bg-green-50 text-[#00C853]":"hover:bg-gray-50"}`,children:[n.jsx("span",{className:"text-sm font-medium truncate pr-2",children:C.title}),p.has(C.id)?n.jsx(E1,{className:"h-4 w-4 flex-shrink-0"}):n.jsx(Zh,{className:"h-4 w-4 flex-shrink-0"})]}),p.has(C.id)&&n.jsx("div",{className:"bg-gray-50 border-t",children:C.lessons.map(N=>n.jsxs("button",{onClick:()=>c(N.id),className:`w-full text-left text-sm p-3 border-b last:border-b-0 flex items-center transition-colors ${l===N.id?"bg-green-100 text-[#00C853]":"hover:bg-gray-100"}`,children:[N.completed?n.jsx(Ns,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}):n.jsx(Ys,{className:"h-4 w-4 mr-2 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:N.title})]},N.id))})]},C.id))})]})}),n.jsxs("div",{className:"lg:col-span-3 order-1 lg:order-2",children:[S?n.jsxs(Q,{children:[n.jsx(he,{className:"pb-4",children:n.jsxs(fe,{className:"flex items-start gap-3 text-lg lg:text-xl",children:[n.jsx(YA,{className:"h-6 w-6 mt-0.5 text-[#00C853] flex-shrink-0"}),n.jsx("span",{className:"leading-tight",children:S.title})]})}),n.jsxs(Y,{className:"space-y-6",children:[n.jsx("div",{className:"prose prose-sm lg:prose max-w-none",children:n.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-700",children:S.content})}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[S.completed?n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Completed"]}):n.jsxs(V,{onClick:()=>g(S.id),className:"bg-[#00C853] hover:bg-[#00B248] text-white w-full sm:w-auto",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Mark as Complete"]}),_&&n.jsx(V,{onClick:()=>c(_.id),variant:"outline",className:"w-full sm:w-auto",children:"Next Lesson"})]})})]})]}):n.jsx(Q,{children:n.jsxs(Y,{className:"text-center py-12",children:[n.jsx(Yr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Lesson"}),n.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Choose a module and lesson from the sidebar to start learning."})]})}),d===100&&n.jsx(Q,{className:"mt-6 bg-green-50 border-green-200",children:n.jsxs(Y,{className:"text-center py-6",children:[n.jsx(_c,{className:"h-12 w-12 text-green-600 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Congratulations!"}),n.jsx("p",{className:"text-green-600",children:"You have completed the entire course. Well done!"})]})})]})]})},R6=Yo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yr=m.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:J(R6({variant:t}),e),...r}));yr.displayName="Alert";const oh=m.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));oh.displayName="AlertTitle";const wr=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));wr.displayName="AlertDescription";const P6=()=>{const{courseId:e}=hv(),{user:t}=Xe(),r=Nr(),[s,a]=m.useState(null),[i,o]=m.useState(!1),[l,c]=m.useState(!0),[d,h]=m.useState(null);return m.useEffect(()=>{(async()=>{if(!t||!e){h("Authentication required"),c(!1);return}try{const{data:f,error:p}=await M.from("purchases").select("*").eq("user_id",t.id).eq("course_id",e).eq("payment_status","completed").maybeSingle();if(p){console.error("Error checking purchase:",p),h("Error verifying course access"),c(!1);return}if(!f){o(!1),h("You need to purchase this course to access the content"),c(!1);return}o(!0);const{data:y,error:v}=await M.from("courses").select("id, title, description").eq("id",e).single();if(v){console.error("Error loading course:",v),h("Course not found"),c(!1);return}a(y)}catch(f){console.error("Error in checkAccessAndLoadCourse:",f),h("An unexpected error occurred")}finally{c(!1)}})()},[t,e]),l?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"flex-grow flex items-center justify-center px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading course content..."})]})}),n.jsx(Ge,{})]}):d||!i?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-4 lg:px-6 py-6 lg:py-8 flex-grow",children:[n.jsx("div",{className:"mb-6",children:n.jsxs(V,{onClick:()=>r("/dashboard"),variant:"outline",className:"flex items-center",children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),n.jsxs(yr,{variant:"destructive",className:"max-w-md mx-auto",children:[n.jsx($o,{className:"h-4 w-4"}),n.jsx(wr,{children:d||"You do not have access to this course content."})]})]}),n.jsx(Ge,{})]}):s?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-4 lg:px-6 py-4 lg:py-8 flex-grow",children:[n.jsx("div",{className:"mb-4 lg:mb-6",children:n.jsxs(V,{onClick:()=>r("/my-courses"),variant:"outline",className:"flex items-center",children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to My Courses"]})}),n.jsx(E6,{courseId:e,courseTitle:s.title})]}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-4 lg:px-6 py-6 lg:py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx($o,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Course Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The requested course could not be found."}),n.jsx(V,{onClick:()=>r("/dashboard"),children:"Return to Dashboard"})]})}),n.jsx(Ge,{})]})},T6=()=>{const{courseId:e}=hv(),{user:t}=Xe(),r=Nr(),[s,a]=m.useState(null),[i,o]=m.useState(!0),[l,c]=m.useState("");m.useEffect(()=>{(async()=>{if(!e){r("/dashboard");return}try{const{data:u,error:f}=await M.from("courses").select("*").eq("id",e).eq("is_active",!0).single();if(f||!u){console.error("Error loading course:",f),z.error("Course not found"),r("/dashboard");return}a(u)}catch(u){console.error("Error loading course:",u),z.error("Failed to load course details"),r("/dashboard")}finally{o(!1)}})()},[e,r]);const d=()=>{z.info("Payment system is being set up. Please check back soon!")};return t?i?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading payment details..."})]})})}),n.jsx(Ge,{})]}):s?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:[n.jsx("div",{className:"mb-6",children:n.jsxs(V,{onClick:()=>r("/dashboard"),variant:"outline",className:"flex items-center",children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center",children:[n.jsx(I1,{className:"h-5 w-5 mr-2"}),"Course Details"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[s.thumbnail_url&&n.jsx("img",{src:s.thumbnail_url,alt:s.title,className:"w-full h-48 object-cover rounded-lg"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold",children:s.title}),n.jsx("p",{className:"text-gray-600 mt-2",children:s.description})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-medium",children:"Course Price:"}),n.jsxs("span",{className:"text-2xl font-bold text-[#00C853]",children:["",s.price]})]})})]})})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center",children:[n.jsx(Ys,{className:"h-5 w-5 mr-2"}),"Payment System"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Ys,{className:"h-5 w-5 text-yellow-600 mr-2"}),n.jsx("span",{className:"font-semibold text-yellow-800",children:"Payment System Coming Soon"})]}),n.jsx("p",{className:"text-yellow-700 text-sm",children:"We're setting up Razorpay integration. Course purchases will be available soon!"})]}),n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"referralCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Referral Code (Optional)"}),n.jsx(Be,{id:"referralCode",value:l,onChange:h=>c(h.target.value),placeholder:"Enter referral code",className:"w-full"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Have a referral code? Enter it here to get rewards for your referrer!"})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{children:"Course Fee:"}),n.jsxs("span",{children:["",s.price]})]}),n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{children:"Platform Fee:"}),n.jsx("span",{children:"0"})]}),n.jsx("div",{className:"border-t pt-2 mt-2",children:n.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[n.jsx("span",{children:"Total Amount:"}),n.jsxs("span",{className:"text-[#00C853]",children:["",s.price]})]})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2 text-green-500"}),"Instant course access after payment"]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2 text-green-500"}),"Lifetime access to course content"]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Ns,{className:"h-4 w-4 mr-2 text-green-500"}),"Earn 50% commission on referrals"]})]}),n.jsxs(V,{onClick:d,disabled:!0,className:"w-full bg-gray-400 text-white py-3 text-lg cursor-not-allowed",children:["Payment Coming Soon - ",s.price]}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Payment system is being integrated. Please check back soon!"})]})})]})]})]}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Course Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The requested course could not be found."}),n.jsx(V,{onClick:()=>r("/dashboard"),children:"Return to Dashboard"})]})}),n.jsx(Ge,{})]}):(r("/auth"),null)},ik=F.memo(()=>{const{state:e}=Fn(),t=Nr(),r=(e==null?void 0:e.courseTitle)||"your course";return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto my-0 px-6 py-8 max-sm:p-4 w-full flex-grow",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 text-center",children:[n.jsx("div",{className:"bg-green-50 h-24 w-24 rounded-full mx-auto mb-6 flex items-center justify-center",children:n.jsx("svg",{className:"h-12 w-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for purchasing ",r,". You can now access your course from the My Courses section."]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6 text-left",children:[n.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Share & Earn"}),n.jsx("p",{className:"text-yellow-700 mb-4",children:"Share your unique referral code with friends and earn 50% commission on every successful purchase!"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[n.jsx(V,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>t("/my-courses"),children:"View My Courses"}),n.jsx(V,{variant:"outline",onClick:()=>t("/referrals"),children:"Manage Referrals"})]})]})}),n.jsx(Ge,{})]})});ik.displayName="PaymentSuccess";async function A6(){try{const{data:{user:e}}=await M.auth.getUser();if(!e)return{canRefer:!1,coursesPurchased:0};console.log("Checking referral eligibility for user:",e.id);const{data:t,error:r}=await M.from("purchases").select("id, course_id").eq("user_id",e.id).eq("payment_status","completed");if(r)return console.error("Error checking purchases:",r),{canRefer:!1,coursesPurchased:0};const s=(t==null?void 0:t.length)||0;return console.log("User has purchased courses:",s),{canRefer:s>0,coursesPurchased:s}}catch(e){return console.error("Exception checking referral eligibility:",e),{canRefer:!1,coursesPurchased:0}}}async function O6(e){try{const{data:{user:t}}=await M.auth.getUser();if(!t)return null;console.log("Getting referral code for user:",t.id,"course:",e);const{data:r,error:s}=await M.rpc("get_or_create_course_referral_code",{p_user_id:t.id,p_course_id:e});return s?(console.error("Error getting course referral code:",s),null):(console.log("Course referral code:",r),r)}catch(t){return console.error("Exception getting course referral code:",t),null}}async function M6(){try{const{data:{user:e}}=await M.auth.getUser();if(!e)return{courseReferrals:[],canRefer:!1,overallStats:{totalEarned:0,totalReferrals:0}};if(console.log("Getting comprehensive referral stats for user:",e.id),!(await A6()).canRefer)return{courseReferrals:[],canRefer:!1,overallStats:{totalEarned:0,totalReferrals:0}};const{data:r,error:s}=await M.from("purchases").select(`
        course_id,
        courses(id, title)
      `).eq("user_id",e.id).eq("payment_status","completed");if(s)return console.error("Error fetching purchased courses:",s),{courseReferrals:[],canRefer:!0,overallStats:{totalEarned:0,totalReferrals:0}};const a=await Promise.all((r||[]).map(async o=>{var v;const l=o.course_id,c=((v=o.courses)==null?void 0:v.title)||"Unknown Course",d=await O6(l),{data:h,error:u}=await M.from("referrals").select("commission_amount, status").eq("user_id",e.id).eq("course_id",l);if(u)return console.error("Error fetching referrals for course:",l,u),{courseId:l,courseTitle:c,referralCode:d||"",totalEarned:0,totalReferrals:0};const f=(h==null?void 0:h.filter(w=>w.status==="completed"))||[],p=f.reduce((w,g)=>w+(g.commission_amount||0),0),y=f.length;return{courseId:l,courseTitle:c,referralCode:d||"",totalEarned:p,totalReferrals:y}})),i=a.reduce((o,l)=>({totalEarned:o.totalEarned+l.totalEarned,totalReferrals:o.totalReferrals+l.totalReferrals}),{totalEarned:0,totalReferrals:0});return{courseReferrals:a.filter(o=>o.referralCode),canRefer:!0,overallStats:i}}catch(e){return console.error("Exception getting referral stats:",e),{courseReferrals:[],canRefer:!1,overallStats:{totalEarned:0,totalReferrals:0}}}}async function I6(){try{const{data:{user:e}}=await M.auth.getUser();if(!e)return[];const{data:t,error:r}=await M.from("referrals").select(`
        *,
        courses(title)
      `).eq("user_id",e.id).order("created_at",{ascending:!1});return r?(console.error("Error fetching referral history:",r),[]):t||[]}catch(e){return console.error("Exception fetching referral history:",e),[]}}const D6=()=>{const{user:e}=Xe(),[t,r]=m.useState({courseReferrals:[],canRefer:!1,overallStats:{totalEarned:0,totalReferrals:0}}),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{(async()=>{if(e)try{o(!0),c(null),console.log("Loading referral data for user:",e.id);const[f,p]=await Promise.all([M6(),I6()]);r(f),a(p),console.log("Referral data loaded:",{referralStats:f,historyCount:p.length})}catch(f){console.error("Error loading referral data:",f),c("Failed to load referral data. Please refresh the page."),z.error("Failed to load referral data")}finally{o(!1)}})()},[e]);const d=(u,f)=>{navigator.clipboard.writeText(u),z.success(`Referral code for ${f} copied!`)},h=(u,f)=>{const p=`${window.location.origin}?ref=${u}`,y=`Check out "${f}" on Learn & Earn! Use my referral code ${u} to get started. ${p}`;navigator.share?navigator.share({title:`Learn & Earn - ${f}`,text:y,url:p}):(navigator.clipboard.writeText(y),z.success("Referral message copied to clipboard!"))};return e?i?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading referral data..."})]})})}),n.jsx(Ge,{})]}):l?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsxs("div",{className:"text-red-500 mb-4",children:[n.jsx(_l,{className:"h-16 w-16 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Referral Error"}),n.jsx("p",{children:l})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#00C853] text-white rounded-lg hover:bg-[#00B248]",children:"Retry"})]})}),n.jsx(Ge,{})]}):t.canRefer?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(_l,{className:"h-8 w-8 text-[#00C853] mr-3"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Refer & Earn"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Earned"}),n.jsx(uo,{className:"h-4 w-4 text-[#00C853]"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold text-[#00C853]",children:["",t.overallStats.totalEarned.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From all referrals"})]})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Referrals"}),n.jsx(Pn,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.overallStats.totalReferrals}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Successful referrals"})]})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Commission Rate"}),n.jsx(_l,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"50%"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per successful referral"})]})]})]}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Course Referral Codes"}),t.courseReferrals.map(u=>n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-lg",children:u.courseTitle}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Earn 50% commission for each successful referral"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Earned"}),n.jsxs("div",{className:"text-lg font-bold text-[#00C853]",children:["",u.totalEarned.toFixed(2)]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[u.totalReferrals," referrals"]})]})]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 p-3 bg-gray-100 rounded-lg font-mono text-center font-semibold",children:u.referralCode}),n.jsx(V,{onClick:()=>d(u.referralCode,u.courseTitle),variant:"outline",size:"sm",children:n.jsx(ZA,{className:"h-4 w-4"})})]}),n.jsxs(V,{onClick:()=>h(u.referralCode,u.courseTitle),className:"w-full bg-[#00C853] hover:bg-[#00B248]",children:[n.jsx(_l,{className:"h-4 w-4 mr-2"}),"Share ",u.courseTitle]})]})]},u.courseId))]}),n.jsxs(Q,{className:"mb-8",children:[n.jsx(he,{children:n.jsx(fe,{children:"How Referrals Work"})}),n.jsx(Y,{children:n.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[n.jsx("p",{children:n.jsx("strong",{children:"How it works:"})}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Each course you purchase gets its own unique referral code"}),n.jsx("li",{children:"Share your course-specific referral code with friends"}),n.jsx("li",{children:"They use your code when purchasing that course"}),n.jsx("li",{children:"You earn 50% commission on their purchase"}),n.jsx("li",{children:"Commission is added to your wallet instantly"})]})]})})]}),s.length>0&&n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Referral History"})}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-4",children:s.map(u=>{var f,p;return n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:((f=u.courses)==null?void 0:f.title)||"Course"}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-[#00C853]",children:["+",((p=u.commission_amount)==null?void 0:p.toFixed(2))||"0.00"]}),n.jsx("p",{className:"text-sm text-gray-500 capitalize",children:u.status})]})]},u.id)})})})]})]}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(_l,{className:"h-8 w-8 text-[#00C853] mr-3"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Refer & Earn"})]}),n.jsx(Q,{className:"text-center py-12",children:n.jsxs(Y,{children:[n.jsx(I1,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Get Access to Start Referring"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You need to purchase a course before you can start referring friends and earning commissions."}),n.jsx(V,{onClick:()=>window.location.href="/dashboard",className:"bg-[#00C853] hover:bg-[#00B248] text-white",children:"Browse Courses"})]})})]}),n.jsx(Ge,{})]}):n.jsx(Tn,{to:"/auth",replace:!0})},os=qv,Zw=Wv,L6=Hv,ok=m.forwardRef(({className:e,...t},r)=>n.jsx(dd,{ref:r,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ok.displayName=dd.displayName;const Dr=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(L6,{children:[n.jsx(ok,{}),n.jsxs(ud,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Nf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(nd,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dr.displayName=ud.displayName;const Lr=({className:e,...t})=>n.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lr.displayName="DialogHeader";const md=({className:e,...t})=>n.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});md.displayName="DialogFooter";const Fr=m.forwardRef(({className:e,...t},r)=>n.jsx(hd,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Fr.displayName=hd.displayName;const kf=m.forwardRef(({className:e,...t},r)=>n.jsx(fd,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));kf.displayName=fd.displayName;const Js=m.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Js.displayName="Textarea";async function F6(e,t){try{console.log("Creating support ticket:",e);const{data:r,error:s}=await M.auth.getUser();if(s||!r.user)return console.error("Authentication error:",s),{success:!1,error:"Authentication error: "+((s==null?void 0:s.message)||"Not authenticated")};console.log("Authenticated user ID:",r.user.id);const{data:a,error:i}=await M.from("support_tickets").insert({user_id:r.user.id,subject:e.trim(),message:t.trim(),status:"open"}).select("id").single();return i?(console.error("Error creating support ticket:",i),{success:!1,error:i.message}):(console.log("Support ticket created successfully:",a.id),{success:!0,ticketId:a.id})}catch(r){return console.error("Exception creating support ticket:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}async function $6(){try{console.log("Fetching user support tickets");const{data:{user:e}}=await M.auth.getUser();if(!e)return console.error("No authenticated user found"),[];const{data:t,error:r}=await M.from("support_tickets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});return r?(console.error("Error fetching user support tickets:",r),[]):(console.log(`Retrieved ${(t==null?void 0:t.length)||0} user support tickets`),(t||[]).map(s=>({...s,submitted_at:s.created_at})))}catch(e){return console.error("Exception fetching user support tickets:",e),[]}}async function U6(){try{console.log("Fetching all support tickets (admin)");const{data:e,error:t}=await M.rpc("is_admin");if(t)return console.error("Admin check failed:",t),[];if(!e)return console.error("User is not admin"),[];const{data:r,error:s}=await M.from("support_tickets").select(`
        *,
        users!support_tickets_user_id_fkey(email, name)
      `).order("created_at",{ascending:!1});if(!s&&r)return console.log(`Retrieved ${r.length} support tickets with user data via join`),r.map(u=>{var f,p;return{...u,submitted_at:u.created_at,user:{email:((f=u.users)==null?void 0:f.email)||"No email",name:((p=u.users)==null?void 0:p.name)||"Unknown User"}}});console.warn("Join query failed, trying alternative approach:",s);const{data:a,error:i}=await M.from("support_tickets").select("*").order("created_at",{ascending:!1});if(i)return console.error("Error fetching support tickets:",i),[];if(!a||a.length===0)return console.log("No support tickets found"),[];const o=[...new Set(a.map(u=>u.user_id))],{data:l,error:c}=await M.from("users").select("id, email, name").in("id",o);c&&console.warn("Error fetching user data:",c);const d=new Map((l||[]).map(u=>[u.id,u])),h=a.map(u=>{const f=d.get(u.user_id);return{...u,submitted_at:u.created_at,user:{email:(f==null?void 0:f.email)||"No email",name:(f==null?void 0:f.name)||"Unknown User"}}});return console.log(`Retrieved ${h.length} support tickets with fallback method`),h}catch(e){return console.error("Exception fetching all support tickets:",e),[]}}async function z6(e,t,r){try{console.log(`Responding to ticket ${e} with status: ${r}`);const{data:s,error:a}=await M.rpc("is_admin");if(a||!s)return console.error("Admin check failed:",a),{success:!1,error:"Admin privileges required"};const{error:i}=await M.from("support_tickets").update({status:r,admin_response:t.trim(),updated_at:new Date().toISOString()}).eq("id",e);return i?(console.error("Error responding to support ticket:",i),{success:!1,error:i.message}):(console.log("Support ticket response saved successfully"),{success:!0})}catch(s){return console.error("Exception responding to support ticket:",s),{success:!1,error:s instanceof Error?s.message:"Unknown error occurred"}}}const V6=({onSubmitSuccess:e})=>{const{user:t}=Xe(),[r,s]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),c=async d=>{if(d.preventDefault(),!t){z.error("You must be logged in to submit a support ticket");return}if(!r.trim()||!a.trim()){z.error("Please fill in both subject and message fields");return}l(!0);try{const h=await F6(r,a);h.success?(z.success("Support ticket submitted successfully"),s(""),i(""),e&&e()):z.error(h.error||"Failed to submit support ticket")}catch(h){console.error("Error submitting support ticket:",h),z.error("An unexpected error occurred")}finally{l(!1)}};return n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx(Be,{id:"subject",value:r,onChange:d=>s(d.target.value),placeholder:"Brief description of your issue",disabled:o,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx(Js,{id:"message",value:a,onChange:d=>i(d.target.value),placeholder:"Please provide details about your issue or question",disabled:o,rows:5,required:!0})]}),n.jsx(V,{type:"submit",disabled:o,className:"w-full bg-[#2962FF] hover:bg-blue-600",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Ticket"})]})},Xs=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));Xs.displayName="Table";const en=m.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));en.displayName="TableHeader";const tn=m.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));tn.displayName="TableBody";const B6=m.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));B6.displayName="TableFooter";const Pt=m.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Pt.displayName="TableRow";const je=m.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableHead";const we=m.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableCell";const Xv=m.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));Xv.displayName="TableCaption";const Jw={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200",resolved:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200"},lk=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(null);m.useEffect(()=>{(async()=>{s(!0);const c=await $6();t(c),s(!1)})()},[]);const o=l=>{const c=Jw[l]||Jw.pending;return n.jsx(xe,{className:c,children:l==="in_progress"?"In Progress":l.charAt(0).toUpperCase()+l.slice(1)})};return r?n.jsx("div",{className:"flex justify-center items-center p-8",children:n.jsx(Je,{className:"h-6 w-6 animate-spin text-gray-400"})}):e.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Xx,{className:"h-8 w-8 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-gray-500",children:"You haven't submitted any support tickets yet."})]}):n.jsxs(n.Fragment,{children:[n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Subject"}),n.jsx(je,{children:"Status"}),n.jsx(je,{children:"Date"}),n.jsx(je,{className:"w-[100px]"})]})}),n.jsx(tn,{children:e.map(l=>n.jsxs(Pt,{children:[n.jsx(we,{className:"font-medium",children:l.subject}),n.jsx(we,{children:o(l.status)}),n.jsx(we,{className:"text-sm text-gray-500",children:bn(new Date(l.submitted_at),{addSuffix:!0})}),n.jsx(we,{children:n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>i(l),children:"View"})})]},l.id))})]}),n.jsx(os,{open:!!a,onOpenChange:l=>!l&&i(null),children:n.jsxs(Dr,{children:[n.jsx(Lr,{children:n.jsx(Fr,{children:a==null?void 0:a.subject})}),n.jsxs("div",{className:"space-y-4 mt-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-gray-500",children:["Submitted ",a&&bn(new Date(a.submitted_at),{addSuffix:!0})]}),o((a==null?void 0:a.status)||"pending")]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Your message:"}),n.jsx("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:a==null?void 0:a.message})]}),(a==null?void 0:a.admin_response)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Response:"}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-md text-sm",children:a.admin_response}),n.jsx("span",{className:"text-xs text-gray-500 block",children:a.responded_at&&`Responded ${bn(new Date(a.responded_at),{addSuffix:!0})}`})]})]})]})})]})};var ey="Tabs",[q6,L9]=br(ey,[il]),ck=il(),[W6,ty]=q6(ey),dk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=sl(l),[u,f]=Ir({prop:s,onChange:a,defaultProp:i});return n.jsx(W6,{scope:r,baseId:ts(),value:u,onValueChange:f,orientation:o,dir:h,activationMode:c,children:n.jsx(me.div,{dir:h,"data-orientation":o,...d,ref:t})})});dk.displayName=ey;var uk="TabsList",hk=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=ty(uk,r),o=ck(r);return n.jsx(Rv,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});hk.displayName=uk;var fk="TabsTrigger",mk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=ty(fk,r),l=ck(r),c=xk(o.baseId,s),d=vk(o.baseId,s),h=s===o.value;return n.jsx(Pv,{asChild:!0,...l,focusable:!a,active:h,children:n.jsx(me.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:re(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?o.onValueChange(s):u.preventDefault()}),onKeyDown:re(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(s)}),onFocus:re(e.onFocus,()=>{const u=o.activationMode!=="manual";!h&&!a&&u&&o.onValueChange(s)})})})});mk.displayName=fk;var pk="TabsContent",gk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=ty(pk,r),c=xk(l.baseId,s),d=vk(l.baseId,s),h=s===l.value,u=m.useRef(h);return m.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(zr,{present:a||h,children:({present:f})=>n.jsx(me.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:f&&i})})});gk.displayName=pk;function xk(e,t){return`${e}-trigger-${t}`}function vk(e,t){return`${e}-content-${t}`}var H6=dk,yk=hk,wk=mk,jk=gk;const on=H6,Ps=m.forwardRef(({className:e,...t},r)=>n.jsx(yk,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ps.displayName=yk.displayName;const Ne=m.forwardRef(({className:e,...t},r)=>n.jsx(wk,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ne.displayName=wk.displayName;const Ce=m.forwardRef(({className:e,...t},r)=>n.jsx(jk,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ce.displayName=jk.displayName;const K6=()=>{const[e,t]=m.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs(V,{variant:"outline",className:"flex items-center gap-2 border-[#2962FF] text-[#2962FF] hover:bg-[#2962FF]/10",onClick:()=>t(!0),children:[n.jsx(ev,{className:"h-4 w-4"}),"Contact Support"]}),n.jsx(os,{open:e,onOpenChange:t,children:n.jsxs(Dr,{className:"sm:max-w-[500px] max-h-[85vh] overflow-auto",children:[n.jsx(Lr,{children:n.jsx(Fr,{className:"text-xl font-semibold",children:"Support Center"})}),n.jsxs(on,{defaultValue:"new",className:"w-full mt-2",children:[n.jsxs(Ps,{className:"grid w-full grid-cols-2",children:[n.jsx(Ne,{value:"new",children:"New Request"}),n.jsx(Ne,{value:"history",children:"My Tickets"})]}),n.jsx(Ce,{value:"new",className:"mt-4",children:n.jsx(V6,{onSubmitSuccess:()=>t(!1)})}),n.jsx(Ce,{value:"history",className:"mt-4",children:n.jsx(lk,{})})]})]})})]})},G6=()=>{const{user:e,isAdmin:t}=Xe(),[r,s]=m.useState(null),[a,i]=m.useState({totalReferrals:0,totalEarned:0,coursesPurchased:0,walletBalance:0}),[o,l]=m.useState(!0),[c,d]=m.useState(null);return m.useEffect(()=>{(async()=>{var u,f;if(e)try{l(!0),d(null),console.log("Loading profile for user:",e.id);const{data:p,error:y}=await M.from("users").select("*").eq("id",e.id).single();if(y){console.error("Error fetching profile:",y),d("Failed to load profile data");return}s(p);const[v,w,g]=await Promise.allSettled([M.from("referrals").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("status","completed"),M.from("wallet").select("total_earned, balance").eq("user_id",e.id).maybeSingle(),M.from("purchases").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("payment_status","completed")]),x=w.status==="fulfilled"&&((u=w.value.data)==null?void 0:u.total_earned)||0,j=w.status==="fulfilled"&&((f=w.value.data)==null?void 0:f.balance)||0,b=v.status==="fulfilled"&&v.value.count||0,S=g.status==="fulfilled"&&g.value.count||0;i({totalReferrals:b,totalEarned:x,coursesPurchased:S,walletBalance:j})}catch(p){console.error("Error loading profile:",p),d("Failed to load profile data")}finally{l(!1)}})()},[e]),e?o?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}),n.jsx(Ge,{})]}):c?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsxs("div",{className:"text-red-500 mb-4",children:[n.jsx(zi,{className:"h-16 w-16 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Profile Error"}),n.jsx("p",{children:c})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#00C853] text-white rounded-lg hover:bg-[#00B248]",children:"Retry"})]})}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(zi,{className:"h-8 w-8 text-[#00C853] mr-3"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"})]}),t&&n.jsxs(xe,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[n.jsx(Cs,{className:"h-3 w-3 mr-1"}),"Admin"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center",children:[n.jsx(zi,{className:"h-5 w-5 mr-2"}),"Profile Information"]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#00C853] to-green-600 rounded-full flex items-center justify-center",children:n.jsx(zi,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-xl",children:(r==null?void 0:r.name)||"User"}),n.jsxs("p",{className:"text-gray-500 flex items-center",children:[n.jsx(T1,{className:"h-4 w-4 mr-1"}),r==null?void 0:r.email]}),n.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[n.jsx(k1,{className:"h-4 w-4 mr-1"}),"Joined ",(r==null?void 0:r.joined_at)&&bn(new Date(r.joined_at),{addSuffix:!0})]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-700",children:["For course-specific referral codes and earning opportunities, visit the"," ",n.jsx("a",{href:"/referrals",className:"font-medium underline hover:text-blue-800",children:"Referrals page"})]})})})]})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center",children:[n.jsx(_c,{className:"h-5 w-5 mr-2"}),"Your Statistics"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(uo,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),n.jsxs("div",{className:"text-xl font-bold text-green-600",children:["",a.walletBalance]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Current Balance"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(_c,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),n.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["",a.totalEarned]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Earned"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx(Pn,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),n.jsx("div",{className:"text-xl font-bold text-purple-600",children:a.totalReferrals}),n.jsx("div",{className:"text-sm text-gray-600",children:"Referrals"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx(zi,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),n.jsx("div",{className:"text-xl font-bold text-orange-600",children:a.coursesPurchased}),n.jsx("div",{className:"text-sm text-gray-600",children:"Courses Owned"})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Contact Support"})}),n.jsx(Y,{children:n.jsx(K6,{})})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Support Tickets"})}),n.jsx(Y,{children:n.jsx(lk,{})})]})]})]}),n.jsx(Ge,{})]}):n.jsx(Tn,{to:"/auth",replace:!0})};var Q6="Label",bk=m.forwardRef((e,t)=>n.jsx(me.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bk.displayName=Q6;var _k=bk;const Y6=Yo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fc=m.forwardRef(({className:e,...t},r)=>n.jsx(_k,{ref:r,className:J(Y6(),e),...t}));Fc.displayName=_k.displayName;const Nk=()=>{const{user:e}=Xe();return et({queryKey:["wallet",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const[t,r]=await Promise.all([M.from("wallet").select("balance, total_earned, total_withdrawn").eq("user_id",e.id).maybeSingle(),M.from("payout_methods").select("id, method_type, upi_id, bank_account_number, is_default").eq("user_id",e.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1})]);if(t.error)throw t.error;if(r.error)throw r.error;const s=t.data,a=(r.data||[]).map(i=>({...i,account_number:i.bank_account_number}));return{balance:(s==null?void 0:s.balance)||0,totalEarned:(s==null?void 0:s.total_earned)||0,totalWithdrawn:(s==null?void 0:s.total_withdrawn)||0,payoutMethods:a}},enabled:!!e,staleTime:2*60*1e3,gcTime:5*60*1e3})};var pd=e=>e.type==="checkbox",Qa=e=>e instanceof Date,rr=e=>e==null;const Ck=e=>typeof e=="object";var Et=e=>!rr(e)&&!Array.isArray(e)&&Ck(e)&&!Qa(e),Sk=e=>Et(e)&&e.target?pd(e.target)?e.target.checked:e.target.value:e,Z6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kk=(e,t)=>e.has(Z6(t)),J6=e=>{const t=e.constructor&&e.constructor.prototype;return Et(t)&&t.hasOwnProperty("isPrototypeOf")},ry=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ry&&(e instanceof Blob||e instanceof FileList))&&(r||Et(e)))if(t=r?[]:{},!r&&!J6(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=cr(e[s]));else return e;return t}var Ef=e=>Array.isArray(e)?e.filter(Boolean):[],Ct=e=>e===void 0,X=(e,t,r)=>{if(!t||!Et(e))return r;const s=Ef(t.split(/[,[\].]+?/)).reduce((a,i)=>rr(a)?a:a[i],e);return Ct(s)||s===e?Ct(e[t])?r:e[t]:s},Hr=e=>typeof e=="boolean",sy=e=>/^\w*$/.test(e),Ek=e=>Ef(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,r)=>{let s=-1;const a=sy(t)?[t]:Ek(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Et(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const lh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},un={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rk=F.createContext(null),Rf=()=>F.useContext(Rk),X6=e=>{const{children:t,...r}=e;return F.createElement(Rk.Provider,{value:r},t)};var Pk=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==vs.all&&(t._proxyFormState[o]=!s||vs.all),r&&(r[o]=!0),e[o]}});return a},hr=e=>Et(e)&&!Object.keys(e).length,Tk=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return hr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||vs.all))},rc=e=>Array.isArray(e)?e:[e],Ak=(e,t,r)=>!e||!t||e===t||rc(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function ny(e){const t=F.useRef(e);t.current=e,F.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function eU(e){const t=Rf(),{control:r=t.control,disabled:s,name:a,exact:i}=e||{},[o,l]=F.useState(r._formState),c=F.useRef(!0),d=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=F.useRef(a);return h.current=a,ny({disabled:s,next:u=>c.current&&Ak(h.current,u.name,i)&&Tk(u,d.current,r._updateFormState)&&l({...r._formState,...u}),subject:r._subjects.state}),F.useEffect(()=>(c.current=!0,d.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),Pk(o,r,d.current,!1)}var qs=e=>typeof e=="string",Ok=(e,t,r,s,a)=>qs(e)?(s&&t.watch.add(e),X(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),X(r,i))):(s&&(t.watchAll=!0),r);function tU(e){const t=Rf(),{control:r=t.control,name:s,defaultValue:a,disabled:i,exact:o}=e||{},l=F.useRef(s);l.current=s,ny({disabled:i,subject:r._subjects.values,next:h=>{Ak(l.current,h.name,o)&&d(cr(Ok(l.current,r._names,h.values||r._formValues,!1,a)))}});const[c,d]=F.useState(r._getWatch(s,a));return F.useEffect(()=>r._removeUnmounted()),c}function rU(e){const t=Rf(),{name:r,disabled:s,control:a=t.control,shouldUnregister:i}=e,o=kk(a._names.array,r),l=tU({control:a,name:r,defaultValue:X(a._formValues,r,X(a._defaultValues,r,e.defaultValue)),exact:!0}),c=eU({control:a,name:r,exact:!0}),d=F.useRef(a.register(r,{...e.rules,value:l,...Hr(e.disabled)?{disabled:e.disabled}:{}}));return F.useEffect(()=>{const h=a._options.shouldUnregister||i,u=(f,p)=>{const y=X(a._fields,f);y&&y._f&&(y._f.mount=p)};if(u(r,!0),h){const f=cr(X(a._options.defaultValues,r));Qe(a._defaultValues,r,f),Ct(X(a._formValues,r))&&Qe(a._formValues,r,f)}return()=>{(o?h&&!a._state.action:h)?a.unregister(r):u(r,!1)}},[r,a,o,i]),F.useEffect(()=>{X(a._fields,r)&&a._updateDisabledField({disabled:s,fields:a._fields,name:r,value:X(a._fields,r)._f.value})},[s,r,a]),{field:{name:r,value:l,...Hr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:F.useCallback(h=>d.current.onChange({target:{value:Sk(h),name:r},type:lh.CHANGE}),[r]),onBlur:F.useCallback(()=>d.current.onBlur({target:{value:X(a._formValues,r),name:r},type:lh.BLUR}),[r,a]),ref:F.useCallback(h=>{const u=X(a._fields,r);u&&h&&(u._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:f=>h.setCustomValidity(f),reportValidity:()=>h.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!X(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!X(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!X(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!X(c.validatingFields,r)},error:{enumerable:!0,get:()=>X(c.errors,r)}})}}const sU=e=>e.render(rU(e));var Mk=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},Xw=e=>({isOnSubmit:!e||e===vs.onSubmit,isOnBlur:e===vs.onBlur,isOnChange:e===vs.onChange,isOnAll:e===vs.all,isOnTouch:e===vs.onTouched}),ej=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const sc=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=X(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(sc(l,t))break}else if(Et(l)&&sc(l,t))break}}};var nU=(e,t,r)=>{const s=rc(X(e,r));return Qe(s,"root",t[r]),Qe(e,r,s),e},ay=e=>e.type==="file",wn=e=>typeof e=="function",ch=e=>{if(!ry)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yu=e=>qs(e),iy=e=>e.type==="radio",dh=e=>e instanceof RegExp;const tj={value:!1,isValid:!1},rj={value:!0,isValid:!0};var Ik=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ct(e[0].attributes.value)?Ct(e[0].value)||e[0].value===""?rj:{value:e[0].value,isValid:!0}:rj:tj}return tj};const sj={isValid:!1,value:null};var Dk=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,sj):sj;function nj(e,t,r="validate"){if(yu(e)||Array.isArray(e)&&e.every(yu)||Hr(e)&&!e)return{type:r,message:yu(e)?e:"",ref:t}}var Ui=e=>Et(e)&&!dh(e)?e:{value:e,message:""},aj=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:h,max:u,pattern:f,validate:p,name:y,valueAsNumber:v,mount:w,disabled:g}=e._f,x=X(t,y);if(!w||g)return{};const j=o?o[0]:i,b=P=>{s&&j.reportValidity&&(j.setCustomValidity(Hr(P)?"":P||""),j.reportValidity())},S={},_=iy(i),C=pd(i),N=_||C,A=(v||ay(i))&&Ct(i.value)&&Ct(x)||ch(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,k=Mk.bind(null,y,r,S),T=(P,$,D,q=un.maxLength,B=un.minLength)=>{const te=P?$:D;S[y]={type:P?q:B,message:te,ref:i,...k(P?q:B,te)}};if(a?!Array.isArray(x)||!x.length:l&&(!N&&(A||rr(x))||Hr(x)&&!x||C&&!Ik(o).isValid||_&&!Dk(o).isValid)){const{value:P,message:$}=yu(l)?{value:!!l,message:l}:Ui(l);if(P&&(S[y]={type:un.required,message:$,ref:j,...k(un.required,$)},!r))return b($),S}if(!A&&(!rr(h)||!rr(u))){let P,$;const D=Ui(u),q=Ui(h);if(!rr(x)&&!isNaN(x)){const B=i.valueAsNumber||x&&+x;rr(D.value)||(P=B>D.value),rr(q.value)||($=B<q.value)}else{const B=i.valueAsDate||new Date(x),te=Z=>new Date(new Date().toDateString()+" "+Z),O=i.type=="time",L=i.type=="week";qs(D.value)&&x&&(P=O?te(x)>te(D.value):L?x>D.value:B>new Date(D.value)),qs(q.value)&&x&&($=O?te(x)<te(q.value):L?x<q.value:B<new Date(q.value))}if((P||$)&&(T(!!P,D.message,q.message,un.max,un.min),!r))return b(S[y].message),S}if((c||d)&&!A&&(qs(x)||a&&Array.isArray(x))){const P=Ui(c),$=Ui(d),D=!rr(P.value)&&x.length>+P.value,q=!rr($.value)&&x.length<+$.value;if((D||q)&&(T(D,P.message,$.message),!r))return b(S[y].message),S}if(f&&!A&&qs(x)){const{value:P,message:$}=Ui(f);if(dh(P)&&!x.match(P)&&(S[y]={type:un.pattern,message:$,ref:i,...k(un.pattern,$)},!r))return b($),S}if(p){if(wn(p)){const P=await p(x,t),$=nj(P,j);if($&&(S[y]={...$,...k(un.validate,$.message)},!r))return b($.message),S}else if(Et(p)){let P={};for(const $ in p){if(!hr(P)&&!r)break;const D=nj(await p[$](x,t),j,$);D&&(P={...D,...k($,D.message)},b(D.message),r&&(S[y]=P))}if(!hr(P)&&(S[y]={ref:j,...P},!r))return S}}return b(!0),S};function aU(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Ct(e)?s++:e[t[s++]];return e}function iU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ct(e[t]))return!1;return!0}function At(e,t){const r=Array.isArray(t)?t:sy(t)?[t]:Ek(t),s=r.length===1?e:aU(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Et(s)&&hr(s)||Array.isArray(s)&&iU(s))&&At(e,r.slice(0,-1)),e}var Hm=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Dg=e=>rr(e)||!Ck(e);function na(e,t){if(Dg(e)||Dg(t))return e===t;if(Qa(e)&&Qa(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Qa(i)&&Qa(o)||Et(i)&&Et(o)||Array.isArray(i)&&Array.isArray(o)?!na(i,o):i!==o)return!1}}return!0}var Lk=e=>e.type==="select-multiple",oU=e=>iy(e)||pd(e),Km=e=>ch(e)&&e.isConnected,Fk=e=>{for(const t in e)if(wn(e[t]))return!0;return!1};function uh(e,t={}){const r=Array.isArray(e);if(Et(e)||r)for(const s in e)Array.isArray(e[s])||Et(e[s])&&!Fk(e[s])?(t[s]=Array.isArray(e[s])?[]:{},uh(e[s],t[s])):rr(e[s])||(t[s]=!0);return t}function $k(e,t,r){const s=Array.isArray(e);if(Et(e)||s)for(const a in e)Array.isArray(e[a])||Et(e[a])&&!Fk(e[a])?Ct(t)||Dg(r[a])?r[a]=Array.isArray(e[a])?uh(e[a],[]):{...uh(e[a])}:$k(e[a],rr(t)?{}:t[a],r[a]):r[a]=!na(e[a],t[a]);return r}var Rl=(e,t)=>$k(e,t,uh(t)),Uk=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Ct(e)?e:t?e===""?NaN:e&&+e:r&&qs(e)?new Date(e):s?s(e):e;function Gm(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return ay(t)?t.files:iy(t)?Dk(e.refs).value:Lk(t)?[...t.selectedOptions].map(({value:r})=>r):pd(t)?Ik(e.refs).value:Uk(Ct(t.value)?e.ref.value:t.value,e)}var lU=(e,t,r,s)=>{const a={};for(const i of e){const o=X(t,i);o&&Qe(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Pl=e=>Ct(e)?e:dh(e)?e.source:Et(e)?dh(e.value)?e.value.source:e.value:e;const ij="AsyncFunction";var cU=e=>(!e||!e.validate)&&!!(wn(e.validate)&&e.validate.constructor.name===ij||Et(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ij)),dU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function oj(e,t,r){const s=X(e,r);if(s||sy(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=X(t,i),l=X(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var uU=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,hU=(e,t)=>!Ef(X(e,t)).length&&At(e,t);const fU={mode:vs.onSubmit,reValidateMode:vs.onChange,shouldFocusError:!0};function mU(e={}){let t={...fU,...e},r={submitCount:0,isDirty:!1,isLoading:wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Et(t.defaultValues)||Et(t.values)?cr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:cr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={values:Hm(),array:Hm(),state:Hm()},f=Xw(t.mode),p=Xw(t.reValidateMode),y=t.criteriaMode===vs.all,v=E=>I=>{clearTimeout(d),d=setTimeout(E,I)},w=async E=>{if(!e.disabled&&(h.isValid||E)){const I=t.resolver?hr((await N()).errors):await k(s,!0);I!==r.isValid&&u.state.next({isValid:I})}},g=(E,I)=>{!e.disabled&&(h.isValidating||h.validatingFields)&&((E||Array.from(l.mount)).forEach(U=>{U&&(I?Qe(r.validatingFields,U,I):At(r.validatingFields,U))}),u.state.next({validatingFields:r.validatingFields,isValidating:!hr(r.validatingFields)}))},x=(E,I=[],U,ne,ee=!0,G=!0)=>{if(ne&&U&&!e.disabled){if(o.action=!0,G&&Array.isArray(X(s,E))){const ge=U(X(s,E),ne.argA,ne.argB);ee&&Qe(s,E,ge)}if(G&&Array.isArray(X(r.errors,E))){const ge=U(X(r.errors,E),ne.argA,ne.argB);ee&&Qe(r.errors,E,ge),hU(r.errors,E)}if(h.touchedFields&&G&&Array.isArray(X(r.touchedFields,E))){const ge=U(X(r.touchedFields,E),ne.argA,ne.argB);ee&&Qe(r.touchedFields,E,ge)}h.dirtyFields&&(r.dirtyFields=Rl(a,i)),u.state.next({name:E,isDirty:P(E,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(i,E,I)},j=(E,I)=>{Qe(r.errors,E,I),u.state.next({errors:r.errors})},b=E=>{r.errors=E,u.state.next({errors:r.errors,isValid:!1})},S=(E,I,U,ne)=>{const ee=X(s,E);if(ee){const G=X(i,E,Ct(U)?X(a,E):U);Ct(G)||ne&&ne.defaultChecked||I?Qe(i,E,I?G:Gm(ee._f)):q(E,G),o.mount&&w()}},_=(E,I,U,ne,ee)=>{let G=!1,ge=!1;const Pe={name:E};if(!e.disabled){const jt=!!(X(s,E)&&X(s,E)._f&&X(s,E)._f.disabled);if(!U||ne){h.isDirty&&(ge=r.isDirty,r.isDirty=Pe.isDirty=P(),G=ge!==Pe.isDirty);const it=jt||na(X(a,E),I);ge=!!(!jt&&X(r.dirtyFields,E)),it||jt?At(r.dirtyFields,E):Qe(r.dirtyFields,E,!0),Pe.dirtyFields=r.dirtyFields,G=G||h.dirtyFields&&ge!==!it}if(U){const it=X(r.touchedFields,E);it||(Qe(r.touchedFields,E,U),Pe.touchedFields=r.touchedFields,G=G||h.touchedFields&&it!==U)}G&&ee&&u.state.next(Pe)}return G?Pe:{}},C=(E,I,U,ne)=>{const ee=X(r.errors,E),G=h.isValid&&Hr(I)&&r.isValid!==I;if(e.delayError&&U?(c=v(()=>j(E,U)),c(e.delayError)):(clearTimeout(d),c=null,U?Qe(r.errors,E,U):At(r.errors,E)),(U?!na(ee,U):ee)||!hr(ne)||G){const ge={...ne,...G&&Hr(I)?{isValid:I}:{},errors:r.errors,name:E};r={...r,...ge},u.state.next(ge)}},N=async E=>{g(E,!0);const I=await t.resolver(i,t.context,lU(E||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(E),I},A=async E=>{const{errors:I}=await N(E);if(E)for(const U of E){const ne=X(I,U);ne?Qe(r.errors,U,ne):At(r.errors,U)}else r.errors=I;return I},k=async(E,I,U={valid:!0})=>{for(const ne in E){const ee=E[ne];if(ee){const{_f:G,...ge}=ee;if(G){const Pe=l.array.has(G.name),jt=ee._f&&cU(ee._f);jt&&h.validatingFields&&g([ne],!0);const it=await aj(ee,i,y,t.shouldUseNativeValidation&&!I,Pe);if(jt&&h.validatingFields&&g([ne]),it[G.name]&&(U.valid=!1,I))break;!I&&(X(it,G.name)?Pe?nU(r.errors,it,G.name):Qe(r.errors,G.name,it[G.name]):At(r.errors,G.name))}!hr(ge)&&await k(ge,I,U)}}return U.valid},T=()=>{for(const E of l.unMount){const I=X(s,E);I&&(I._f.refs?I._f.refs.every(U=>!Km(U)):!Km(I._f.ref))&&ce(E)}l.unMount=new Set},P=(E,I)=>!e.disabled&&(E&&I&&Qe(i,E,I),!na(K(),a)),$=(E,I,U)=>Ok(E,l,{...o.mount?i:Ct(I)?a:qs(E)?{[E]:I}:I},U,I),D=E=>Ef(X(o.mount?i:a,E,e.shouldUnregister?X(a,E,[]):[])),q=(E,I,U={})=>{const ne=X(s,E);let ee=I;if(ne){const G=ne._f;G&&(!G.disabled&&Qe(i,E,Uk(I,G)),ee=ch(G.ref)&&rr(I)?"":I,Lk(G.ref)?[...G.ref.options].forEach(ge=>ge.selected=ee.includes(ge.value)):G.refs?pd(G.ref)?G.refs.length>1?G.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ee)?!!ee.find(Pe=>Pe===ge.value):ee===ge.value)):G.refs[0]&&(G.refs[0].checked=!!ee):G.refs.forEach(ge=>ge.checked=ge.value===ee):ay(G.ref)?G.ref.value="":(G.ref.value=ee,G.ref.type||u.values.next({name:E,values:{...i}})))}(U.shouldDirty||U.shouldTouch)&&_(E,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&Z(E)},B=(E,I,U)=>{for(const ne in I){const ee=I[ne],G=`${E}.${ne}`,ge=X(s,G);(l.array.has(E)||Et(ee)||ge&&!ge._f)&&!Qa(ee)?B(G,ee,U):q(G,ee,U)}},te=(E,I,U={})=>{const ne=X(s,E),ee=l.array.has(E),G=cr(I);Qe(i,E,G),ee?(u.array.next({name:E,values:{...i}}),(h.isDirty||h.dirtyFields)&&U.shouldDirty&&u.state.next({name:E,dirtyFields:Rl(a,i),isDirty:P(E,G)})):ne&&!ne._f&&!rr(G)?B(E,G,U):q(E,G,U),ej(E,l)&&u.state.next({...r}),u.values.next({name:o.mount?E:void 0,values:{...i}})},O=async E=>{o.mount=!0;const I=E.target;let U=I.name,ne=!0;const ee=X(s,U),G=()=>I.type?Gm(ee._f):Sk(E),ge=Pe=>{ne=Number.isNaN(Pe)||Qa(Pe)&&isNaN(Pe.getTime())||na(Pe,X(i,U,Pe))};if(ee){let Pe,jt;const it=G(),Ts=E.type===lh.BLUR||E.type===lh.FOCUS_OUT,Bn=!dU(ee._f)&&!t.resolver&&!X(r.errors,U)&&!ee._f.deps||uU(Ts,X(r.touchedFields,U),r.isSubmitted,p,f),Pi=ej(U,l,Ts);Qe(i,U,it),Ts?(ee._f.onBlur&&ee._f.onBlur(E),c&&c(0)):ee._f.onChange&&ee._f.onChange(E);const ul=_(U,it,Ts,!1),xd=!hr(ul)||Pi;if(!Ts&&u.values.next({name:U,type:E.type,values:{...i}}),Bn)return h.isValid&&(e.mode==="onBlur"?Ts&&w():w()),xd&&u.state.next({name:U,...Pi?{}:ul});if(!Ts&&Pi&&u.state.next({...r}),t.resolver){const{errors:hl}=await N([U]);if(ge(it),ne){const qf=oj(r.errors,s,U),Ti=oj(hl,s,qf.name||U);Pe=Ti.error,U=Ti.name,jt=hr(hl)}}else g([U],!0),Pe=(await aj(ee,i,y,t.shouldUseNativeValidation))[U],g([U]),ge(it),ne&&(Pe?jt=!1:h.isValid&&(jt=await k(s,!0)));ne&&(ee._f.deps&&Z(ee._f.deps),C(U,jt,Pe,ul))}},L=(E,I)=>{if(X(r.errors,I)&&E.focus)return E.focus(),1},Z=async(E,I={})=>{let U,ne;const ee=rc(E);if(t.resolver){const G=await A(Ct(E)?E:ee);U=hr(G),ne=E?!ee.some(ge=>X(G,ge)):U}else E?(ne=(await Promise.all(ee.map(async G=>{const ge=X(s,G);return await k(ge&&ge._f?{[G]:ge}:ge)}))).every(Boolean),!(!ne&&!r.isValid)&&w()):ne=U=await k(s);return u.state.next({...!qs(E)||h.isValid&&U!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:U}:{},errors:r.errors}),I.shouldFocus&&!ne&&sc(s,L,E?ee:l.mount),ne},K=E=>{const I={...o.mount?i:a};return Ct(E)?I:qs(E)?X(I,E):E.map(U=>X(I,U))},oe=(E,I)=>({invalid:!!X((I||r).errors,E),isDirty:!!X((I||r).dirtyFields,E),error:X((I||r).errors,E),isValidating:!!X(r.validatingFields,E),isTouched:!!X((I||r).touchedFields,E)}),ye=E=>{E&&rc(E).forEach(I=>At(r.errors,I)),u.state.next({errors:E?r.errors:{}})},ke=(E,I,U)=>{const ne=(X(s,E,{_f:{}})._f||{}).ref,ee=X(r.errors,E)||{},{ref:G,message:ge,type:Pe,...jt}=ee;Qe(r.errors,E,{...jt,...I,ref:ne}),u.state.next({name:E,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&ne&&ne.focus&&ne.focus()},at=(E,I)=>wn(E)?u.values.subscribe({next:U=>E($(void 0,I),U)}):$(E,I,!0),ce=(E,I={})=>{for(const U of E?rc(E):l.mount)l.mount.delete(U),l.array.delete(U),I.keepValue||(At(s,U),At(i,U)),!I.keepError&&At(r.errors,U),!I.keepDirty&&At(r.dirtyFields,U),!I.keepTouched&&At(r.touchedFields,U),!I.keepIsValidating&&At(r.validatingFields,U),!t.shouldUnregister&&!I.keepDefaultValue&&At(a,U);u.values.next({values:{...i}}),u.state.next({...r,...I.keepDirty?{isDirty:P()}:{}}),!I.keepIsValid&&w()},ae=({disabled:E,name:I,field:U,fields:ne,value:ee})=>{if(Hr(E)&&o.mount||E){const G=E?void 0:Ct(ee)?Gm(U?U._f:X(ne,I)._f):ee;Qe(i,I,G),_(I,G,!1,!1,!0)}},Ee=(E,I={})=>{let U=X(s,E);const ne=Hr(I.disabled)||Hr(e.disabled);return Qe(s,E,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:E}},name:E,mount:!0,...I}}),l.mount.add(E),U?ae({field:U,disabled:Hr(I.disabled)?I.disabled:e.disabled,name:E,value:I.value}):S(E,!0,I.value),{...ne?{disabled:I.disabled||e.disabled}:{},...t.progressive?{required:!!I.required,min:Pl(I.min),max:Pl(I.max),minLength:Pl(I.minLength),maxLength:Pl(I.maxLength),pattern:Pl(I.pattern)}:{},name:E,onChange:O,onBlur:O,ref:ee=>{if(ee){Ee(E,I),U=X(s,E);const G=Ct(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ge=oU(G),Pe=U._f.refs||[];if(ge?Pe.find(jt=>jt===G):G===U._f.ref)return;Qe(s,E,{_f:{...U._f,...ge?{refs:[...Pe.filter(Km),G,...Array.isArray(X(a,E))?[{}]:[]],ref:{type:G.type,name:E}}:{ref:G}}}),S(E,!1,void 0,G)}else U=X(s,E,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(kk(l.array,E)&&o.action)&&l.unMount.add(E)}}},De=()=>t.shouldFocusError&&sc(s,L,l.mount),Re=E=>{Hr(E)&&(u.state.next({disabled:E}),sc(s,(I,U)=>{const ne=X(s,U);ne&&(I.disabled=ne._f.disabled||E,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||E}))},0,!1))},ze=(E,I)=>async U=>{let ne;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ee=cr(i);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:ge}=await N();r.errors=G,ee=ge}else await k(s);if(At(r.errors,"root"),hr(r.errors)){u.state.next({errors:{}});try{await E(ee,U)}catch(G){ne=G}}else I&&await I({...r.errors},U),De(),setTimeout(De);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hr(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},Le=(E,I={})=>{X(s,E)&&(Ct(I.defaultValue)?te(E,cr(X(a,E))):(te(E,I.defaultValue),Qe(a,E,cr(I.defaultValue))),I.keepTouched||At(r.touchedFields,E),I.keepDirty||(At(r.dirtyFields,E),r.isDirty=I.defaultValue?P(E,cr(X(a,E))):P()),I.keepError||(At(r.errors,E),h.isValid&&w()),u.state.next({...r}))},St=(E,I={})=>{const U=E?cr(E):a,ne=cr(U),ee=hr(E),G=ee?a:ne;if(I.keepDefaultValues||(a=U),!I.keepValues){if(I.keepDirtyValues){const ge=new Set([...l.mount,...Object.keys(Rl(a,i))]);for(const Pe of Array.from(ge))X(r.dirtyFields,Pe)?Qe(G,Pe,X(i,Pe)):te(Pe,X(G,Pe))}else{if(ry&&Ct(E))for(const ge of l.mount){const Pe=X(s,ge);if(Pe&&Pe._f){const jt=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(ch(jt)){const it=jt.closest("form");if(it){it.reset();break}}}}s={}}i=e.shouldUnregister?I.keepDefaultValues?cr(a):{}:cr(G),u.array.next({values:{...G}}),u.values.next({values:{...G}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!I.keepIsValid||!!I.keepDirtyValues,o.watch=!!e.shouldUnregister,u.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!na(E,a)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:I.keepDirtyValues?I.keepDefaultValues&&i?Rl(a,i):r.dirtyFields:I.keepDefaultValues&&E?Rl(a,E):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ht=(E,I)=>St(wn(E)?E(i):E,I);return{control:{register:Ee,unregister:ce,getFieldState:oe,handleSubmit:ze,setError:ke,_executeSchema:N,_getWatch:$,_getDirty:P,_updateValid:w,_removeUnmounted:T,_updateFieldArray:x,_updateDisabledField:ae,_getFieldArray:D,_reset:St,_resetDefaultValues:()=>wn(t.defaultValues)&&t.defaultValues().then(E=>{Ht(E,t.resetOptions),u.state.next({isLoading:!1})}),_updateFormState:E=>{r={...r,...E}},_disableForm:Re,_subjects:u,_proxyFormState:h,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return a},get _names(){return l},set _names(E){l=E},get _formState(){return r},set _formState(E){r=E},get _options(){return t},set _options(E){t={...t,...E}}},trigger:Z,register:Ee,handleSubmit:ze,watch:at,setValue:te,getValues:K,reset:Ht,resetField:Le,clearErrors:ye,unregister:ce,setError:ke,setFocus:(E,I={})=>{const U=X(s,E),ne=U&&U._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),I.shouldSelect&&ee.select())}},getFieldState:oe}}function ol(e={}){const t=F.useRef(),r=F.useRef(),[s,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:wn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...mU(e),formState:s});const i=t.current.control;return i._options=e,ny({subject:i._subjects.state,next:o=>{Tk(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),F.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),F.useEffect(()=>{e.values&&!na(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),F.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),F.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),F.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Pk(s,i),t.current}const lj=(e,t,r)=>{if(e&&"reportValidity"in e){const s=X(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},zk=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?lj(s.ref,r,e):s.refs&&s.refs.forEach(a=>lj(a,r,e))}},pU=(e,t)=>{t.shouldUseNativeValidation&&zk(e,t);const r={};for(const s in e){const a=X(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(gU(t.names||Object.keys(e),s)){const o=Object.assign({},X(r,s));Qe(o,"root",i),Qe(r,s,o)}else Qe(r,s,i)}return r},gU=(e,t)=>e.some(r=>r.startsWith(t+"."));var xU=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(u){return e.push(u)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=Mk(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},ll=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&zk({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:pU(xU(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},He;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(He||(He={}));var cj;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cj||(cj={}));const de=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wa=e=>{switch(typeof e){case"undefined":return de.undefined;case"string":return de.string;case"number":return isNaN(e)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(e)?de.array:e===null?de.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?de.promise:typeof Map<"u"&&e instanceof Map?de.map:typeof Set<"u"&&e instanceof Set?de.set:typeof Date<"u"&&e instanceof Date?de.date:de.object;default:return de.unknown}},H=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ss extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof ss))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}ss.create=e=>new ss(e);const $c=(e,t)=>{let r;switch(e.code){case H.invalid_type:e.received===de.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case H.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,He.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:r=`Unrecognized key(s) in object: ${He.joinValues(e.keys,", ")}`;break;case H.invalid_union:r="Invalid input";break;case H.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${He.joinValues(e.options)}`;break;case H.invalid_enum_value:r=`Invalid enum value. Expected ${He.joinValues(e.options)}, received '${e.received}'`;break;case H.invalid_arguments:r="Invalid function arguments";break;case H.invalid_return_type:r="Invalid function return type";break;case H.invalid_date:r="Invalid date";break;case H.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:He.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case H.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case H.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case H.custom:r="Invalid input";break;case H.invalid_intersection_types:r="Intersection results could not be merged";break;case H.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case H.not_finite:r="Number must be finite";break;default:r=t.defaultError,He.assertNever(e)}return{message:r}};let vU=$c;function Lg(){return vU}const Fg=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ie(e,t){const r=Lg(),s=Fg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$c?void 0:$c].filter(a=>!!a)});e.common.issues.push(s)}class nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return _e;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return nr.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return _e;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const _e=Object.freeze({status:"aborted"}),Fl=e=>({status:"dirty",value:e}),jr=e=>({status:"valid",value:e}),dj=e=>e.status==="aborted",uj=e=>e.status==="dirty",hh=e=>e.status==="valid",fh=e=>typeof Promise<"u"&&e instanceof Promise;function mh(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Vk(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pe||(pe={}));var $l,Ul;class rn{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hj=(e,t)=>{if(hh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ss(e.common.issues);return this._error=r,this._error}}};function Se(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:h}=e;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class $e{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Wa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new nr,ctx:{common:t.parent.common,data:t.data,parsedType:Wa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(fh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wa(t)},i=this._parseSync({data:t,path:a.path,parent:a});return hj(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wa(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(fh(a)?a:Promise.resolve(a));return hj(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:H.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new In({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return _n.create(this,this._def)}nullable(){return ji.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gs.create(this,this._def)}promise(){return Uc.create(this,this._def)}or(t){return vh.create([this,t],this._def)}and(t){return yh.create(this,t,this._def)}transform(t){return new In({...Se(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Nh({...Se(this._def),innerType:this,defaultValue:r,typeName:be.ZodDefault})}brand(){return new Hk({typeName:be.ZodBranded,type:this,...Se(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ch({...Se(this._def),innerType:this,catchValue:r,typeName:be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Pf.create(this,t)}readonly(){return Sh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yU=/^c[^\s-]{8,}$/i,wU=/^[0-9a-z]+$/,jU=/^[0-9A-HJKMNP-TV-Z]{26}$/,bU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_U=/^[a-z0-9_-]{21}$/i,NU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qm;const kU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EU=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,RU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PU=new RegExp(`^${Bk}$`);function qk(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function TU(e){return new RegExp(`^${qk(e)}$`)}function AU(e){let t=`${Bk}T${qk(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function OU(e,t){return!!((t==="v4"||!t)&&kU.test(e)||(t==="v6"||!t)&&EU.test(e))}class Ws extends $e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==de.string){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:de.string,received:i.parsedType}),_e}const s=new nr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ie(a,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ie(a,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")CU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"email",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Qm||(Qm=new RegExp(SU,"u")),Qm.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"emoji",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")bU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"uuid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")_U.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"nanoid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")yU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"cuid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")wU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"cuid2",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")jU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"ulid",code:H.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ie(a,{validation:"url",code:H.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"regex",code:H.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?AU(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?PU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?TU(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:H.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?NU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"duration",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?OU(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"ip",code:H.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?RU.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"base64",code:H.invalid_string,message:i.message}),s.dirty()):He.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:H.invalid_string,...pe.errToObj(s)})}_addCheck(t){return new Ws({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pe.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...pe.errToObj(r)})}nonempty(t){return this.min(1,pe.errToObj(t))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ws.create=e=>{var t;return new Ws({checks:[],typeName:be.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Se(e)})};function MU(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class vi extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==de.number){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:de.number,received:i.parsedType}),_e}let s;const a=new nr;for(const i of this._def.checks)i.kind==="int"?He.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?MU(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ie(s,{code:H.not_finite,message:i.message}),a.dirty()):He.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,s,a){return new vi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:pe.toString(a)}]})}_addCheck(t){return new vi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&He.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vi.create=e=>new vi({checks:[],typeName:be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Se(e)});class yi extends $e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==de.bigint){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:de.bigint,received:i.parsedType}),_e}let s;const a=new nr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ie(s,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):He.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,s,a){return new yi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:pe.toString(a)}]})}_addCheck(t){return new yi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yi.create=e=>{var t;return new yi({checks:[],typeName:be.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Se(e)})};class ph extends $e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==de.boolean){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.boolean,received:s.parsedType}),_e}return jr(t.data)}}ph.create=e=>new ph({typeName:be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Se(e)});class Wo extends $e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==de.date){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_type,expected:de.date,received:i.parsedType}),_e}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ie(i,{code:H.invalid_date}),_e}const s=new nr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):He.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Wo({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Wo.create=e=>new Wo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:be.ZodDate,...Se(e)});class $g extends $e{_parse(t){if(this._getType(t)!==de.symbol){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.symbol,received:s.parsedType}),_e}return jr(t.data)}}$g.create=e=>new $g({typeName:be.ZodSymbol,...Se(e)});class gh extends $e{_parse(t){if(this._getType(t)!==de.undefined){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.undefined,received:s.parsedType}),_e}return jr(t.data)}}gh.create=e=>new gh({typeName:be.ZodUndefined,...Se(e)});class xh extends $e{_parse(t){if(this._getType(t)!==de.null){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.null,received:s.parsedType}),_e}return jr(t.data)}}xh.create=e=>new xh({typeName:be.ZodNull,...Se(e)});class Ug extends $e{constructor(){super(...arguments),this._any=!0}_parse(t){return jr(t.data)}}Ug.create=e=>new Ug({typeName:be.ZodAny,...Se(e)});class xo extends $e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jr(t.data)}}xo.create=e=>new xo({typeName:be.ZodUnknown,...Se(e)});class Oa extends $e{_parse(t){const r=this._getOrReturnCtx(t);return ie(r,{code:H.invalid_type,expected:de.never,received:r.parsedType}),_e}}Oa.create=e=>new Oa({typeName:be.ZodNever,...Se(e)});class zg extends $e{_parse(t){if(this._getType(t)!==de.undefined){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.void,received:s.parsedType}),_e}return jr(t.data)}}zg.create=e=>new zg({typeName:be.ZodVoid,...Se(e)});class Gs extends $e{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==de.array)return ie(r,{code:H.invalid_type,expected:de.array,received:r.parsedType}),_e;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ie(r,{code:o?H.too_big:H.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ie(r,{code:H.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ie(r,{code:H.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new rn(r,o,r.path,l)))).then(o=>nr.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new rn(r,o,r.path,l)));return nr.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Gs({...this._def,minLength:{value:t,message:pe.toString(r)}})}max(t,r){return new Gs({...this._def,maxLength:{value:t,message:pe.toString(r)}})}length(t,r){return new Gs({...this._def,exactLength:{value:t,message:pe.toString(r)}})}nonempty(t){return this.min(1,t)}}Gs.create=(e,t)=>new Gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Se(t)});function Bi(e){if(e instanceof _t){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=_n.create(Bi(s))}return new _t({...e._def,shape:()=>t})}else return e instanceof Gs?new Gs({...e._def,type:Bi(e.element)}):e instanceof _n?_n.create(Bi(e.unwrap())):e instanceof ji?ji.create(Bi(e.unwrap())):e instanceof Mn?Mn.create(e.items.map(t=>Bi(t))):e}class _t extends $e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=He.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==de.object){const d=this._getOrReturnCtx(t);return ie(d,{code:H.invalid_type,expected:de.object,received:d.parsedType}),_e}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=i[d],u=a.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new rn(a,u,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Oa){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(d==="strict")l.length>0&&(ie(a,{code:H.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const u=a.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new rn(a,u,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const u=await h.key,f=await h.value;d.push({key:u,value:f,alwaysSet:h.alwaysSet})}return d}).then(d=>nr.mergeObjectSync(s,d)):nr.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return pe.errToObj,new _t({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=pe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(t){return new _t({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _t({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new _t({...this._def,catchall:t})}pick(t){const r={};return He.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new _t({...this._def,shape:()=>r})}omit(t){const r={};return He.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new _t({...this._def,shape:()=>r})}deepPartial(){return Bi(this)}partial(t){const r={};return He.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new _t({...this._def,shape:()=>r})}required(t){const r={};return He.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof _n;)i=i._def.innerType;r[s]=i}}),new _t({...this._def,shape:()=>r})}keyof(){return Wk(He.objectKeys(this.shape))}}_t.create=(e,t)=>new _t({shape:()=>e,unknownKeys:"strip",catchall:Oa.create(),typeName:be.ZodObject,...Se(t)});_t.strictCreate=(e,t)=>new _t({shape:()=>e,unknownKeys:"strict",catchall:Oa.create(),typeName:be.ZodObject,...Se(t)});_t.lazycreate=(e,t)=>new _t({shape:e,unknownKeys:"strip",catchall:Oa.create(),typeName:be.ZodObject,...Se(t)});class vh extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ss(l.ctx.common.issues));return ie(r,{code:H.invalid_union,unionErrors:o}),_e}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ss(c));return ie(r,{code:H.invalid_union,unionErrors:l}),_e}}get options(){return this._def.options}}vh.create=(e,t)=>new vh({options:e,typeName:be.ZodUnion,...Se(t)});const fn=e=>e instanceof jh?fn(e.schema):e instanceof In?fn(e.innerType()):e instanceof bh?[e.value]:e instanceof wi?e.options:e instanceof _h?He.objectValues(e.enum):e instanceof Nh?fn(e._def.innerType):e instanceof gh?[void 0]:e instanceof xh?[null]:e instanceof _n?[void 0,...fn(e.unwrap())]:e instanceof ji?[null,...fn(e.unwrap())]:e instanceof Hk||e instanceof Sh?fn(e.unwrap()):e instanceof Ch?fn(e._def.innerType):[];class oy extends $e{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==de.object)return ie(r,{code:H.invalid_type,expected:de.object,received:r.parsedType}),_e;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ie(r,{code:H.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=fn(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new oy({typeName:be.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Se(s)})}}function Vg(e,t){const r=Wa(e),s=Wa(t);if(e===t)return{valid:!0,data:e};if(r===de.object&&s===de.object){const a=He.objectKeys(t),i=He.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Vg(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===de.array&&s===de.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Vg(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===de.date&&s===de.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class yh extends $e{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(dj(i)||dj(o))return _e;const l=Vg(i.value,o.value);return l.valid?((uj(i)||uj(o))&&r.dirty(),{status:r.value,value:l.data}):(ie(s,{code:H.invalid_intersection_types}),_e)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}yh.create=(e,t,r)=>new yh({left:e,right:t,typeName:be.ZodIntersection,...Se(r)});class Mn extends $e{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==de.array)return ie(s,{code:H.invalid_type,expected:de.array,received:s.parsedType}),_e;if(s.data.length<this._def.items.length)return ie(s,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&s.data.length>this._def.items.length&&(ie(s,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new rn(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>nr.mergeArray(r,o)):nr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Mn({...this._def,rest:t})}}Mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:e,typeName:be.ZodTuple,rest:null,...Se(t)})};class wh extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==de.object)return ie(s,{code:H.invalid_type,expected:de.object,received:s.parsedType}),_e;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new rn(s,l,s.path,l)),value:o._parse(new rn(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?nr.mergeObjectAsync(r,a):nr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof $e?new wh({keyType:t,valueType:r,typeName:be.ZodRecord,...Se(s)}):new wh({keyType:Ws.create(),valueType:t,typeName:be.ZodRecord,...Se(r)})}}class Bg extends $e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==de.map)return ie(s,{code:H.invalid_type,expected:de.map,received:s.parsedType}),_e;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new rn(s,l,s.path,[d,"key"])),value:i._parse(new rn(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return _e;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return _e;(d.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(d.value,h.value)}return{status:r.value,value:l}}}}Bg.create=(e,t,r)=>new Bg({valueType:t,keyType:e,typeName:be.ZodMap,...Se(r)});class Ho extends $e{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==de.set)return ie(s,{code:H.invalid_type,expected:de.set,received:s.parsedType}),_e;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ie(s,{code:H.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ie(s,{code:H.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return _e;h.status==="dirty"&&r.dirty(),d.add(h.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new rn(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ho({...this._def,minSize:{value:t,message:pe.toString(r)}})}max(t,r){return new Ho({...this._def,maxSize:{value:t,message:pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ho.create=(e,t)=>new Ho({valueType:e,minSize:null,maxSize:null,typeName:be.ZodSet,...Se(t)});class nc extends $e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==de.function)return ie(r,{code:H.invalid_type,expected:de.function,received:r.parsedType}),_e;function s(l,c){return Fg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Lg(),$c].filter(d=>!!d),issueData:{code:H.invalid_arguments,argumentsError:c}})}function a(l,c){return Fg({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Lg(),$c].filter(d=>!!d),issueData:{code:H.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Uc){const l=this;return jr(async function(...c){const d=new ss([]),h=await l._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(s(c,p)),d}),u=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(u,i).catch(p=>{throw d.addIssue(a(u,p)),d})})}else{const l=this;return jr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new ss([s(c,d.error)]);const h=Reflect.apply(o,this,d.data),u=l._def.returns.safeParse(h,i);if(!u.success)throw new ss([a(h,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new nc({...this._def,args:Mn.create(t).rest(xo.create())})}returns(t){return new nc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new nc({args:t||Mn.create([]).rest(xo.create()),returns:r||xo.create(),typeName:be.ZodFunction,...Se(s)})}}class jh extends $e{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}jh.create=(e,t)=>new jh({getter:e,typeName:be.ZodLazy,...Se(t)});class bh extends $e{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ie(r,{received:r.data,code:H.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:t.data}}get value(){return this._def.value}}bh.create=(e,t)=>new bh({value:e,typeName:be.ZodLiteral,...Se(t)});function Wk(e,t){return new wi({values:e,typeName:be.ZodEnum,...Se(t)})}class wi extends $e{constructor(){super(...arguments),$l.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ie(r,{expected:He.joinValues(s),received:r.parsedType,code:H.invalid_type}),_e}if(mh(this,$l)||Vk(this,$l,new Set(this._def.values)),!mh(this,$l).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ie(r,{received:r.data,code:H.invalid_enum_value,options:s}),_e}return jr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return wi.create(t,{...this._def,...r})}exclude(t,r=this._def){return wi.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}$l=new WeakMap;wi.create=Wk;class _h extends $e{constructor(){super(...arguments),Ul.set(this,void 0)}_parse(t){const r=He.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==de.string&&s.parsedType!==de.number){const a=He.objectValues(r);return ie(s,{expected:He.joinValues(a),received:s.parsedType,code:H.invalid_type}),_e}if(mh(this,Ul)||Vk(this,Ul,new Set(He.getValidEnumValues(this._def.values))),!mh(this,Ul).has(t.data)){const a=He.objectValues(r);return ie(s,{received:s.data,code:H.invalid_enum_value,options:a}),_e}return jr(t.data)}get enum(){return this._def.values}}Ul=new WeakMap;_h.create=(e,t)=>new _h({values:e,typeName:be.ZodNativeEnum,...Se(t)});class Uc extends $e{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==de.promise&&r.common.async===!1)return ie(r,{code:H.invalid_type,expected:de.promise,received:r.parsedType}),_e;const s=r.parsedType===de.promise?r.data:Promise.resolve(r.data);return jr(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Uc.create=(e,t)=>new Uc({type:e,typeName:be.ZodPromise,...Se(t)});class In extends $e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ie(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?Fl(c.value):c});{if(r.value==="aborted")return _e;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?_e:l.status==="dirty"||r.value==="dirty"?Fl(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?_e:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!hh(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>hh(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);He.assertNever(a)}}In.create=(e,t,r)=>new In({schema:e,typeName:be.ZodEffects,effect:t,...Se(r)});In.createWithPreprocess=(e,t,r)=>new In({schema:t,effect:{type:"preprocess",transform:e},typeName:be.ZodEffects,...Se(r)});class _n extends $e{_parse(t){return this._getType(t)===de.undefined?jr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_n.create=(e,t)=>new _n({innerType:e,typeName:be.ZodOptional,...Se(t)});class ji extends $e{_parse(t){return this._getType(t)===de.null?jr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ji.create=(e,t)=>new ji({innerType:e,typeName:be.ZodNullable,...Se(t)});class Nh extends $e{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===de.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Nh.create=(e,t)=>new Nh({innerType:e,typeName:be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Se(t)});class Ch extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return fh(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ss(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ss(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ch.create=(e,t)=>new Ch({innerType:e,typeName:be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Se(t)});class qg extends $e{_parse(t){if(this._getType(t)!==de.nan){const s=this._getOrReturnCtx(t);return ie(s,{code:H.invalid_type,expected:de.nan,received:s.parsedType}),_e}return{status:"valid",value:t.data}}}qg.create=e=>new qg({typeName:be.ZodNaN,...Se(e)});class Hk extends $e{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Pf extends $e{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?_e:i.status==="dirty"?(r.dirty(),Fl(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new Pf({in:t,out:r,typeName:be.ZodPipeline})}}class Sh extends $e{_parse(t){const r=this._def.innerType._parse(t),s=a=>(hh(a)&&(a.value=Object.freeze(a.value)),a);return fh(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}Sh.create=(e,t)=>new Sh({innerType:e,typeName:be.ZodReadonly,...Se(t)});_t.lazycreate;var be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(be||(be={}));const Zt=Ws.create;vi.create;qg.create;yi.create;const zc=ph.create;Wo.create;$g.create;gh.create;xh.create;Ug.create;xo.create;Oa.create;zg.create;Gs.create;const Ri=_t.create;_t.strictCreate;vh.create;const IU=oy.create;yh.create;Mn.create;wh.create;Bg.create;Ho.create;nc.create;jh.create;const ly=bh.create;wi.create;_h.create;Uc.create;In.create;_n.create;ji.create;In.createWithPreprocess;Pf.create;const kh={string:e=>Ws.create({...e,coerce:!0}),number:e=>vi.create({...e,coerce:!0}),boolean:e=>ph.create({...e,coerce:!0}),bigint:e=>yi.create({...e,coerce:!0}),date:e=>Wo.create({...e,coerce:!0})},cl=X6,Kk=m.createContext({}),pt=({...e})=>n.jsx(Kk.Provider,{value:{name:e.name},children:n.jsx(sU,{...e})}),Tf=()=>{const e=m.useContext(Kk),t=m.useContext(Gk),{getFieldState:r,formState:s}=Rf(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Gk=m.createContext({}),dt=m.forwardRef(({className:e,...t},r)=>{const s=m.useId();return n.jsx(Gk.Provider,{value:{id:s},children:n.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});dt.displayName="FormItem";const ut=m.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:a}=Tf();return n.jsx(Fc,{ref:r,className:J(s&&"text-destructive",e),htmlFor:a,...t})});ut.displayName="FormLabel";const ht=m.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:a,formMessageId:i}=Tf();return n.jsx(Rn,{ref:t,id:s,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});ht.displayName="FormControl";const gs=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Tf();return n.jsx("p",{ref:r,id:s,className:J("text-sm text-muted-foreground",e),...t})});gs.displayName="FormDescription";const xt=m.forwardRef(({className:e,children:t,...r},s)=>{const{error:a,formMessageId:i}=Tf(),o=a?String(a==null?void 0:a.message):t;return o?n.jsx("p",{ref:s,id:i,className:J("text-sm font-medium text-destructive",e),...r,children:o}):null});xt.displayName="FormMessage";var cy="Radio",[DU,Qk]=br(cy),[LU,FU]=DU(cy),Yk=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...h}=e,[u,f]=m.useState(null),p=Fe(t,w=>f(w)),y=m.useRef(!1),v=u?d||!!u.closest("form"):!0;return n.jsxs(LU,{scope:r,checked:a,disabled:o,children:[n.jsx(me.button,{type:"button",role:"radio","aria-checked":a,"data-state":Xk(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:p,onClick:re(e.onClick,w=>{a||c==null||c(),v&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),v&&n.jsx($U,{control:u,bubbles:!y.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Yk.displayName=cy;var Zk="RadioIndicator",Jk=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=FU(Zk,r);return n.jsx(zr,{present:s||i.checked,children:n.jsx(me.span,{"data-state":Xk(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});Jk.displayName=Zk;var $U=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=m.useRef(null),o=uf(r),l=hf(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&u){const f=new Event("click",{bubbles:s});u.call(c,r),c.dispatchEvent(f)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xk(e){return e?"checked":"unchecked"}var UU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],dy="RadioGroup",[zU,F9]=br(dy,[il,Qk]),eE=il(),tE=Qk(),[VU,BU]=zU(dy),rE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:u,...f}=e,p=eE(r),y=sl(d),[v,w]=Ir({prop:i,defaultProp:a,onChange:u});return n.jsx(VU,{scope:r,name:s,required:o,disabled:l,value:v,onValueChange:w,children:n.jsx(Rv,{asChild:!0,...p,orientation:c,dir:y,loop:h,children:n.jsx(me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...f,ref:t})})})});rE.displayName=dy;var sE="RadioGroupItem",nE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=BU(sE,r),o=i.disabled||s,l=eE(r),c=tE(r),d=m.useRef(null),h=Fe(t,d),u=i.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const p=v=>{UU.includes(v.key)&&(f.current=!0)},y=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),n.jsx(Pv,{asChild:!0,...l,focusable:!o,active:u,children:n.jsx(Yk,{disabled:o,required:i.required,checked:u,...c,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:re(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:re(a.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});nE.displayName=sE;var qU="RadioGroupIndicator",aE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=tE(r);return n.jsx(Jk,{...a,...s,ref:t})});aE.displayName=qU;var iE=rE,oE=nE,WU=aE;const lE=m.forwardRef(({className:e,...t},r)=>n.jsx(iE,{className:J("grid gap-2",e),...t,ref:r}));lE.displayName=iE.displayName;const Wg=m.forwardRef(({className:e,...t},r)=>n.jsx(oE,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(WU,{className:"flex items-center justify-center",children:n.jsx(R1,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wg.displayName=oE.displayName;const HU=Ri({method_type:ly("UPI"),upi_id:Zt().min(3,"UPI ID is required").regex(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9]+$/i,"Invalid UPI ID format"),is_default:zc().default(!0)}),KU=Ri({method_type:ly("BANK"),account_number:Zt().min(5,"Account number is required"),ifsc_code:Zt().min(5,"IFSC code is required").regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code format"),is_default:zc().default(!0)}),GU=IU("method_type",[HU,KU]),fj=({onSuccess:e})=>{const[t,r]=m.useState(!1),{user:s}=Xe(),{toast:a}=sn(),i=ol({resolver:ll(GU),defaultValues:{method_type:"UPI",is_default:!0}}),o=i.watch("method_type"),l=async c=>{if(s){r(!0);try{const{error:d}=await M.from("payout_methods").insert({user_id:s.id,method_type:c.method_type,upi_id:c.method_type==="UPI"?c.upi_id:null,account_number:c.method_type==="BANK"?c.account_number:null,ifsc_code:c.method_type==="BANK"?c.ifsc_code:null,is_default:c.is_default});if(d)throw d;a({title:"Success",description:"Payout method has been added successfully"}),i.reset({method_type:"UPI",is_default:!0}),e&&e()}catch(d){console.error("Error adding payout method:",d),a({title:"Error",description:"Failed to add payout method. Please try again.",variant:"destructive"})}finally{r(!1)}}};return n.jsx(cl,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(l),className:"space-y-4",children:[n.jsx(pt,{control:i.control,name:"method_type",render:({field:c})=>n.jsxs(dt,{className:"space-y-3",children:[n.jsx(ut,{children:"Payout Method"}),n.jsx(ht,{children:n.jsxs(lE,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wg,{value:"UPI",id:"upi"}),n.jsx("label",{htmlFor:"upi",className:"font-medium cursor-pointer",children:"UPI"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wg,{value:"BANK",id:"bank"}),n.jsx("label",{htmlFor:"bank",className:"font-medium cursor-pointer",children:"Bank Account"})]})]})}),n.jsx(xt,{})]})}),o==="UPI"&&n.jsx(pt,{control:i.control,name:"upi_id",render:({field:c})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"UPI ID"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"yourname@upi",...c})}),n.jsx(xt,{})]})}),o==="BANK"&&n.jsxs(n.Fragment,{children:[n.jsx(pt,{control:i.control,name:"account_number",render:({field:c})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Account Number"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"Enter account number",...c})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:i.control,name:"ifsc_code",render:({field:c})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"IFSC Code"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"e.g. SBIN0001234",...c})}),n.jsx(xt,{})]})})]}),n.jsx(V,{type:"submit",disabled:t,className:"bg-[#00C853] hover:bg-[#00B248] w-full mt-4",children:t?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Payout Method"})]})})},QU=({onMethodAdded:e})=>{const{user:t}=Xe(),[r,s]=m.useState(!1),a=_r(),{data:i,isLoading:o}=Nk(),l=(i==null?void 0:i.payoutMethods)||[],c=Tt({mutationFn:async u=>{const{error:f}=await M.from("payout_methods").update({is_default:!0}).eq("id",u).eq("user_id",t.id);if(f)throw f},onSuccess:()=>{a.invalidateQueries({queryKey:["wallet"]}),z.success("Default payout method updated")},onError:u=>{console.error("Error setting default payout method:",u),z.error("Failed to update default method")}}),d=Tt({mutationFn:async u=>{const{error:f}=await M.from("payout_methods").delete().eq("id",u).eq("user_id",t.id);if(f)throw f},onSuccess:()=>{a.invalidateQueries({queryKey:["wallet"]}),z.success("Payout method deleted")},onError:u=>{console.error("Error deleting payout method:",u),z.error("Failed to delete payout method")}}),h=()=>{s(!1),a.invalidateQueries({queryKey:["wallet"]}),e==null||e()};return o?n.jsx("div",{className:"text-center py-4",children:"Loading payout methods..."}):n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Your Payout Methods"}),n.jsxs(os,{open:r,onOpenChange:s,children:[n.jsx(Zw,{asChild:!0,children:n.jsx(V,{variant:"outline",size:"sm",children:"+ Add New"})}),n.jsxs(Dr,{children:[n.jsx(Lr,{children:n.jsx(Fr,{children:"Add Payout Method"})}),n.jsx(fj,{onSuccess:h})]})]})]}),l.length===0?n.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-gray-500",children:"No payout methods added yet"}),n.jsxs(os,{open:r,onOpenChange:s,children:[n.jsx(Zw,{asChild:!0,children:n.jsx(V,{variant:"outline",className:"mt-2",children:"Add Your First Payout Method"})}),n.jsxs(Dr,{children:[n.jsx(Lr,{children:n.jsx(Fr,{children:"Add Payout Method"})}),n.jsx(fj,{onSuccess:h})]})]})]}):n.jsx("div",{className:"space-y-3",children:l.map(u=>{var f,p;return n.jsxs("div",{className:"p-4 border rounded-lg bg-white flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:u.method_type}),u.is_default&&n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),u.method_type==="UPI"?n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.upi_id}):n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Acc: ",(p=u.account_number)==null?void 0:p.slice(-4).padStart(((f=u.account_number)==null?void 0:f.length)||0,"*")]})]}),n.jsxs("div",{className:"flex space-x-2",children:[!u.is_default&&n.jsx(V,{variant:"outline",size:"sm",onClick:()=>c.mutate(u.id),disabled:c.isPending,children:"Set Default"}),n.jsx(V,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>d.mutate(u.id),disabled:d.isPending,children:"Delete"})]})]},u.id)})})]})},mj=({open:e,onOpenChange:t,onMethodAdded:r})=>n.jsx(os,{open:e,onOpenChange:t,children:n.jsxs(Dr,{className:"sm:max-w-md",children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:"Add Payout Method"}),n.jsx(kf,{children:"You need to add a payout method before you can withdraw funds."})]}),n.jsx(QU,{onMethodAdded:r})]})});async function cE(e){try{const{data:t,error:r}=await M.functions.invoke("telegram-payout-notification",{body:{user_id:e.user_id,user_email:e.user_email,amount:e.amount,payout_method:e.payout_method,request_id:e.request_id}});return r?(console.error("Error sending Telegram notification:",r),{success:!1,message:r.message}):{success:!0,message:"Notification sent successfully"}}catch(t){return console.error("Exception sending Telegram notification:",t),{success:!1,message:t instanceof Error?t.message:"Unknown error"}}}const YU=({balance:e,onWithdrawSuccess:t})=>{const[r,s]=m.useState(""),[a,i]=m.useState(!1),[o,l]=m.useState(""),c=_r(),{data:d}=Nk(),h=(d==null?void 0:d.payoutMethods)||[],u=Tt({mutationFn:async p=>{var g,x;const{data:{user:y}}=await M.auth.getUser();if(!y)throw new Error("Not authenticated");if(!o)throw new Error("Please select a payout method");const{data:v,error:w}=await M.from("payout_requests").insert({user_id:y.id,amount:p,payout_method_id:o,status:"pending"}).select(`
          *,
          user:users(email, name),
          payout_method:payout_methods(method_type, upi_id)
        `).single();if(w)throw w;try{await cE({user_id:y.id,user_email:((g=v.user)==null?void 0:g.email)||y.email||"Unknown",amount:p,payout_method:((x=v.payout_method)==null?void 0:x.method_type)||"Unknown",request_id:v.id})}catch(j){console.error("Failed to send Telegram notification:",j)}return v},onSuccess:()=>{s(""),l(""),c.invalidateQueries({queryKey:["wallet"]}),z.success("Withdrawal request submitted successfully! You will be notified once processed."),t==null||t()},onError:p=>{console.error("Withdrawal error:",p),z.error(p.message||"Failed to submit withdrawal request")}}),f=p=>{p.preventDefault();const y=parseFloat(r);if(isNaN(y)||y<=0){z.error("Please enter a valid amount");return}if(y<100){z.error("Minimum withdrawal amount is 100");return}if(y>e){z.error("Insufficient balance");return}u.mutate(y)};return h.length===0?n.jsx(Q,{children:n.jsxs(Y,{className:"pt-6",children:[n.jsxs(yr,{children:[n.jsx($o,{className:"h-4 w-4"}),n.jsx(wr,{children:"You need to add a payout method before you can withdraw funds."})]}),n.jsx(V,{onClick:()=>i(!0),className:"mt-4 w-full",children:"Add Payout Method"}),n.jsx(mj,{open:a,onOpenChange:i,onMethodAdded:()=>{i(!1),c.invalidateQueries({queryKey:["wallet"]})}})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Fc,{htmlFor:"amount",children:"Withdrawal Amount"}),n.jsx(Be,{id:"amount",type:"number",value:r,onChange:p=>s(p.target.value),placeholder:"Enter amount (min 100)",min:"100",max:e,step:"1",disabled:u.isPending}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Available balance: ",e.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx(Fc,{htmlFor:"method",children:"Payout Method"}),n.jsxs("select",{id:"method",value:o,onChange:p=>l(p.target.value),className:"w-full p-2 border border-gray-300 rounded-md",disabled:u.isPending,children:[n.jsx("option",{value:"",children:"Select payout method"}),h.map(p=>{var y;return n.jsxs("option",{value:p.id,children:[p.method_type==="UPI"?`UPI: ${p.upi_id}`:p.method_type==="BANK"?`Bank: ${(y=p.account_number)==null?void 0:y.slice(-4)}`:p.method_type,p.is_default&&" (Default)"]},p.id)})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(V,{type:"submit",disabled:u.isPending||!r||!o,className:"flex-1",children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):"Request Withdrawal"}),n.jsx(V,{type:"button",variant:"outline",onClick:()=>i(!0),disabled:u.isPending,children:"Manage Methods"})]})]}),n.jsxs(yr,{children:[n.jsx($o,{className:"h-4 w-4"}),n.jsx(wr,{children:"Withdrawal requests are processed manually. You will receive a notification once your request is approved and processed."})]}),n.jsx(mj,{open:a,onOpenChange:i,onMethodAdded:()=>{i(!1),c.invalidateQueries({queryKey:["wallet"]})}})]})},ZU=({title:e,type:t,date:r,amount:s,status:a,isPositive:i})=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-4",children:i?n.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-green-500",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M16.6666 5.83331L7.49992 15L3.33325 10.8333",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):n.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsxs("svg",{className:"w-5 h-5 text-yellow-500",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M10 5V10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M10 13.3333H10.0083",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M9.99996 16.6667C13.6819 16.6667 16.6666 13.682 16.6666 10C16.6666 6.31802 13.6819 3.33334 9.99996 3.33334C6.31798 3.33334 3.33329 6.31802 3.33329 10C3.33329 13.682 6.31798 16.6667 9.99996 16.6667Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:e}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("span",{children:t}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{children:r})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("div",{className:`font-semibold ${i?"text-green-600":"text-red-600"}`,children:[i?"+":"-"," ",s]}),n.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${a==="Paid"?"bg-green-100 text-green-800":a==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a})]})]}),JU=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),{user:a}=Xe();return m.useEffect(()=>{(async()=>{if(a){s(!0);try{const{data:o,error:l}=await M.from("payouts").select(`
            id,
            amount,
            status,
            created_at,
            processed_at,
            payout_method:payout_methods(
              method_type,
              upi_id,
              bank_account_number
            )
          `).eq("user_id",a.id).order("created_at",{ascending:!1});if(l)throw l;const c=(o||[]).map(d=>{var h,u,f;return{...d,payout_method:{method_type:((h=d.payout_method)==null?void 0:h.method_type)||"UPI",upi_id:((u=d.payout_method)==null?void 0:u.upi_id)||null,account_number:((f=d.payout_method)==null?void 0:f.bank_account_number)||null}}});t(c)}catch(o){console.error("Error fetching payouts:",o)}finally{s(!1)}}})()},[a]),r?n.jsx("div",{className:"text-center py-4",children:"Loading payout history..."}):n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payout History"}),e.length===0?n.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No payouts yet"})}):n.jsx("div",{className:"space-y-4",children:e.map(i=>{var d;const o=`Payout to ${i.payout_method.method_type==="UPI"?`UPI: ${i.payout_method.upi_id}`:`Bank: xxxxxx${((d=i.payout_method.account_number)==null?void 0:d.slice(-4))||""}`}`,l=new Date(i.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c={pending:"Pending",success:"Paid",failed:"Failed"};return n.jsx(ZU,{title:o,type:"Withdrawal",date:l,amount:i.amount,status:c[i.status]||"Pending",isPositive:!1},i.id)})})]})};async function pj(){try{console.log("Fetching wallet data...");const{data:{user:e}}=await M.auth.getUser();if(!e)throw console.error("No authenticated user found"),new Error("Authentication required");console.log("Fetching wallet for user:",e.id);const{data:t,error:r}=await M.from("wallet").select("*").eq("user_id",e.id).maybeSingle();if(r)throw console.error("Error fetching wallet:",r),r;if(t)return console.log("Found existing wallet:",t),t;console.log("No wallet found, creating new one...");const{data:s,error:a}=await M.from("wallet").insert({user_id:e.id,total_earned:0,balance:0,total_withdrawn:0}).select().single();if(a)throw console.error("Error creating wallet:",a),a;return console.log("Successfully created new wallet:",s),s}catch(e){throw console.error("Exception fetching wallet:",e),e}}async function gj(){try{console.log("Fetching wallet transactions...");const{data:{user:e}}=await M.auth.getUser();if(!e)return console.error("No authenticated user found"),[];const{data:t,error:r}=await M.from("wallet_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching transactions:",r),r;return console.log("Successfully fetched wallet transactions:",(t==null?void 0:t.length)||0),t}catch(e){throw console.error("Exception fetching transactions:",e),e}}const XU=()=>{const{user:e}=Xe(),[t,r]=m.useState(null),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{(async()=>{if(e)try{o(!0),c(null),console.log("Loading wallet data for user:",e.id);const y=await pj(),v=await gj();r(y),a(v),console.log("Wallet data loaded successfully")}catch(y){console.error("Error loading wallet data:",y),c("Failed to load wallet data. Please refresh the page."),z.error("Failed to load wallet data")}finally{o(!1)}})()},[e]);const d=async()=>{try{const p=await pj(),y=await gj();p&&r(p),a(y),z.success("Withdrawal request submitted successfully")}catch(p){console.error("Error refreshing wallet data:",p)}};if(!e)return n.jsx(Tn,{to:"/auth",replace:!0});if(i)return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading wallet data..."})]})})}),n.jsx(Ge,{})]});if(l)return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsxs("div",{className:"text-red-500 mb-4",children:[n.jsx(uo,{className:"h-16 w-16 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Wallet Error"}),n.jsx("p",{children:l})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#00C853] text-white rounded-lg hover:bg-[#00B248]",children:"Retry"})]})}),n.jsx(Ge,{})]});const h=(t==null?void 0:t.balance)||0,u=(t==null?void 0:t.total_earned)||0,f=(t==null?void 0:t.total_withdrawn)||0;return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(uo,{className:"h-8 w-8 text-[#00C853] mr-3"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Wallet"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Available Balance"}),n.jsx(uo,{className:"h-4 w-4 text-[#00C853]"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold text-[#00C853]",children:["",h.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ready for withdrawal"})]})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Earned"}),n.jsx(sv,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",u.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From referrals"})]})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Withdrawn"}),n.jsx(Jh,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:["",f.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Successful payouts"})]})]})]}),n.jsxs(Q,{className:"mb-8",children:[n.jsx(he,{children:n.jsx(fe,{children:"Withdraw Funds"})}),n.jsx(Y,{children:n.jsx(YU,{balance:h,onWithdrawSuccess:d})})]}),n.jsx(JU,{})]}),n.jsx(Ge,{})]})},e8=({onClose:e})=>{const{user:t}=Xe(),[r,s]=m.useState([]),[a,i]=m.useState(!0);m.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{i(!0);const{data:u,error:f}=await M.from("notifications").select("*").or(`user_id.eq.${t==null?void 0:t.id},is_global.eq.true`).order("created_at",{ascending:!1});if(f){console.error("Error loading notifications:",f);return}s(u||[])}catch(u){console.error("Error loading notifications:",u)}finally{i(!1)}},l=async u=>{try{const{error:f}=await M.from("notifications").update({is_read:!0}).eq("id",u);if(f){console.error("Error marking notification as read:",f);return}s(p=>p.map(y=>y.id===u?{...y,is_read:!0}:y))}catch(f){console.error("Error marking notification as read:",f)}},c=async u=>{try{const{error:f}=await M.from("notifications").delete().eq("id",u);if(f){console.error("Error deleting notification:",f),z.error("Failed to delete notification");return}s(p=>p.filter(y=>y.id!==u)),z.success("Notification deleted")}catch(f){console.error("Error deleting notification:",f),z.error("Failed to delete notification")}},d=async()=>{try{const u=r.filter(p=>!p.is_read).map(p=>p.id);if(u.length===0){z.info("No unread notifications");return}const{error:f}=await M.from("notifications").update({is_read:!0}).in("id",u);if(f){console.error("Error marking all as read:",f),z.error("Failed to mark all as read");return}s(p=>p.map(y=>({...y,is_read:!0}))),z.success("All notifications marked as read")}catch(u){console.error("Error marking all as read:",u),z.error("Failed to mark all as read")}},h=u=>{switch(u){case"success":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}};return a?n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin"})})})}):n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[n.jsx(ui,{className:"h-5 w-5 mr-2"}),"Notifications",r.filter(u=>!u.is_read).length>0&&n.jsx(xe,{variant:"destructive",className:"ml-2",children:r.filter(u=>!u.is_read).length})]}),r.some(u=>!u.is_read)&&n.jsxs(V,{onClick:d,variant:"outline",size:"sm",className:"flex items-center",children:[n.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Mark All Read"]})]}),r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"No notifications yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"You'll see important updates here"})]}):n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:r.map(u=>n.jsx("div",{className:`p-3 rounded-lg border transition-colors ${u.is_read?"bg-gray-50 border-gray-200":"bg-white border-blue-200"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:u.title}),n.jsx(xe,{className:`${h(u.type)} text-xs`,children:u.type}),u.is_global&&n.jsx(xe,{variant:"outline",className:"text-xs",children:"Global"}),!u.is_read&&n.jsx(xe,{variant:"destructive",className:"text-xs",children:"New"})]}),n.jsx("p",{className:"text-gray-700 text-sm mb-2",children:u.message}),n.jsx("p",{className:"text-xs text-gray-500",children:bn(new Date(u.created_at),{addSuffix:!0})})]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[!u.is_read&&n.jsx(V,{onClick:()=>l(u.id),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 h-8 w-8 p-0",children:n.jsx(Qs,{className:"h-4 w-4"})}),n.jsx(V,{onClick:()=>c(u.id),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800 h-8 w-8 p-0",children:n.jsx(L1,{className:"h-4 w-4"})})]})]})},u.id))})]})})},dE=()=>{var f,p,y,v,w,g;const{user:e,signOut:t,isAdmin:r}=Xe(),s=Nr(),[a,i]=m.useState(!1),[o,l]=m.useState(0),[c,d]=m.useState(!1);m.useEffect(()=>{const x=async()=>{if(e)try{const{count:b,error:S}=await M.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("is_read",!1);if(S){console.error("Error fetching notifications:",S);return}l(b||0)}catch(b){console.error("Failed to fetch notifications:",b)}};x();const j=M.channel("notifications-changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e==null?void 0:e.id}`},b=>{x()}).subscribe();return()=>{M.removeChannel(j)}},[e]);const h=async()=>{await t(),s("/")},u=()=>{s("/admin")};return n.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-[993px] mx-auto px-4 md:px-6 h-16 flex items-center justify-between",children:[n.jsx(We,{to:"/dashboard",className:"flex items-center",children:n.jsxs("div",{className:"h-10 w-auto mr-2 flex items-center",children:[n.jsx("img",{src:Sf,alt:"Learn & Earn",className:"h-auto w-full max-h-10 object-contain",style:{filter:"brightness(1.2) contrast(1.2)",maxWidth:"150px"},onError:x=>{const j=x.currentTarget;j.style.display="none";const b=x.currentTarget.nextElementSibling;b&&(b.style.display="block")}}),n.jsx("span",{className:"text-lg font-bold text-gray-900 hidden",style:{display:"none"},children:"Learn & Earn"})]})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[n.jsx(We,{to:"/dashboard",className:"text-gray-700 hover:text-[#00C853]",children:"Dashboard"}),n.jsx(We,{to:"/my-courses",className:"text-gray-700 hover:text-[#00C853]",children:"My Courses"}),n.jsx(We,{to:"/referrals",className:"text-gray-700 hover:text-[#00C853]",children:"Refer & Earn"}),n.jsx(We,{to:"/wallet",className:"text-gray-700 hover:text-[#00C853]",children:"Wallet"}),r&&n.jsxs(V,{onClick:u,className:"flex items-center space-x-1 px-3 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors font-medium",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Mc,{open:c,onOpenChange:d,children:[n.jsx(Ic,{asChild:!0,children:n.jsxs(V,{variant:"ghost",size:"icon",className:"relative",children:[n.jsx(ui,{className:"h-5 w-5"}),o>0&&n.jsx(xe,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-red-500",children:o>9?"9+":o})]})}),n.jsx(Bo,{align:"end",className:"w-80",children:n.jsx(e8,{onClose:()=>d(!1)})})]}),n.jsxs(Mc,{children:[n.jsx(Ic,{asChild:!0,className:"hidden md:flex",children:n.jsxs(V,{variant:"ghost",size:"sm",className:"gap-2",children:[n.jsx(Dc,{className:"h-8 w-8",children:n.jsx(Lc,{className:"bg-[#00C853] text-white",children:((f=e==null?void 0:e.email)==null?void 0:f.charAt(0).toUpperCase())||"U"})}),n.jsx("span",{className:"text-sm font-normal",children:((p=e==null?void 0:e.user_metadata)==null?void 0:p.name)||((y=e==null?void 0:e.email)==null?void 0:y.split("@")[0])||"User"})]})}),n.jsxs(Bo,{align:"end",children:[n.jsx(_f,{children:"My Account"}),n.jsx(qo,{}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/profile",children:"Profile"})}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/wallet",children:"Wallet"})}),n.jsx(Zr,{asChild:!0,children:n.jsx(We,{to:"/feedback",children:"Feedback"})}),n.jsx(qo,{}),n.jsx(Zr,{onClick:h,children:"Logout"})]})]}),n.jsxs(Kv,{open:a,onOpenChange:i,children:[n.jsx(Gv,{asChild:!0,className:"md:hidden ml-2",children:n.jsx(V,{variant:"ghost",size:"icon",children:n.jsx(Jx,{className:"h-6 w-6"})})}),n.jsx(Cf,{side:"right",className:"w-[300px]",children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx(Dc,{className:"h-10 w-10",children:n.jsx(Lc,{className:"bg-[#00C853] text-white",children:((v=e==null?void 0:e.email)==null?void 0:v.charAt(0).toUpperCase())||"U"})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:"font-semibold",children:((w=e==null?void 0:e.user_metadata)==null?void 0:w.name)||((g=e==null?void 0:e.email)==null?void 0:g.split("@")[0])||"User"}),n.jsx("p",{className:"text-sm text-gray-500",children:e==null?void 0:e.email}),r&&n.jsxs(xe,{className:"mt-1 bg-purple-100 text-purple-800 border-purple-200 text-xs",children:[n.jsx(Cs,{className:"h-3 w-3 mr-1"}),"Admin"]})]})]}),n.jsxs("nav",{className:"flex flex-col space-y-4",children:[n.jsx(We,{to:"/dashboard",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"Dashboard"}),n.jsx(We,{to:"/my-courses",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"My Courses"}),n.jsx(We,{to:"/referrals",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"Refer & Earn"}),n.jsx(We,{to:"/wallet",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"Wallet"}),n.jsx(We,{to:"/profile",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"Profile"}),n.jsx(We,{to:"/feedback",className:"px-2 py-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!1),children:"Feedback"}),r&&n.jsxs(V,{onClick:()=>{u(),i(!1)},className:"px-2 py-2 rounded-lg bg-purple-100 text-purple-700 hover:bg-purple-200 font-medium flex items-center justify-start space-x-2",children:[n.jsx(Cs,{className:"h-4 w-4"}),n.jsx("span",{children:"Admin Panel"})]})]}),n.jsx("div",{className:"mt-auto pt-4",children:n.jsx(V,{variant:"outline",className:"w-full",onClick:h,children:"Logout"})})]})})]})]})]})})},t8=()=>{const e=Nr(),[t,r]=m.useState("privacy");return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(dE,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto px-6 py-8 w-full flex-grow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Policies"}),n.jsx(V,{variant:"outline",onClick:()=>e(-1),children:"Back"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:n.jsxs(on,{defaultValue:"privacy",value:t,onValueChange:r,children:[n.jsxs(Ps,{className:"grid grid-cols-5 md:grid-cols-5 mb-6",children:[n.jsx(Ne,{value:"privacy",className:"text-xs md:text-sm",children:"Privacy"}),n.jsx(Ne,{value:"terms",className:"text-xs md:text-sm",children:"Terms & Conditions"}),n.jsx(Ne,{value:"refund",className:"text-xs md:text-sm",children:"Refund Policy"}),n.jsx(Ne,{value:"delivery",className:"text-xs md:text-sm",children:"Delivery"}),n.jsx(Ne,{value:"contact",className:"text-xs md:text-sm",children:"Contact Us"})]}),n.jsxs(Ce,{value:"privacy",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Privacy Policy"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[n.jsx("p",{children:"We collect limited personal information from users (name, email, and phone number) for account access and communication."}),n.jsx("p",{children:"All data is securely stored using Supabase and is never sold or shared with third parties."}),n.jsx("p",{children:"By using our app, you agree to the collection and use of information in accordance with this policy."})]})]}),n.jsxs(Ce,{value:"terms",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Terms and Conditions"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[n.jsx("p",{children:"By purchasing any course through Learn and Earn, you agree to abide by our referral system and usage terms."}),n.jsx("p",{children:"Users are responsible for keeping their login credentials secure."}),n.jsx("p",{children:"Learn and Earn reserves the right to update features, pricing, and policies at any time."})]})]}),n.jsxs(Ce,{value:"refund",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cancellation and Refund Policy"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[n.jsxs("p",{children:["We do ",n.jsx("strong",{children:"not"})," offer cancellations or refunds after payment is made. All sales are final."]}),n.jsx("p",{children:"Please ensure that you are confident before purchasing any of our digital courses."})]})]}),n.jsxs(Ce,{value:"delivery",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Shipping and Delivery Policy"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[n.jsxs("p",{children:["All products sold on Learn and Earn are ",n.jsx("strong",{children:"digital PDF files"}),"."]}),n.jsx("p",{children:"Once payment is successful, instant access is granted via email or through the user dashboard."}),n.jsx("p",{children:"No physical shipping is involved."})]})]}),n.jsxs(Ce,{value:"contact",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Contact Us"}),n.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[n.jsx("p",{children:"If you have any questions or need support, please email us at:"}),n.jsxs("p",{className:"font-medium",children:[" ",n.jsx("a",{href:"mailto:learnandearn776@gmail.com",className:"text-[#00C853] hover:underline",children:"learnandearn776@gmail.com"})]})]})]})]})})]}),n.jsx(Ge,{})]})},r8=Ri({subject:Zt().min(3,{message:"Subject must be at least 3 characters long"}).max(255),message:Zt().min(10,{message:"Message must be at least 10 characters long"})}),s8=({onSuccess:e,onCancel:t,className:r})=>{const{user:s}=Xe(),{toast:a}=sn(),i=ol({resolver:ll(r8),defaultValues:{subject:"",message:""}}),o=async l=>{if(!s){a({title:"Authentication Error",description:"You must be logged in to submit feedback",variant:"destructive"});return}try{const{error:c}=await M.from("feedback").insert({user_id:s.id,subject:l.subject,message:l.message});if(c)throw c;a({title:"Feedback Submitted",description:"Thank you for your feedback! We appreciate your input."}),i.reset(),e&&e()}catch(c){console.error("Error submitting feedback:",c),a({title:"Submission Failed",description:"There was an error submitting your feedback. Please try again.",variant:"destructive"})}};return n.jsxs("div",{className:`bg-white p-6 rounded-lg border border-gray-100 shadow-sm ${r}`,children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Send Us Feedback"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Your suggestions help us improve our platform to serve you better."}),n.jsx(cl,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[n.jsx(pt,{control:i.control,name:"subject",render:({field:l})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Subject"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"Subject of your feedback",...l})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:i.control,name:"message",render:({field:l})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Message"}),n.jsx(ht,{children:n.jsx(Js,{placeholder:"Share your thoughts, suggestions or report issues...",className:"min-h-[120px]",...l})}),n.jsx(xt,{})]})}),n.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[t&&n.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),n.jsx(V,{type:"submit",className:"bg-[#00C853] hover:bg-[#00A846] text-white",children:"Submit Feedback"})]})]})})]})},n8=()=>{const e=Nr(),t=()=>{setTimeout(()=>e("/dashboard"),2e3)};return n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(dE,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto my-0 px-6 py-8 max-sm:p-4 w-full flex-grow",children:[n.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[n.jsx(ev,{className:"h-5 w-5 text-[#00C853]"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Feedback"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"w-full md:w-2/3",children:n.jsx(s8,{onSuccess:t})}),n.jsxs("div",{className:"w-full md:w-1/3",children:[n.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Why Your Feedback Matters"}),n.jsx("p",{className:"text-blue-700 mb-4",children:"As a growing platform, we value your insights and suggestions. Your feedback helps us:"}),n.jsxs("ul",{className:"list-disc list-inside text-blue-600 space-y-2 text-sm",children:[n.jsx("li",{children:"Improve course content and quality"}),n.jsx("li",{children:"Enhance user experience"}),n.jsx("li",{children:"Fix issues you might encounter"}),n.jsx("li",{children:"Add features you care about"})]})]}),n.jsxs("div",{className:"mt-6 bg-green-50 p-6 rounded-lg border border-green-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Earn While You Learn"}),n.jsx("p",{className:"text-green-700",children:"Remember, you can earn 50% commission on every referral. Share your unique referral link with friends and earn while they learn!"})]})]})]})]}),n.jsx(Ge,{})]})};async function uE(e,t){var r;try{if(console.log(`Granting access to ${e} for courses:`,t),!t||t.length===0)return{success:!1,message:"No courses specified for access grant"};let s;const{data:a,error:i}=await M.from("users").select("id").eq("email",e).single();if(i&&i.code!=="PGRST116")return console.error("Error checking user:",i),{success:!1,message:`Error checking user: ${i.message}`};if(a)s=a.id;else{const{data:g,error:x}=await M.auth.signUp({email:e,password:Math.random().toString(36).slice(-8)});if(x&&x.message!=="User already registered")return console.error("Error during signup:",x),{success:!1,message:`Failed to create user account: ${x.message}`};if(s=((r=g==null?void 0:g.user)==null?void 0:r.id)||(a==null?void 0:a.id),!s)return{success:!1,message:`Could not determine user ID for ${e}`};const{error:j}=await M.from("users").upsert({id:s,email:e,name:e.split("@")[0]});if(j)return console.error("Error upserting user data:",j),{success:!1,message:`Failed to create user data: ${j.message}`}}const{data:o,error:l}=await M.from("courses").select("id, title").in("id",t).eq("is_active",!0);if(l)return console.error("Error validating courses:",l),{success:!1,message:`Error validating courses: ${l.message}`};if(!o||o.length===0)return{success:!1,message:"No valid active courses found for the specified IDs"};const c=o.map(g=>g.id);console.log("Valid courses found:",o);const{data:d,error:h}=await M.from("purchases").select("course_id").eq("user_id",s).in("course_id",c);h&&console.error("Error checking existing purchases:",h);const u=(d==null?void 0:d.map(g=>g.course_id))||[],f=c.filter(g=>!u.includes(g));if(f.length===0)return{success:!0,message:`User ${e} already has access to all specified courses`,grantedCourses:c};const p=f.map(g=>{const x=o.find(j=>j.id===g);return{user_id:s,course_id:g,amount:0,payment_status:"completed",purchased_at:new Date().toISOString()}}),{data:y,error:v}=await M.from("purchases").insert(p).select("course_id");if(v)return console.error("Error creating purchase records:",v),{success:!1,message:`Failed to grant access: ${v.message}`};const w=o.filter(g=>f.includes(g.id)).map(g=>g.title);return{success:!0,message:`Successfully granted access to ${f.length} course(s) for ${e}: ${w.join(", ")}`,purchases:y,grantedCourses:[...u,...f]}}catch(s){return console.error("Error granting course access:",s),{success:!1,message:`An error occurred while processing your request: ${s instanceof Error?s.message:"Unknown error"}`}}}const a8=()=>{const[e,t]=m.useState(""),[r,s]=m.useState(!1),[a,i]=m.useState(!0),[o,l]=m.useState(null),[c,d]=m.useState([]),[h,u]=m.useState([]),[f,p]=m.useState(!1),{toast:y}=sn();m.useEffect(()=>{(async()=>{try{i(!0);const{data:j,error:b}=await M.from("courses").select("id, title, description, price, is_active").eq("is_active",!0).order("title");b?(console.error("Error fetching courses:",b),y({title:"Warning",description:"Could not load courses. Using fallback data.",variant:"destructive"}),d([{id:"demo-course-1",title:"AI Tools Mastery",description:"Learn essential AI tools",price:999,is_active:!0},{id:"demo-course-2",title:"Stock Market Fundamentals",description:"Master stock market basics",price:1499,is_active:!0}])):d(j||[])}catch(j){console.error("Exception fetching courses:",j),y({title:"Error",description:"Failed to load courses",variant:"destructive"})}finally{i(!1)}})()},[y]);const v=x=>{u(j=>j.includes(x)?j.filter(b=>b!==x):[...j,x])},w=()=>{u(f?[]:c.map(x=>x.id)),p(!f)};m.useEffect(()=>{p(h.length===c.length&&c.length>0)},[h,c]);const g=async x=>{if(x.preventDefault(),!e.trim()){y({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(h.length===0){y({title:"Error",description:"Please select at least one course",variant:"destructive"});return}s(!0),l(null);try{console.log("Submitting grant access for:",e,"Courses:",h);const j=await uE(e,h);console.log("Grant access result:",j),l(j),j.success?y({title:"Success",description:j.message}):y({title:"Error",description:j.message,variant:"destructive"})}catch(j){console.error("Error granting access:",j),l({success:!1,message:`Error: ${j instanceof Error?j.message:"Unknown error"}`}),y({title:"Error",description:"Failed to grant course access",variant:"destructive"})}finally{s(!1)}};return n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Grant Course Access"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Email"}),n.jsx(Be,{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"user@example.com",required:!0,className:"w-full","data-testid":"input-user-email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Courses to Grant Access"}),a?n.jsxs("div",{className:"flex items-center justify-center py-4",children:[n.jsx(Je,{className:"h-4 w-4 animate-spin mr-2"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Loading courses..."})]}):n.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto border rounded-lg p-3",children:[c.length>0&&n.jsxs("div",{className:"flex items-center space-x-2 border-b pb-2",children:[n.jsx(Rc,{id:"select-all",checked:f,onCheckedChange:w,"data-testid":"checkbox-select-all"}),n.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer",children:["Select All Courses (",c.length,")"]})]}),c.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No active courses found"}):c.map(x=>n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Rc,{id:`course-${x.id}`,checked:h.includes(x.id),onCheckedChange:()=>v(x.id),"data-testid":`checkbox-course-${x.id}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("label",{htmlFor:`course-${x.id}`,className:"text-sm font-medium cursor-pointer block",children:x.title}),x.description&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Price: ",x.price]})]})]},x.id))]})]}),n.jsx(V,{type:"submit",disabled:r||a||h.length===0,className:"bg-[#00C853] hover:bg-[#00B248] text-white w-full","data-testid":"button-grant-access",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):`Grant Access to ${h.length} Course${h.length!==1?"s":""}`})]}),o&&n.jsx(yr,{className:`mt-4 ${o.success?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,children:n.jsxs(wr,{children:[o.message,o.success&&h.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"font-medium",children:"Courses granted access:"}),n.jsx("ul",{className:"list-disc list-inside mt-1",children:h.map(x=>{const j=c.find(b=>b.id===x);return n.jsx("li",{children:j?j.title:x},x)})})]})]})})]})},i8=()=>{const[e,t]=m.useState(""),[r,s]=m.useState(!1),[a,i]=m.useState(null),o=async()=>{if(!e.trim()){z.error("Please enter a valid email address");return}s(!0),i(null);try{console.log("Granting access to:",e);const c=await uE(e,["f9ef47ca-7003-4801-903a-79de8dd005aa","46f0b0fa-6cc1-482e-adca-6d50eab9538f"]);if(console.log("Grant course access response:",c),c.success){z.success(c.message);const d=c.purchases&&Array.isArray(c.purchases)?c.purchases.length:0;i(`Successfully granted access to ${d} courses for user ${e}`),t("")}else z.error(c.message),i(`Error: ${c.message}`)}catch(l){console.error("Error in grant access handler:",l),z.error("Failed to grant course access"),i(`Error: ${l instanceof Error?l.message:"Unknown error"}`)}finally{s(!1)}};return n.jsxs(Q,{className:"p-4 bg-white shadow-sm",children:[n.jsx(he,{className:"p-4 pb-0",children:n.jsx(fe,{className:"text-lg font-medium",children:"Grant Course Access"})}),n.jsxs(Y,{className:"p-4 pt-2",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"userEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Email"}),n.jsx(Be,{id:"userEmail",type:"email",value:e,onChange:l=>t(l.target.value),placeholder:"Enter user email",className:"w-full mb-4"})]}),n.jsx(V,{onClick:o,disabled:r,className:"bg-[#00C853] hover:bg-green-600 w-full",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Grant Access to Courses"}),a&&n.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded border text-sm",children:a})]})]})};let wu=!1;const o8=[{title:"AI Tools Course",description:"Best AI tools for students",price:500,referral_reward:250,pdf_url:null,is_active:!0}],hE=async()=>{if(wu){console.log("App data already initialized, skipping...");return}try{console.log("Checking if app data initialization is needed...");const{data:e,error:t}=await M.from("courses").select("id").limit(1);if(t){console.error("Error checking existing courses:",t);return}if(e&&e.length>0){console.log("Courses already exist, skipping initialization"),wu=!0;return}console.log("No courses found, creating default course...");const{error:r}=await M.from("courses").insert(o8);if(r){console.error("Error creating default courses:",r);return}console.log("Default course created successfully"),wu=!0}catch(e){console.error("Error in app data initialization:",e)}},l8=async()=>{try{return console.log("Manual initialization triggered"),wu=!1,await hE(),{success:!0}}catch(e){return console.error("Error in manual initialization:",e),{success:!1,error:e}}},c8=()=>{const[e,t]=m.useState(!1),{toast:r}=sn(),s=async()=>{try{const{supabase:i}=await mi(async()=>{const{supabase:c}=await Promise.resolve().then(()=>b5);return{supabase:c}},void 0),{data:o,error:l}=await i.rpc("is_admin");return l?(console.error("Error checking admin status:",l),!1):o||!1}catch(i){return console.error("Exception checking admin status:",i),!1}},a=async()=>{try{if(!await s()){console.log("Non-admin attempted to use initialization button");return}t(!0),r({title:"Initializing Courses",description:"Please wait while course data is being processed..."});const o=await l8();o.success?r({title:"Initialization Complete",description:"Course data has been successfully set up with enhanced content.",variant:"default"}):(r({title:"Initialization Failed",description:"There was a problem setting up course data. Check console for details.",variant:"destructive"}),console.error("Initialization error details:",o.error))}catch(i){console.error("Error during manual initialization:",i),r({title:"Initialization Error",description:"An unexpected error occurred during the process.",variant:"destructive"})}finally{t(!1)}};return n.jsx(V,{onClick:a,disabled:e,variant:"outline",size:"sm",className:"flex items-center gap-2 hidden",children:e?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Initializing Enhanced Content..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(rd,{className:"h-4 w-4"}),n.jsx("span",{children:"Reinitialize Enhanced Courses"})]})})},$n=async e=>{try{console.log("Content management action:",e);const{data:{user:t}}=await M.auth.getUser();if(!t)return{success:!1,error:"User not authenticated"};const{data:r,error:s}=await M.from("content_management_logs").insert({admin_id:t.id,resource_type:e.resource_type,operation_type:e.operation_type,resource_id:e.resource_id,details:e.details});return s?(console.error("Error logging content management:",s),{success:!1,error:s}):{success:!0,data:r}}catch(t){return console.error("Error in content management logging:",t),{success:!1,error:t}}},d8=async(e=50)=>{try{const{data:t,error:r}=await M.from("content_management_logs").select("*").order("created_at",{ascending:!1}).limit(e);return r?(console.error("Error fetching content management logs:",r),[]):t||[]}catch(t){return console.error("Error fetching content management logs:",t),[]}};async function u8(){try{console.log("Fetching all courses");const{data:e,error:t}=await M.from("courses").select("*").order("title");return t?(console.error("Error fetching courses:",t),z.error("Failed to load courses"),[]):(console.log(`Retrieved ${(e==null?void 0:e.length)||0} courses`),(e||[]).map(r=>({id:r.id,title:r.title,description:r.description||"",price:r.price,referral_reward:r.referral_reward,pdf_url:r.pdf_url,is_active:r.is_active||!1})))}catch(e){return console.error("Exception fetching courses:",e),z.error("Failed to load courses"),[]}}async function h8(e){try{console.log(`Fetching course with ID: ${e}`);const{data:t,error:r}=await M.from("courses").select("*").eq("id",e).single();return r?(console.error("Error fetching course:",r),z.error("Failed to load course details"),null):(console.log("Retrieved course:",t),{id:t.id,title:t.title,description:t.description||"",price:t.price,referral_reward:t.referral_reward,pdf_url:t.pdf_url,is_active:t.is_active||!1})}catch(t){return console.error("Exception fetching course:",t),z.error("Failed to load course details"),null}}async function f8(e){try{console.log("Creating new course:",e);const{data:t,error:r}=await M.from("courses").insert([e]).select().single();return r?(console.error("Error creating course:",r),{success:!1,error:r.message}):(console.log("Created course:",t),await $n({resource_type:"course",operation_type:"create",resource_id:t.id,details:{title:e.title}}),{success:!0,courseId:t.id})}catch(t){return console.error("Exception creating course:",t),{success:!1,error:"Failed to create course"}}}async function uy(e,t){try{console.log(`Updating course ${e}:`,t);const{error:r}=await M.from("courses").update(t).eq("id",e);return r?(console.error("Error updating course:",r),{success:!1,error:r.message}):(console.log(`Course ${e} updated successfully`),await $n({resource_type:"course",operation_type:"update",resource_id:e,details:{updates:t}}),{success:!0})}catch(r){return console.error("Exception updating course:",r),{success:!1,error:"Failed to update course"}}}async function m8(e){try{console.log(`Starting deletion process for course: ${e}`);const{data:t}=await M.from("course_modules").select("id").eq("course_id",e),r=(t==null?void 0:t.map(l=>l.id))||[];if(r.length>0){const{error:l}=await M.from("lessons").delete().in("module_id",r);l&&console.error("Error deleting lessons:",l)}const{error:s}=await M.from("course_modules").delete().eq("course_id",e);s&&console.error("Error deleting modules:",s);const{error:a}=await M.from("course_referral_codes").delete().eq("course_id",e);a&&console.error("Error deleting referral codes:",a);const{error:i}=await M.from("referrals").delete().eq("course_id",e);i&&console.error("Error deleting referrals:",i);const{error:o}=await M.from("courses").delete().eq("id",e);return o?(console.error("Error deleting course:",o),{success:!1,error:o.message}):(console.log(`Course ${e} and all related data deleted successfully`),await $n({resource_type:"course",operation_type:"delete",resource_id:e,details:{cascade_delete:!0}}),{success:!0})}catch(t){return console.error("Exception deleting course:",t),{success:!1,error:"Failed to delete course completely"}}}async function p8(e){try{console.log(`Fetching modules for course: ${e}`);const{data:t,error:r}=await M.from("course_modules").select("*").eq("course_id",e).order("module_order");return r?(console.error("Error fetching modules:",r),z.error("Failed to load course modules"),[]):(console.log(`Retrieved ${(t==null?void 0:t.length)||0} modules for course ${e}`),t)}catch(t){return console.error("Exception fetching modules:",t),z.error("Failed to load course modules"),[]}}async function g8(e){try{if(console.log("Creating new module:",e),!e.module_order){const{data:s}=await M.from("course_modules").select("module_order").eq("course_id",e.course_id).order("module_order",{ascending:!1}).limit(1),a=s!=null&&s.length?s[0].module_order:0;e.module_order=a+1}const{data:t,error:r}=await M.from("course_modules").insert([e]).select().single();return r?(console.error("Error creating module:",r),{success:!1,error:r.message}):(console.log("Created module:",t),await $n({resource_type:"module",operation_type:"create",resource_id:t.id,details:{title:e.title,course_id:e.course_id}}),z.success("Module created successfully"),{success:!0,moduleId:t.id})}catch(t){return console.error("Exception creating module:",t),{success:!1,error:"Failed to create module"}}}async function x8(e,t){try{console.log(`Updating module ${e}:`,t);const{error:r}=await M.from("course_modules").update(t).eq("id",e);return r?(console.error("Error updating module:",r),{success:!1,error:r.message}):(console.log(`Module ${e} updated successfully`),await $n({resource_type:"module",operation_type:"update",resource_id:e,details:{updates:t}}),z.success("Module updated successfully"),{success:!0})}catch(r){return console.error("Exception updating module:",r),{success:!1,error:"Failed to update module"}}}async function v8(e){try{console.log(`Deleting module with ID: ${e}`);const{error:t}=await M.from("course_modules").delete().eq("id",e);return t?(console.error("Error deleting module:",t),{success:!1,error:t.message}):(console.log(`Module ${e} deleted successfully`),await $n({resource_type:"module",operation_type:"delete",resource_id:e,details:{}}),z.success("Module deleted successfully"),{success:!0})}catch(t){return console.error("Exception deleting module:",t),{success:!1,error:"Failed to delete module"}}}async function y8(e){try{console.log(`Fetching lessons for module: ${e}`);const{data:t,error:r}=await M.from("lessons").select("*").eq("module_id",e).order("lesson_order");return r?(console.error("Error fetching lessons:",r),z.error("Failed to load module lessons"),[]):(console.log(`Retrieved ${(t==null?void 0:t.length)||0} lessons for module ${e}`),t)}catch(t){return console.error("Exception fetching lessons:",t),z.error("Failed to load module lessons"),[]}}async function w8(e){try{if(console.log("Creating new lesson:",e),!e.lesson_order){const{data:s}=await M.from("lessons").select("lesson_order").eq("module_id",e.module_id).order("lesson_order",{ascending:!1}).limit(1),a=s!=null&&s.length?s[0].lesson_order:0;e.lesson_order=a+1}const{data:t,error:r}=await M.from("lessons").insert([e]).select().single();return r?(console.error("Error creating lesson:",r),{success:!1,error:r.message}):(console.log("Created lesson:",t),await $n({resource_type:"lesson",operation_type:"create",resource_id:t.id,details:{title:e.title,module_id:e.module_id}}),z.success("Lesson created successfully"),{success:!0,lessonId:t.id})}catch(t){return console.error("Exception creating lesson:",t),{success:!1,error:"Failed to create lesson"}}}async function j8(e,t){try{console.log(`Updating lesson ${e}:`,t);const{error:r}=await M.from("lessons").update(t).eq("id",e);return r?(console.error("Error updating lesson:",r),{success:!1,error:r.message}):(console.log(`Lesson ${e} updated successfully`),await $n({resource_type:"lesson",operation_type:"update",resource_id:e,details:{updates:t}}),z.success("Lesson updated successfully"),{success:!0})}catch(r){return console.error("Exception updating lesson:",r),{success:!1,error:"Failed to update lesson"}}}async function b8(e){try{console.log(`Deleting lesson with ID: ${e}`);const{error:t}=await M.from("lessons").delete().eq("id",e);return t?(console.error("Error deleting lesson:",t),{success:!1,error:t.message}):(console.log(`Lesson ${e} deleted successfully`),await $n({resource_type:"lesson",operation_type:"delete",resource_id:e,details:{}}),z.success("Lesson deleted successfully"),{success:!0})}catch(t){return console.error("Exception deleting lesson:",t),{success:!1,error:"Failed to delete lesson"}}}async function _8(e){return uy(e,{is_active:!0})}async function N8(e){return uy(e,{is_active:!1})}var fE="AlertDialog",[C8,$9]=br(fE,[CS]),Un=CS(),mE=e=>{const{__scopeAlertDialog:t,...r}=e,s=Un(t);return n.jsx(qv,{...s,...r,modal:!0})};mE.displayName=fE;var S8="AlertDialogTrigger",k8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Un(r);return n.jsx(Wv,{...a,...s,ref:t})});k8.displayName=S8;var E8="AlertDialogPortal",pE=e=>{const{__scopeAlertDialog:t,...r}=e,s=Un(t);return n.jsx(Hv,{...s,...r})};pE.displayName=E8;var R8="AlertDialogOverlay",gE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Un(r);return n.jsx(dd,{...a,...s,ref:t})});gE.displayName=R8;var vo="AlertDialogContent",[P8,T8]=C8(vo),xE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Un(r),o=m.useRef(null),l=Fe(t,o),c=m.useRef(null);return n.jsx(o$,{contentName:vo,titleName:vE,docsSlug:"alert-dialog",children:n.jsx(P8,{scope:r,cancelRef:c,children:n.jsxs(ud,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:re(a.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(J_,{children:s}),n.jsx(O8,{contentRef:o})]})})})});xE.displayName=vo;var vE="AlertDialogTitle",yE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Un(r);return n.jsx(hd,{...a,...s,ref:t})});yE.displayName=vE;var wE="AlertDialogDescription",jE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Un(r);return n.jsx(fd,{...a,...s,ref:t})});jE.displayName=wE;var A8="AlertDialogAction",bE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Un(r);return n.jsx(Nf,{...a,...s,ref:t})});bE.displayName=A8;var _E="AlertDialogCancel",NE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=T8(_E,r),i=Un(r),o=Fe(t,a);return n.jsx(Nf,{...i,...s,ref:o})});NE.displayName=_E;var O8=({contentRef:e})=>{const t=`\`${vo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vo}\` by passing a \`${wE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},M8=mE,I8=pE,CE=gE,SE=xE,kE=bE,EE=NE,RE=yE,PE=jE;const hy=M8,D8=I8,TE=m.forwardRef(({className:e,...t},r)=>n.jsx(CE,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));TE.displayName=CE.displayName;const Af=m.forwardRef(({className:e,...t},r)=>n.jsxs(D8,{children:[n.jsx(TE,{}),n.jsx(SE,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Af.displayName=SE.displayName;const Of=({className:e,...t})=>n.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});Of.displayName="AlertDialogHeader";const Mf=({className:e,...t})=>n.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mf.displayName="AlertDialogFooter";const If=m.forwardRef(({className:e,...t},r)=>n.jsx(RE,{ref:r,className:J("text-lg font-semibold",e),...t}));If.displayName=RE.displayName;const Df=m.forwardRef(({className:e,...t},r)=>n.jsx(PE,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Df.displayName=PE.displayName;const Lf=m.forwardRef(({className:e,...t},r)=>n.jsx(kE,{ref:r,className:J(vv(),e),...t}));Lf.displayName=kE.displayName;const Ff=m.forwardRef(({className:e,...t},r)=>n.jsx(EE,{ref:r,className:J(vv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ff.displayName=EE.displayName;var fy="Switch",[L8,U9]=br(fy),[F8,$8]=L8(fy),AE=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...u}=e,[f,p]=m.useState(null),y=Fe(t,j=>p(j)),v=m.useRef(!1),w=f?h||!!f.closest("form"):!0,[g=!1,x]=Ir({prop:a,defaultProp:i,onChange:d});return n.jsxs(F8,{scope:r,checked:g,disabled:l,children:[n.jsx(me.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":IE(g),"data-disabled":l?"":void 0,disabled:l,value:c,...u,ref:y,onClick:re(e.onClick,j=>{x(b=>!b),w&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),w&&n.jsx(U8,{control:f,bubbles:!v.current,name:s,value:c,checked:g,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});AE.displayName=fy;var OE="SwitchThumb",ME=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=$8(OE,r);return n.jsx(me.span,{"data-state":IE(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});ME.displayName=OE;var U8=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=m.useRef(null),o=uf(r),l=hf(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&u){const f=new Event("click",{bubbles:s});u.call(c,r),c.dispatchEvent(f)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function IE(e){return e?"checked":"unchecked"}var DE=AE,z8=ME;const Vc=m.forwardRef(({className:e,...t},r)=>n.jsx(DE,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(z8,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vc.displayName=DE.displayName;const V8=Ri({title:Zt().min(3,"Title must be at least 3 characters"),description:Zt().min(10,"Description must be at least 10 characters"),price:kh.number().min(0,"Price must be a positive number"),referral_reward:kh.number().min(0,"Referral reward must be a positive number"),pdf_url:Zt().url("PDF URL must be a valid URL").optional().or(ly("")),is_active:zc().default(!0)}),LE=({course:e,onSuccess:t,onCancel:r,isOpen:s,onOpenChange:a})=>{const[i,o]=m.useState(!1),l=_r(),c=!!e,d=ol({resolver:ll(V8),defaultValues:{title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",price:(e==null?void 0:e.price)||0,referral_reward:(e==null?void 0:e.referral_reward)||0,pdf_url:(e==null?void 0:e.pdf_url)||"",is_active:(e==null?void 0:e.is_active)??!0}}),h=Tt({mutationFn:y=>f8(y),onSuccess:()=>{l.invalidateQueries({queryKey:["admin-courses"]}),z.success("Course created successfully"),o(!1),d.reset(),t()},onError:y=>{z.error(`Failed to create course: ${y.message}`),o(!1)}}),u=Tt({mutationFn:({id:y,data:v})=>uy(y,v),onSuccess:()=>{l.invalidateQueries({queryKey:["admin-courses"]}),l.invalidateQueries({queryKey:["course-detail"]}),z.success("Course updated successfully"),o(!1),t()},onError:y=>{z.error(`Failed to update course: ${y.message}`),o(!1)}}),f=async y=>{o(!0);try{c&&e?await u.mutateAsync({id:e.id,data:{title:y.title,description:y.description,price:y.price,referral_reward:y.referral_reward,pdf_url:y.pdf_url||null,is_active:y.is_active}}):await h.mutateAsync({title:y.title,description:y.description,price:y.price,referral_reward:y.referral_reward,pdf_url:y.pdf_url||null,is_active:y.is_active})}catch(v){console.error("Error submitting course:",v),o(!1)}},p=n.jsx(cl,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[n.jsx(pt,{control:d.control,name:"title",render:({field:y})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Course Title"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"e.g., AI Tools for Students",...y})}),n.jsx(gs,{children:"The main title of your course"}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"description",render:({field:y})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Description"}),n.jsx(ht,{children:n.jsx(Js,{placeholder:"Describe what students will learn in this course...",rows:4,...y})}),n.jsx(gs,{children:"A detailed description of the course content"}),n.jsx(xt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsx(pt,{control:d.control,name:"price",render:({field:y})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Price ()"}),n.jsx(ht,{children:n.jsx(Be,{type:"number",min:"0",...y})}),n.jsx(gs,{children:"Set the course price in rupees"}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"referral_reward",render:({field:y})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Referral Reward ()"}),n.jsx(ht,{children:n.jsx(Be,{type:"number",min:"0",...y})}),n.jsx(gs,{children:"Reward amount for referrals"}),n.jsx(xt,{})]})})]}),n.jsx(pt,{control:d.control,name:"pdf_url",render:({field:y})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"PDF URL (Optional)"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"https://example.com/course.pdf",...y})}),n.jsx(gs,{children:"Link to the course PDF content"}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"is_active",render:({field:y})=>n.jsxs(dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ut,{className:"text-base",children:"Published"}),n.jsx(gs,{children:"When enabled, the course will be visible to all users"})]}),n.jsx(ht,{children:n.jsx(Vc,{checked:y.value,onCheckedChange:y.onChange})}),n.jsx(xt,{})]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(V,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),n.jsxs(V,{type:"submit",disabled:i,className:"gap-2",children:[i?n.jsx(Je,{className:"h-4 w-4 animate-spin"}):n.jsx(tv,{className:"h-4 w-4"}),c?"Update Course":"Create Course"]})]})]})});return typeof s<"u"&&a?n.jsx(os,{open:s,onOpenChange:a,children:n.jsxs(Dr,{className:"max-w-lg",children:[n.jsx(Lr,{children:n.jsx(Fr,{children:c?`Edit Course: ${e.title}`:"Create New Course"})}),p]})}):p};var my="Collapsible",[B8,FE]=br(my),[q8,py]=B8(my),$E=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Ir({prop:s,defaultProp:a,onChange:o});return n.jsx(q8,{scope:r,disabled:i,contentId:ts(),open:c,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),children:n.jsx(me.div,{"data-state":xy(c),"data-disabled":i?"":void 0,...l,ref:t})})});$E.displayName=my;var UE="CollapsibleTrigger",zE=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=py(UE,r);return n.jsx(me.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:re(e.onClick,a.onOpenToggle)})});zE.displayName=UE;var gy="CollapsibleContent",VE=m.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=py(gy,e.__scopeCollapsible);return n.jsx(zr,{present:r||a.open,children:({present:i})=>n.jsx(W8,{...s,ref:t,present:i})})});VE.displayName=gy;var W8=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=py(gy,r),[l,c]=m.useState(s),d=m.useRef(null),h=Fe(t,d),u=m.useRef(0),f=u.current,p=m.useRef(0),y=p.current,v=o.open||l,w=m.useRef(v),g=m.useRef();return m.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),Dt(()=>{const x=d.current;if(x){g.current=g.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const j=x.getBoundingClientRect();u.current=j.height,p.current=j.width,w.current||(x.style.transitionDuration=g.current.transitionDuration,x.style.animationName=g.current.animationName),c(s)}},[o.open,s]),n.jsx(me.div,{"data-state":xy(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:v&&a})});function xy(e){return e?"open":"closed"}var H8=$E,K8=zE,G8=VE,zn="Accordion",Q8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[vy,Y8,Z8]=Xc(zn),[$f,z9]=br(zn,[Z8,FE]),yy=FE(),BE=F.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(vy.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(tz,{...i,ref:t}):n.jsx(ez,{...a,ref:t})})});BE.displayName=zn;var[qE,J8]=$f(zn),[WE,X8]=$f(zn,{collapsible:!1}),ez=F.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Ir({prop:r,defaultProp:s,onChange:a});return n.jsx(qE,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:F.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(WE,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(HE,{...o,ref:t})})})}),tz=F.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=Ir({prop:r,defaultProp:s,onChange:a}),c=F.useCallback(h=>l((u=[])=>[...u,h]),[l]),d=F.useCallback(h=>l((u=[])=>u.filter(f=>f!==h)),[l]);return n.jsx(qE,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(WE,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(HE,{...i,ref:t})})})}),[rz,Uf]=$f(zn),HE=F.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=F.useRef(null),c=Fe(l,t),d=Y8(r),u=sl(a)==="ltr",f=re(e.onKeyDown,p=>{var N;if(!Q8.includes(p.key))return;const y=p.target,v=d().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),w=v.findIndex(A=>A.ref.current===y),g=v.length;if(w===-1)return;p.preventDefault();let x=w;const j=0,b=g-1,S=()=>{x=w+1,x>b&&(x=j)},_=()=>{x=w-1,x<j&&(x=b)};switch(p.key){case"Home":x=j;break;case"End":x=b;break;case"ArrowRight":i==="horizontal"&&(u?S():_());break;case"ArrowDown":i==="vertical"&&S();break;case"ArrowLeft":i==="horizontal"&&(u?_():S());break;case"ArrowUp":i==="vertical"&&_();break}const C=x%g;(N=v[C].ref.current)==null||N.focus()});return n.jsx(rz,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(vy.Slot,{scope:r,children:n.jsx(me.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:f})})})}),Eh="AccordionItem",[sz,wy]=$f(Eh),KE=F.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=Uf(Eh,r),o=J8(Eh,r),l=yy(r),c=ts(),d=s&&o.value.includes(s)||!1,h=i.disabled||e.disabled;return n.jsx(sz,{scope:r,open:d,disabled:h,triggerId:c,children:n.jsx(H8,{"data-orientation":i.orientation,"data-state":XE(d),...l,...a,ref:t,disabled:h,open:d,onOpenChange:u=>{u?o.onItemOpen(s):o.onItemClose(s)}})})});KE.displayName=Eh;var GE="AccordionHeader",QE=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Uf(zn,r),i=wy(GE,r);return n.jsx(me.h3,{"data-orientation":a.orientation,"data-state":XE(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});QE.displayName=GE;var Hg="AccordionTrigger",YE=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Uf(zn,r),i=wy(Hg,r),o=X8(Hg,r),l=yy(r);return n.jsx(vy.ItemSlot,{scope:r,children:n.jsx(K8,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});YE.displayName=Hg;var ZE="AccordionContent",JE=F.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Uf(zn,r),i=wy(ZE,r),o=yy(r);return n.jsx(G8,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});JE.displayName=ZE;function XE(e){return e?"open":"closed"}var nz=BE,az=KE,iz=QE,e2=YE,t2=JE;const oz=nz,r2=m.forwardRef(({className:e,...t},r)=>n.jsx(az,{ref:r,className:J("border-b",e),...t}));r2.displayName="AccordionItem";const s2=m.forwardRef(({className:e,children:t,...r},s)=>n.jsx(iz,{className:"flex",children:n.jsxs(e2,{ref:s,className:J("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Zh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));s2.displayName=e2.displayName;const n2=m.forwardRef(({className:e,children:t,...r},s)=>n.jsx(t2,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:J("pb-4 pt-0",e),children:t})}));n2.displayName=t2.displayName;const lz=Ri({title:Zt().min(3,"Title must be at least 3 characters"),content:Zt().min(1,"Content is required"),lesson_order:kh.number().int().positive("Order must be a positive number")}),cz=({open:e,onOpenChange:t,lesson:r,moduleId:s,onSuccess:a})=>{const[i,o]=m.useState(!1),l=_r(),c=!!r,d=ol({resolver:ll(lz),defaultValues:{title:(r==null?void 0:r.title)||"",content:(r==null?void 0:r.content)||"",lesson_order:(r==null?void 0:r.lesson_order)||1}}),h=Tt({mutationFn:p=>w8(p),onSuccess:()=>{l.invalidateQueries({queryKey:["lessons",s]}),o(!1),d.reset(),a()},onError:p=>{console.error("Error creating lesson:",p),o(!1)}}),u=Tt({mutationFn:({id:p,data:y})=>j8(p,y),onSuccess:()=>{l.invalidateQueries({queryKey:["lessons",s]}),o(!1),a()},onError:p=>{console.error("Error updating lesson:",p),o(!1)}}),f=async p=>{o(!0);try{c&&r?await u.mutateAsync({id:r.id,data:{title:p.title,content:p.content,lesson_order:p.lesson_order}}):await h.mutateAsync({title:p.title,content:p.content,lesson_order:p.lesson_order,module_id:s})}catch(y){console.error("Error submitting lesson:",y),o(!1)}};return n.jsx(os,{open:e,onOpenChange:t,children:n.jsxs(Dr,{className:"max-w-lg",children:[n.jsx(Lr,{children:n.jsx(Fr,{children:c?"Edit Lesson":"Create Lesson"})}),n.jsx(cl,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[n.jsx(pt,{control:d.control,name:"title",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Lesson Title"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"Getting Started",...p})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"content",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Content"}),n.jsx(ht,{children:n.jsx(Js,{placeholder:"Lesson content",className:"min-h-32",...p})}),n.jsx(gs,{children:"The main content for this lesson."}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"lesson_order",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Order"}),n.jsx(ht,{children:n.jsx(Be,{type:"number",min:"1",...p})}),n.jsx(gs,{children:"Display order in the module (1 = first lesson)"}),n.jsx(xt,{})]})}),n.jsxs(md,{children:[n.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tv,{className:"mr-2 h-4 w-4"}),c?"Update Lesson":"Create Lesson"]})})]})]})})]})})},dz=({moduleId:e})=>{const[t,r]=m.useState(null),[s,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(null),d=_r(),{data:h=[],isLoading:u,error:f}=et({queryKey:["lessons",e],queryFn:()=>y8(e)}),p=Tt({mutationFn:x=>b8(x),onSuccess:()=>{d.invalidateQueries({queryKey:["lessons",e]}),z.success("Lesson deleted successfully"),r(null)},onError:x=>{console.error("Error deleting lesson:",x),z.error(`Failed to delete lesson: ${x.message}`)}}),y=()=>{c(null),o(!0)},v=x=>{c(x),o(!0)},w=async()=>{t&&(await p.mutateAsync(t.id),a(!1))},g=()=>{o(!1),d.invalidateQueries({queryKey:["lessons",e]})};return u?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Je,{className:"h-6 w-6 animate-spin text-gray-400"})}):f?n.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading module lessons. Please try again."}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Lessons"}),n.jsxs(V,{onClick:y,size:"sm",variant:"outline",className:"gap-1",children:[n.jsx(Xh,{className:"h-3 w-3"}),n.jsx("span",{children:"Add Lesson"})]})]}),h.length===0?n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-md",children:[n.jsx(tg,{className:"h-8 w-8 text-gray-300 mx-auto mb-1"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No lessons available for this module yet."})]}):n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Order"}),n.jsx(je,{children:"Title"}),n.jsx(je,{className:"text-right",children:"Actions"})]})}),n.jsx(tn,{children:h.map(x=>n.jsxs(Pt,{children:[n.jsx(we,{className:"font-medium",children:x.lesson_order}),n.jsx(we,{children:x.title}),n.jsx(we,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(V,{variant:"ghost",size:"icon",onClick:()=>v(x),children:n.jsx(sd,{className:"h-4 w-4"})}),n.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>{r(x),a(!0)},children:n.jsx(rv,{className:"h-4 w-4"})})]})})]},x.id))})]}),n.jsx(hy,{open:s,onOpenChange:a,children:n.jsxs(Af,{children:[n.jsxs(Of,{children:[n.jsx(If,{children:"Delete Lesson"}),n.jsxs(Df,{children:['This will permanently delete the lesson "',t==null?void 0:t.title,'". This action cannot be undone.']})]}),n.jsxs(Mf,{children:[n.jsx(Ff,{children:"Cancel"}),n.jsx(Lf,{className:"bg-red-500 hover:bg-red-600",onClick:w,children:"Delete"})]})]})}),n.jsx(cz,{open:i,onOpenChange:o,lesson:l,moduleId:e,onSuccess:g})]})},uz=Ri({title:Zt().min(3,"Title must be at least 3 characters"),description:Zt().optional(),content:Zt().min(1,"Content is required"),module_order:kh.number().int().positive("Order must be a positive number")}),hz=({open:e,onOpenChange:t,module:r,courseId:s,onSuccess:a})=>{const[i,o]=m.useState(!1),l=_r(),c=!!r,d=ol({resolver:ll(uz),defaultValues:{title:(r==null?void 0:r.title)||"",description:(r==null?void 0:r.description)||"",content:(r==null?void 0:r.content)||"",module_order:(r==null?void 0:r.module_order)||1}}),h=Tt({mutationFn:p=>g8(p),onSuccess:()=>{l.invalidateQueries({queryKey:["modules",s]}),o(!1),d.reset(),a()},onError:p=>{console.error("Error creating module:",p),o(!1)}}),u=Tt({mutationFn:({id:p,data:y})=>x8(p,y),onSuccess:()=>{l.invalidateQueries({queryKey:["modules",s]}),o(!1),a()},onError:p=>{console.error("Error updating module:",p),o(!1)}}),f=async p=>{o(!0);try{c&&r?await u.mutateAsync({id:r.id,data:{title:p.title,description:p.description||null,content:p.content,module_order:p.module_order}}):await h.mutateAsync({title:p.title,description:p.description||null,content:p.content,module_order:p.module_order,course_id:s})}catch(y){console.error("Error submitting module:",y),o(!1)}};return n.jsx(os,{open:e,onOpenChange:t,children:n.jsxs(Dr,{className:"max-w-lg",children:[n.jsx(Lr,{children:n.jsx(Fr,{children:c?"Edit Module":"Create Module"})}),n.jsx(cl,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[n.jsx(pt,{control:d.control,name:"title",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Module Title"}),n.jsx(ht,{children:n.jsx(Be,{placeholder:"Introduction to the course",...p})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"description",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Description (Optional)"}),n.jsx(ht,{children:n.jsx(Js,{placeholder:"Brief description of this module",className:"min-h-20",...p})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"content",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Content"}),n.jsx(ht,{children:n.jsx(Js,{placeholder:"Module content (introductory text)",className:"min-h-32",...p})}),n.jsx(gs,{children:"The main content for this module, can include an introduction or overview."}),n.jsx(xt,{})]})}),n.jsx(pt,{control:d.control,name:"module_order",render:({field:p})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Order"}),n.jsx(ht,{children:n.jsx(Be,{type:"number",min:"1",...p})}),n.jsx(gs,{children:"Display order in the course (1 = first module)"}),n.jsx(xt,{})]})}),n.jsxs(md,{children:[n.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(tv,{className:"mr-2 h-4 w-4"}),c?"Update Module":"Create Module"]})})]})]})})]})})},fz=({course:e})=>{const[t,r]=m.useState(null),[s,a]=m.useState(!1),[i,o]=m.useState(null),[l,c]=m.useState(!1),[d,h]=m.useState(null),u=_r(),{data:f=[],isLoading:p,error:y}=et({queryKey:["modules",e.id],queryFn:()=>p8(e.id)}),v=Tt({mutationFn:b=>v8(b),onSuccess:()=>{u.invalidateQueries({queryKey:["modules",e.id]}),z.success("Module deleted successfully"),r(null)},onError:b=>{console.error("Error deleting module:",b),z.error(`Failed to delete module: ${b.message}`)}}),w=()=>{h(null),c(!0)},g=b=>{h(b),c(!0)},x=async()=>{t&&(await v.mutateAsync(t.id),a(!1))},j=()=>{c(!1),u.invalidateQueries({queryKey:["modules",e.id]})};return p?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):y?n.jsx("div",{className:"text-center py-12 text-red-500",children:"Error loading course modules. Please try again."}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Modules"}),n.jsxs(V,{onClick:w,size:"sm",className:"gap-1",children:[n.jsx(Xh,{className:"h-4 w-4"}),n.jsx("span",{children:"Add Module"})]})]}),f.length===0?n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-md",children:[n.jsx(S1,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No modules available for this course yet."}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Create your first module to get started."})]}):n.jsx(oz,{type:"single",collapsible:!0,value:i||void 0,onValueChange:o,className:"space-y-2",children:f.map(b=>n.jsxs(r2,{value:b.id,className:"border rounded-md overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[n.jsx(s2,{className:"hover:no-underline",children:n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("span",{className:"font-medium",children:b.title}),n.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",b.module_order,")"]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),g(b)},children:n.jsx(sd,{className:"h-4 w-4"})}),n.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:S=>{S.stopPropagation(),r(b),a(!0)},children:n.jsx(rv,{className:"h-4 w-4"})})]})]}),n.jsx(n2,{className:"pb-0 pt-0",children:n.jsx("div",{className:"border-t bg-gray-50",children:n.jsx(dz,{moduleId:b.id})})})]},b.id))}),n.jsx(hy,{open:s,onOpenChange:a,children:n.jsxs(Af,{children:[n.jsxs(Of,{children:[n.jsx(If,{children:"Delete Module"}),n.jsxs(Df,{children:['This will permanently delete the module "',t==null?void 0:t.title,'" and all its lessons. This action cannot be undone.']})]}),n.jsxs(Mf,{children:[n.jsx(Ff,{children:"Cancel"}),n.jsx(Lf,{className:"bg-red-500 hover:bg-red-600",onClick:x,children:"Delete"})]})]})}),n.jsx(hz,{open:l,onOpenChange:c,module:d,courseId:e.id,onSuccess:j})]})},mz=({courseId:e,onBack:t})=>{const[r,s]=m.useState(!1),{data:a,isLoading:i,error:o,refetch:l}=et({queryKey:["course-detail",e],queryFn:()=>h8(e)}),c=()=>{s(!1),l()};return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):o||!a?n.jsx("div",{className:"text-center py-12 text-red-500",children:"Error loading course details. Please try again."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(V,{variant:"outline",size:"sm",onClick:t,className:"gap-1",children:[n.jsx(bc,{className:"h-4 w-4"}),"Back to Courses"]}),n.jsxs(V,{size:"sm",onClick:()=>s(!0),className:"gap-1",children:[n.jsx(sd,{className:"h-4 w-4"}),"Edit Course"]})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(fe,{className:"text-xl",children:a.title}),n.jsx(xe,{variant:"outline",className:a.is_active?"bg-green-100":"bg-gray-100",children:a.is_active?"Published":"Hidden"})]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Description"}),n.jsx("p",{className:"text-gray-700",children:a.description||"No description available"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Price"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:["",a.price]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Referral Reward"}),n.jsxs("p",{className:"text-gray-900 font-semibold",children:["",a.referral_reward]})]})]}),a.pdf_url&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"PDF Content"}),n.jsxs("a",{href:a.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline flex items-center gap-1",children:["View PDF ",n.jsx(t4,{className:"h-3 w-3"})]})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(fz,{course:a})}),n.jsx(LE,{course:a,onSuccess:c,onCancel:()=>s(!1),isOpen:r,onOpenChange:s})]})},pz=({onCreateCourse:e,onEditCourse:t})=>{const[r,s]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(null),[h,u]=m.useState(""),f=_r(),{data:p=[],isLoading:y,error:v}=et({queryKey:["admin-courses"],queryFn:u8}),w=h?p.filter(N=>{var A;return N.title.toLowerCase().includes(h.toLowerCase())||((A=N.description)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))}):p,g=Tt({mutationFn:N=>m8(N),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-courses"]}),z.success("Course deleted successfully")},onError:N=>{z.error(`Failed to delete course: ${N.message}`)}}),x=Tt({mutationFn:N=>_8(N),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-courses"]}),z.success("Course published successfully")},onError:N=>{z.error(`Failed to publish course: ${N.message}`)}}),j=Tt({mutationFn:N=>N8(N),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-courses"]}),z.success("Course unpublished successfully")},onError:N=>{z.error(`Failed to unpublish course: ${N.message}`)}}),b=async()=>{if(r)try{await g.mutateAsync(r.id),s(null),i(!1)}catch(N){console.error("Error deleting course:",N)}},S=async N=>{try{await x.mutateAsync(N)}catch(A){console.error("Error publishing course:",A)}},_=async N=>{try{await j.mutateAsync(N)}catch(A){console.error("Error unpublishing course:",A)}},C=()=>{l(!1),f.invalidateQueries({queryKey:["admin-courses"]})};return c?n.jsx(mz,{courseId:c,onBack:()=>d(null)}):y?n.jsx("div",{className:"flex items-center justify-center h-40",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):v?n.jsx("div",{className:"text-center py-6 text-red-500",children:"Error loading courses. Please try again."}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"relative w-64",children:[n.jsx(Be,{placeholder:"Search courses...",value:h,onChange:N=>u(N.target.value),className:"pl-9"}),n.jsx(O1,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),n.jsxs(V,{onClick:()=>l(!0),size:"sm",className:"gap-1",children:[n.jsx(Xh,{className:"h-4 w-4"}),n.jsx("span",{children:"New Course"})]})]}),w.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-md",children:h?"No courses match your search.":"No courses available. Create your first course to get started."}):n.jsxs(Xs,{children:[n.jsx(Xv,{children:"A list of all courses in the platform"}),n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Title"}),n.jsx(je,{children:"Price ()"}),n.jsx(je,{children:"Referral ()"}),n.jsx(je,{children:"Status"}),n.jsx(je,{className:"text-right",children:"Actions"})]})}),n.jsx(tn,{children:w.map(N=>n.jsxs(Pt,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>d(N.id),children:[n.jsx(we,{className:"font-medium",children:N.title}),n.jsx(we,{children:N.price}),n.jsx(we,{children:N.referral_reward}),n.jsx(we,{children:n.jsx(xe,{variant:"outline",className:N.is_active?"bg-green-100":"bg-gray-100",children:N.is_active?"Published":"Hidden"})}),n.jsx(we,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",onClick:A=>A.stopPropagation(),children:[N.is_active?n.jsx(V,{variant:"ghost",size:"icon",onClick:()=>_(N.id),title:"Unpublish Course",children:n.jsx(r4,{className:"h-4 w-4"})}):n.jsx(V,{variant:"ghost",size:"icon",onClick:()=>S(N.id),title:"Publish Course",children:n.jsx(P1,{className:"h-4 w-4"})}),n.jsx(V,{variant:"ghost",size:"icon",onClick:()=>d(N.id),title:"Edit Course",children:n.jsx(sd,{className:"h-4 w-4"})}),n.jsx(V,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",title:"Delete Course",onClick:()=>{s(N),i(!0)},children:n.jsx(rv,{className:"h-4 w-4"})})]})})]},N.id))})]}),n.jsx(hy,{open:a,onOpenChange:i,children:n.jsxs(Af,{children:[n.jsxs(Of,{children:[n.jsx(If,{children:"Are you sure?"}),n.jsxs(Df,{children:['This action cannot be undone. This will permanently delete the course "',r==null?void 0:r.title,'" and remove all associated data.']})]}),n.jsxs(Mf,{children:[n.jsx(Ff,{children:"Cancel"}),n.jsx(Lf,{className:"bg-red-500 hover:bg-red-600",onClick:b,children:"Delete"})]})]})}),n.jsx(LE,{isOpen:o,onOpenChange:l,onSuccess:C,onCancel:()=>l(!1)})]})},gz=({logs:e,isLoading:t})=>{const r=a=>{switch(a){case"create":return n.jsx(xe,{className:"bg-green-500",children:"Create"});case"update":return n.jsx(xe,{className:"bg-blue-500",children:"Update"});case"delete":return n.jsx(xe,{className:"bg-red-500",children:"Delete"});case"publish":return n.jsx(xe,{className:"bg-purple-500",children:"Publish"});case"unpublish":return n.jsx(xe,{className:"bg-gray-500",children:"Unpublish"});default:return n.jsx(xe,{children:a})}},s=a=>{switch(a){case"course":return n.jsx(n4,{className:"h-4 w-4"});case"module":return n.jsx(tg,{className:"h-4 w-4"});case"lesson":return n.jsx(S1,{className:"h-4 w-4"});default:return n.jsx(tg,{className:"h-4 w-4"})}};return t?n.jsx("div",{className:"flex items-center justify-center p-12",children:n.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin"})}):n.jsxs(Xs,{children:[n.jsx(Xv,{children:"Recent content management operations"}),n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Date"}),n.jsx(je,{children:"Operation"}),n.jsx(je,{children:"Resource"}),n.jsx(je,{children:"Resource ID"}),n.jsx(je,{children:"Admin"})]})}),n.jsx(tn,{children:e.length===0?n.jsx(Pt,{children:n.jsx(we,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No content management logs found"})}):e.map(a=>n.jsxs(Pt,{children:[n.jsx(we,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k1,{className:"h-3.5 w-3.5 text-gray-400"}),n.jsx("span",{className:"text-xs",children:new Date(a.created_at).toLocaleString()})]})}),n.jsx(we,{children:r(a.operation_type)}),n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[s(a.resource_type),n.jsx("span",{className:"capitalize",children:a.resource_type})]})}),n.jsxs(we,{className:"font-mono text-xs",children:[a.resource_id.substring(0,8),"..."]}),n.jsxs(we,{children:[a.admin_id.substring(0,8),"..."]})]},a.id))})]})},xz=()=>{const{data:e=[],isLoading:t}=et({queryKey:["contentManagementLogs"],queryFn:()=>d8(100)});return n.jsxs(Q,{children:[n.jsxs(he,{children:[n.jsx(fe,{children:"Course Content Management"}),n.jsx(xi,{children:"Create, update, and manage course content across the platform"})]}),n.jsx(Y,{children:n.jsxs(on,{defaultValue:"courses",children:[n.jsxs(Ps,{children:[n.jsx(Ne,{value:"courses",children:"Courses"}),n.jsx(Ne,{value:"history",children:"History"})]}),n.jsx(Ce,{value:"courses",className:"mt-4",children:n.jsx(pz,{})}),n.jsx(Ce,{value:"history",className:"mt-4",children:n.jsx(gz,{logs:e,isLoading:t})})]})})]})};function Ym(e){const t={success:!1,message:"Invalid response format"};if(e&&typeof e=="object"&&"success"in e&&"message"in e){const r=e;return{success:!!r.success,message:String(r.message),user_id:r.user_id?String(r.user_id):void 0}}return t}const vz=({currentAdminId:e})=>{const[t,r]=m.useState(""),[s,a]=m.useState(!1),[i,o]=m.useState(null),[l,c]=m.useState([]),[d,h]=m.useState(!1),{toast:u}=sn();m.useEffect(()=>{f()},[]);const f=async()=>{try{h(!0);const{data:w,error:g}=await M.from("users").select("id, email, name, joined_at").eq("is_admin",!0).order("joined_at",{ascending:!1});if(g)throw g;c(w||[])}catch(w){console.error("Error fetching admin users:",w),u({title:"Error",description:"Failed to load admin users",variant:"destructive"})}finally{h(!1)}},p=async w=>{if(w.preventDefault(),!t.trim()){u({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}a(!0),o(null);try{const{data:g,error:x}=await M.rpc("grant_admin_privileges",{admin_email:t.trim()});if(x)throw x;const j=Ym(g);o(j),j.success?(u({title:"Success",description:j.message}),r(""),f()):u({title:"Error",description:j.message,variant:"destructive"})}catch(g){console.error("Error granting admin privileges:",g),o({success:!1,message:`Error: ${g instanceof Error?g.message:"Unknown error"}`}),u({title:"Error",description:"Failed to grant admin privileges",variant:"destructive"})}finally{a(!1)}},y=async w=>{var x;if(w.preventDefault(),!t.trim()){u({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}const{data:{user:g}}=await M.auth.getUser();if(((x=g==null?void 0:g.email)==null?void 0:x.toLowerCase())===t.trim().toLowerCase()){u({title:"Error",description:"You cannot revoke your own admin privileges",variant:"destructive"});return}a(!0),o(null);try{const{data:j,error:b}=await M.rpc("revoke_admin_privileges",{admin_email:t.trim()});if(b)throw b;const S=Ym(j);o(S),S.success?(u({title:"Success",description:S.message}),r(""),f()):u({title:"Error",description:S.message,variant:"destructive"})}catch(j){console.error("Error revoking admin privileges:",j),o({success:!1,message:`Error: ${j instanceof Error?j.message:"Unknown error"}`}),u({title:"Error",description:"Failed to revoke admin privileges",variant:"destructive"})}finally{a(!1)}},v=async(w,g)=>{if(w===e){u({title:"Error",description:"You cannot revoke your own admin privileges",variant:"destructive"});return}try{const{data:x,error:j}=await M.rpc("revoke_admin_privileges",{admin_email:g});if(j)throw j;const b=Ym(x);b.success?(u({title:"Success",description:`Admin privileges revoked from ${g}`}),f()):u({title:"Error",description:b.message,variant:"destructive"})}catch(x){console.error("Error revoking admin privileges:",x),u({title:"Error",description:"Failed to revoke admin privileges",variant:"destructive"})}};return n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Admin Management"}),n.jsxs(Kv,{children:[n.jsx(Gv,{asChild:!0,children:n.jsxs(V,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4"}),n.jsx("span",{children:"View Admin Users"}),n.jsx("div",{className:"bg-gray-200 text-gray-800 rounded-full w-5 h-5 flex items-center justify-center text-xs ml-1",children:l.length})]})}),n.jsxs(Cf,{children:[n.jsxs(VS,{children:[n.jsx(BS,{children:"Admin Users"}),n.jsx(qS,{children:"View and manage users with admin privileges"})]}),n.jsx("div",{className:"mt-6 space-y-4",children:d?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):l.length>0?l.map(w=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:w.name||"Unnamed"}),n.jsx("p",{className:"text-sm text-gray-600",children:w.email})]}),n.jsx(V,{variant:"outline",size:"sm",onClick:()=>v(w.id,w.email),disabled:w.id===e,className:w.id===e?"opacity-50 cursor-not-allowed":"text-red-500 hover:text-red-700",children:w.id===e?"Current User":"Revoke"})]},w.id)):n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No admin users found"})})]})]})]}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"admin-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Email"}),n.jsx(Be,{id:"admin-email",type:"email",value:t,onChange:w=>r(w.target.value),placeholder:"user@example.com",required:!0,className:"w-full"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(V,{onClick:p,disabled:s,className:"bg-[#00C853] hover:bg-[#00B248] text-white flex items-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(f4,{className:"h-4 w-4"}),"Grant Admin Access"]})}),n.jsx(V,{onClick:y,disabled:s,variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-50 flex items-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(h4,{className:"h-4 w-4"}),"Revoke Admin Access"]})})]})]}),i&&n.jsx(yr,{className:`mt-4 ${i.success?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"}`,children:n.jsx(wr,{children:i.message})})]})};function xj(e,[t,r]){return Math.min(r,Math.max(t,e))}var yz=[" ","Enter","ArrowUp","ArrowDown"],wz=[" ","Enter"],gd="Select",[zf,Vf,jz]=Xc(gd),[dl,V9]=br(gd,[jz,xf]),Bf=xf(),[bz,Fa]=dl(gd),[_z,Nz]=dl(gd),a2=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:f,required:p,form:y}=e,v=Bf(t),[w,g]=m.useState(null),[x,j]=m.useState(null),[b,S]=m.useState(!1),_=sl(d),[C=!1,N]=Ir({prop:s,defaultProp:a,onChange:i}),[A,k]=Ir({prop:o,defaultProp:l,onChange:c}),T=m.useRef(null),P=w?y||!!w.closest("form"):!0,[$,D]=m.useState(new Set),q=Array.from($).map(B=>B.props.value).join(";");return n.jsx(mC,{...v,children:n.jsxs(bz,{required:p,scope:t,trigger:w,onTriggerChange:g,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:ts(),value:A,onValueChange:k,open:C,onOpenChange:N,dir:_,triggerPointerDownPosRef:T,disabled:f,children:[n.jsx(zf.Provider,{scope:t,children:n.jsx(_z,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(B=>{D(te=>new Set(te).add(B))},[]),onNativeOptionRemove:m.useCallback(B=>{D(te=>{const O=new Set(te);return O.delete(B),O})},[]),children:r})}),P?n.jsxs(P2,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:u,value:A,onChange:B=>k(B.target.value),disabled:f,form:y,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from($)]},q):null]})})};a2.displayName=gd;var i2="SelectTrigger",o2=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Bf(r),o=Fa(i2,r),l=o.disabled||s,c=Fe(t,o.onTriggerChange),d=Vf(r),h=m.useRef("touch"),[u,f,p]=T2(v=>{const w=d().filter(j=>!j.disabled),g=w.find(j=>j.value===o.value),x=A2(w,v,g);x!==void 0&&o.onValueChange(x.value)}),y=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(pC,{asChild:!0,...i,children:n.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":R2(o.value)?"":void 0,...a,ref:c,onClick:re(a.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&y(v)}),onPointerDown:re(a.onPointerDown,v=>{h.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:re(a.onKeyDown,v=>{const w=u.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(w&&v.key===" ")&&yz.includes(v.key)&&(y(),v.preventDefault())})})})});o2.displayName=i2;var l2="SelectValue",c2=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Fa(l2,r),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,u=Fe(t,c.onValueNodeChange);return Dt(()=>{d(h)},[d,h]),n.jsx(me.span,{...l,ref:u,style:{pointerEvents:"none"},children:R2(c.value)?n.jsx(n.Fragment,{children:o}):i})});c2.displayName=l2;var Cz="SelectIcon",d2=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(me.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});d2.displayName=Cz;var Sz="SelectPortal",u2=e=>n.jsx(td,{asChild:!0,...e});u2.displayName=Sz;var bi="SelectContent",h2=m.forwardRef((e,t)=>{const r=Fa(bi,e.__scopeSelect),[s,a]=m.useState();if(Dt(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Ci.createPortal(n.jsx(f2,{scope:e.__scopeSelect,children:n.jsx(zf.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(m2,{...e,ref:t})});h2.displayName=bi;var cs=10,[f2,$a]=dl(bi),kz="SelectContentImpl",m2=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w,...g}=e,x=Fa(bi,r),[j,b]=m.useState(null),[S,_]=m.useState(null),C=Fe(t,ae=>b(ae)),[N,A]=m.useState(null),[k,T]=m.useState(null),P=Vf(r),[$,D]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(j)return Tv(j)},[j]),wv();const B=m.useCallback(ae=>{const[Ee,...De]=P().map(Le=>Le.ref.current),[Re]=De.slice(-1),ze=document.activeElement;for(const Le of ae)if(Le===ze||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===Ee&&S&&(S.scrollTop=0),Le===Re&&S&&(S.scrollTop=S.scrollHeight),Le==null||Le.focus(),document.activeElement!==ze))return},[P,S]),te=m.useCallback(()=>B([N,j]),[B,N,j]);m.useEffect(()=>{$&&te()},[$,te]);const{onOpenChange:O,triggerPointerDownPosRef:L}=x;m.useEffect(()=>{if(j){let ae={x:0,y:0};const Ee=Re=>{var ze,Le;ae={x:Math.abs(Math.round(Re.pageX)-(((ze=L.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Le=L.current)==null?void 0:Le.y)??0))}},De=Re=>{ae.x<=10&&ae.y<=10?Re.preventDefault():j.contains(Re.target)||O(!1),document.removeEventListener("pointermove",Ee),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",De,{capture:!0})}}},[j,O,L]),m.useEffect(()=>{const ae=()=>O(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[O]);const[Z,K]=T2(ae=>{const Ee=P().filter(ze=>!ze.disabled),De=Ee.find(ze=>ze.ref.current===document.activeElement),Re=A2(Ee,ae,De);Re&&setTimeout(()=>Re.ref.current.focus())}),oe=m.useCallback((ae,Ee,De)=>{const Re=!q.current&&!De;(x.value!==void 0&&x.value===Ee||Re)&&(A(ae),Re&&(q.current=!0))},[x.value]),ye=m.useCallback(()=>j==null?void 0:j.focus(),[j]),ke=m.useCallback((ae,Ee,De)=>{const Re=!q.current&&!De;(x.value!==void 0&&x.value===Ee||Re)&&T(ae)},[x.value]),at=s==="popper"?Kg:p2,ce=at===Kg?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return n.jsx(f2,{scope:r,content:j,viewport:S,onViewportChange:_,itemRefCallback:oe,selectedItem:N,onItemLeave:ye,itemTextRefCallback:ke,focusSelectedItem:te,selectedItemText:k,position:s,isPositioned:$,searchRef:Z,children:n.jsx(wf,{as:Rn,allowPinchZoom:!0,children:n.jsx(ff,{asChild:!0,trapped:x.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:re(a,ae=>{var Ee;(Ee=x.trigger)==null||Ee.focus({preventScroll:!0}),ae.preventDefault()}),children:n.jsx(ed,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:n.jsx(at,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ae=>ae.preventDefault(),...g,...ce,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:re(g.onKeyDown,ae=>{const Ee=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ee&&ae.key.length===1&&K(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Re=P().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ze=ae.target,Le=Re.indexOf(ze);Re=Re.slice(Le+1)}setTimeout(()=>B(Re)),ae.preventDefault()}})})})})})})});m2.displayName=kz;var Ez="SelectItemAlignedPosition",p2=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Fa(bi,r),o=$a(bi,r),[l,c]=m.useState(null),[d,h]=m.useState(null),u=Fe(t,C=>h(C)),f=Vf(r),p=m.useRef(!1),y=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:g,focusSelectedItem:x}=o,j=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&w&&g){const C=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(i.dir!=="rtl"){const ze=k.left-N.left,Le=A.left-ze,St=C.left-Le,Ht=C.width+St,ln=Math.max(Ht,N.width),Cr=window.innerWidth-cs,Vn=xj(Le,[cs,Math.max(cs,Cr-ln)]);l.style.minWidth=Ht+"px",l.style.left=Vn+"px"}else{const ze=N.right-k.right,Le=window.innerWidth-A.right-ze,St=window.innerWidth-C.right-Le,Ht=C.width+St,ln=Math.max(Ht,N.width),Cr=window.innerWidth-cs,Vn=xj(Le,[cs,Math.max(cs,Cr-ln)]);l.style.minWidth=Ht+"px",l.style.right=Vn+"px"}const T=f(),P=window.innerHeight-cs*2,$=v.scrollHeight,D=window.getComputedStyle(d),q=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),te=parseInt(D.borderBottomWidth,10),O=parseInt(D.paddingBottom,10),L=q+B+$+O+te,Z=Math.min(w.offsetHeight*5,L),K=window.getComputedStyle(v),oe=parseInt(K.paddingTop,10),ye=parseInt(K.paddingBottom,10),ke=C.top+C.height/2-cs,at=P-ke,ce=w.offsetHeight/2,ae=w.offsetTop+ce,Ee=q+B+ae,De=L-Ee;if(Ee<=ke){const ze=T.length>0&&w===T[T.length-1].ref.current;l.style.bottom="0px";const Le=d.clientHeight-v.offsetTop-v.offsetHeight,St=Math.max(at,ce+(ze?ye:0)+Le+te),Ht=Ee+St;l.style.height=Ht+"px"}else{const ze=T.length>0&&w===T[0].ref.current;l.style.top="0px";const St=Math.max(ke,q+v.offsetTop+(ze?oe:0)+ce)+De;l.style.height=St+"px",v.scrollTop=Ee-ke+v.offsetTop}l.style.margin=`${cs}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=P+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,d,v,w,g,i.dir,s]);Dt(()=>j(),[j]);const[b,S]=m.useState();Dt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const _=m.useCallback(C=>{C&&y.current===!0&&(j(),x==null||x(),y.current=!1)},[j,x]);return n.jsx(Pz,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(me.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});p2.displayName=Ez;var Rz="SelectPopperPosition",Kg=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=cs,...i}=e,o=Bf(r);return n.jsx(gC,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kg.displayName=Rz;var[Pz,jy]=dl(bi,{}),Gg="SelectViewport",g2=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=$a(Gg,r),o=jy(Gg,r),l=Fe(t,i.onViewportChange),c=m.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(zf.Slot,{scope:r,children:n.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:re(a.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const p=Math.abs(c.current-h.scrollTop);if(p>0){const y=window.innerHeight-cs*2,v=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),g=Math.max(v,w);if(g<y){const x=g+p,j=Math.min(y,x),b=x-j;u.style.height=j+"px",u.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});g2.displayName=Gg;var x2="SelectGroup",[Tz,Az]=dl(x2),Oz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ts();return n.jsx(Tz,{scope:r,id:a,children:n.jsx(me.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Oz.displayName=x2;var v2="SelectLabel",y2=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Az(v2,r);return n.jsx(me.div,{id:a.id,...s,ref:t})});y2.displayName=v2;var Rh="SelectItem",[Mz,w2]=dl(Rh),j2=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Fa(Rh,r),c=$a(Rh,r),d=l.value===s,[h,u]=m.useState(i??""),[f,p]=m.useState(!1),y=Fe(t,x=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,x,s,a)}),v=ts(),w=m.useRef("touch"),g=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Mz,{scope:r,value:s,disabled:a,textId:v,isSelected:d,onItemTextChange:m.useCallback(x=>{u(j=>j||((x==null?void 0:x.textContent)??"").trim())},[]),children:n.jsx(zf.ItemSlot,{scope:r,value:s,disabled:a,textValue:h,children:n.jsx(me.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:re(o.onFocus,()=>p(!0)),onBlur:re(o.onBlur,()=>p(!1)),onClick:re(o.onClick,()=>{w.current!=="mouse"&&g()}),onPointerUp:re(o.onPointerUp,()=>{w.current==="mouse"&&g()}),onPointerDown:re(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:re(o.onPointerMove,x=>{var j;w.current=x.pointerType,a?(j=c.onItemLeave)==null||j.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,x=>{var j;x.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:re(o.onKeyDown,x=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(wz.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});j2.displayName=Rh;var zl="SelectItemText",b2=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Fa(zl,r),l=$a(zl,r),c=w2(zl,r),d=Nz(zl,r),[h,u]=m.useState(null),f=Fe(t,g=>u(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),p=h==null?void 0:h.textContent,y=m.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=d;return Dt(()=>(v(y),()=>w(y)),[v,w,y]),n.jsxs(n.Fragment,{children:[n.jsx(me.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ci.createPortal(i.children,o.valueNode):null]})});b2.displayName=zl;var _2="SelectItemIndicator",N2=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return w2(_2,r).isSelected?n.jsx(me.span,{"aria-hidden":!0,...s,ref:t}):null});N2.displayName=_2;var Qg="SelectScrollUpButton",C2=m.forwardRef((e,t)=>{const r=$a(Qg,e.__scopeSelect),s=jy(Qg,e.__scopeSelect),[a,i]=m.useState(!1),o=Fe(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(k2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});C2.displayName=Qg;var Yg="SelectScrollDownButton",S2=m.forwardRef((e,t)=>{const r=$a(Yg,e.__scopeSelect),s=jy(Yg,e.__scopeSelect),[a,i]=m.useState(!1),o=Fe(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(k2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});S2.displayName=Yg;var k2=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=$a("SelectScrollButton",r),o=m.useRef(null),l=Vf(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Dt(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),n.jsx(me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:re(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:re(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:re(a.onPointerLeave,()=>{c()})})}),Iz="SelectSeparator",E2=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(me.div,{"aria-hidden":!0,...s,ref:t})});E2.displayName=Iz;var Zg="SelectArrow",Dz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Bf(r),i=Fa(Zg,r),o=$a(Zg,r);return i.open&&o.position==="popper"?n.jsx(xC,{...a,...s,ref:t}):null});Dz.displayName=Zg;function R2(e){return e===""||e===void 0}var P2=m.forwardRef((e,t)=>{const{value:r,...s}=e,a=m.useRef(null),i=Fe(t,a),o=uf(r);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&h){const u=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(u)}},[o,r]),n.jsx(Kh,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});P2.displayName="BubbleSelect";function T2(e){const t=Wt(e),r=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function A2(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Lz(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Lz(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Fz=a2,O2=o2,$z=c2,Uz=d2,zz=u2,M2=h2,Vz=g2,I2=y2,D2=j2,Bz=b2,qz=N2,L2=C2,F2=S2,$2=E2;const ws=Fz,js=$z,Jr=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(O2,{ref:s,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Uz,{asChild:!0,children:n.jsx(Zh,{className:"h-4 w-4 opacity-50"})})]}));Jr.displayName=O2.displayName;const U2=m.forwardRef(({className:e,...t},r)=>n.jsx(L2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(E1,{className:"h-4 w-4"})}));U2.displayName=L2.displayName;const z2=m.forwardRef(({className:e,...t},r)=>n.jsx(F2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Zh,{className:"h-4 w-4"})}));z2.displayName=F2.displayName;const Xr=m.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(zz,{children:n.jsxs(M2,{ref:a,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(U2,{}),n.jsx(Vz,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(z2,{})]})}));Xr.displayName=M2.displayName;const Wz=m.forwardRef(({className:e,...t},r)=>n.jsx(I2,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Wz.displayName=I2.displayName;const Ie=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(D2,{ref:s,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(qz,{children:n.jsx(Qs,{className:"h-4 w-4"})})}),n.jsx(Bz,{children:t})]}));Ie.displayName=D2.displayName;const Hz=m.forwardRef(({className:e,...t},r)=>n.jsx($2,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Hz.displayName=$2.displayName;const Kz=()=>{var S;const[e,t]=m.useState("30d");m.useState("revenue");const[r,s]=m.useState(!1),a=_=>{const C=new Date,N=_==="7d"?7:_==="30d"?30:_==="90d"?90:365;return new Date(C.getTime()-N*24*60*60*1e3).toISOString()},{data:i,isLoading:o,refetch:l}=et({queryKey:["enhanced-analytics",e],queryFn:async()=>{try{const _=a(e),{data:C,error:N}=await M.from("purchases").select("amount").eq("payment_status","completed").gte("purchased_at",_);if(N)throw N;const A=(C==null?void 0:C.reduce((Z,K)=>Z+parseFloat(K.amount||0),0))||0,{count:k,error:T}=await M.from("users").select("*",{count:"exact",head:!0}).gte("created_at",_);if(T)throw T;const{count:P,error:$}=await M.from("courses").select("*",{count:"exact",head:!0}).eq("is_active",!0);if($)throw $;const D=C!=null&&C.length?A/C.length:0,{data:q,error:B}=await M.from("referrals").select("status, commission_amount").gte("created_at",_);if(B)throw B;const te=(q==null?void 0:q.filter(Z=>Z.status==="completed").length)||0,O=q!=null&&q.length?te/q.length*100:0;return{totalRevenue:A,revenueGrowth:0,totalUsers:k||0,userGrowth:0,totalCourses:P||0,courseCompletionRate:0,averageOrderValue:D,customerLifetimeValue:D*2,referralConversionRate:O,churnRate:0,monthlyRecurringRevenue:A,dailyActiveUsers:0}}catch(_){return console.error("Error fetching analytics data:",_),z.error("Failed to load analytics data. Please try again."),{totalRevenue:0,revenueGrowth:0,totalUsers:0,userGrowth:0,totalCourses:0,courseCompletionRate:0,averageOrderValue:0,customerLifetimeValue:0,referralConversionRate:0,churnRate:0,monthlyRecurringRevenue:0,dailyActiveUsers:0}}},refetchInterval:r?3e4:!1}),{data:c,isLoading:d}=et({queryKey:["revenue-breakdown",e],queryFn:async()=>{try{const _=a(e),{data:C,error:N}=await M.from("purchases").select("amount, purchased_at").eq("payment_status","completed").is("used_referral_code",null).gte("purchased_at",_);if(N)throw N;const{data:A,error:k}=await M.from("referrals").select("commission_amount, created_at").eq("status","completed").gte("created_at",_);if(k)throw k;const T=(C==null?void 0:C.reduce((D,q)=>D+parseFloat(q.amount||0),0))||0,P=(A==null?void 0:A.reduce((D,q)=>D+parseFloat(q.commission_amount||0),0))||0;return[{period:"Current",direct_sales:T,referral_commissions:P,total:T+P,growth_rate:0}]}catch(_){return console.error("Error fetching revenue breakdown:",_),[]}}}),{data:h,isLoading:u}=et({queryKey:["course-performance",e],queryFn:async()=>{try{const{data:_,error:C}=await M.from("courses").select("id, title, price").eq("is_active",!0);if(C)throw C;const N=[];for(const A of _||[]){const{count:k,error:T}=await M.from("purchases").select("*",{count:"exact",head:!0}).eq("course_id",A.id).eq("payment_status","completed");if(T)continue;const{data:P,error:$}=await M.from("purchases").select("amount").eq("course_id",A.id).eq("payment_status","completed");if($)continue;const D=(P==null?void 0:P.reduce((q,B)=>q+parseFloat(B.amount||0),0))||0;N.push({course_id:A.id,course_title:A.title,enrollment_count:k||0,completion_rate:0,revenue:D,average_rating:0,engagement_score:0})}return N}catch(_){return console.error("Error fetching course performance:",_),[]}}}),{data:f,isLoading:p}=et({queryKey:["user-retention",e],queryFn:async()=>{try{const _=a(e),{data:C,error:N}=await M.from("users").select("id, created_at").gte("created_at",_);if(N)throw N;return[{period:"Current Period",new_users:(C==null?void 0:C.length)||0,retained_users:Math.floor(((C==null?void 0:C.length)||0)*.8),churned_users:Math.floor(((C==null?void 0:C.length)||0)*.2),retention_rate:80}]}catch(_){return console.error("Error fetching retention data:",_),[]}}}),{data:y,isLoading:v}=et({queryKey:["referral-funnel",e],queryFn:async()=>{try{const{data:_,error:C}=await M.from("course_referral_codes").select("id");if(C)throw C;const{data:N,error:A}=await M.from("users").select("id").not("referred_by","is",null);if(A)throw A;const{data:k,error:T}=await M.from("purchases").select("id").eq("has_used_referral_code",!0).eq("payment_status","completed");if(T)throw T;const P=(_==null?void 0:_.length)||0,$=(N==null?void 0:N.length)||0,D=(k==null?void 0:k.length)||0;return[{step:"Referral Codes Created",count:P,conversion_rate:100},{step:"Users Referred",count:$,conversion_rate:P?$/P*100:0},{step:"Referral Purchases",count:D,conversion_rate:$?D/$*100:0}]}catch(_){return console.error("Error fetching referral funnel:",_),[]}}}),w=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(_),g=_=>`${_.toFixed(1)}%`,x=_=>_>0?"text-green-600":_<0?"text-red-600":"text-gray-600",j=_=>_>=0?n.jsx(sv,{className:"h-4 w-4"}):n.jsx(F1,{className:"h-4 w-4"}),b=async()=>{try{const _={analyticsData:i,revenueBreakdown:c,coursePerformance:h,retentionData:f,referralFunnel:y,generatedAt:new Date().toISOString(),timeRange:e},C=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),N=window.URL.createObjectURL(C),A=document.createElement("a");A.href=N,A.download=`analytics-${e}-${new Date().toISOString().split("T")[0]}.json`,A.click(),window.URL.revokeObjectURL(N),z.success("Analytics data exported successfully")}catch{z.error("Failed to export analytics data")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Enhanced Analytics Dashboard"}),n.jsx("p",{className:"text-gray-500",children:"Comprehensive insights and performance metrics"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ws,{value:e,onValueChange:t,children:[n.jsx(Jr,{className:"w-32","data-testid":"select-time-range",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"7d",children:"Last 7 days"}),n.jsx(Ie,{value:"30d",children:"Last 30 days"}),n.jsx(Ie,{value:"90d",children:"Last 90 days"}),n.jsx(Ie,{value:"1y",children:"Last year"})]})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>s(!r),className:r?"bg-green-50 border-green-200":"","data-testid":"button-auto-refresh",children:[n.jsx(rg,{className:`h-4 w-4 mr-1 ${r?"text-green-600":""}`}),"Auto Refresh"]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>l(),disabled:o,"data-testid":"button-refresh",children:[n.jsx(rd,{className:`h-4 w-4 mr-1 ${o?"animate-spin":""}`}),"Refresh"]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:b,"data-testid":"button-export",children:[n.jsx(Jh,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:o?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):w((i==null?void 0:i.totalRevenue)||0)}),(i==null?void 0:i.revenueGrowth)!==void 0&&n.jsxs("div",{className:`flex items-center mt-1 text-sm ${x(i.revenueGrowth)}`,children:[j(i.revenueGrowth),n.jsx("span",{className:"ml-1",children:g(i.revenueGrowth)})]})]}),n.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:n.jsx(Nc,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Users"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:o?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):((S=i==null?void 0:i.dailyActiveUsers)==null?void 0:S.toLocaleString())||0}),(i==null?void 0:i.userGrowth)!==void 0&&n.jsxs("div",{className:`flex items-center mt-1 text-sm ${x(i.userGrowth)}`,children:[j(i.userGrowth),n.jsx("span",{className:"ml-1",children:g(i.userGrowth)})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:n.jsx(Pn,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Course Completion"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:o?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):g((i==null?void 0:i.courseCompletionRate)||0)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-500",children:[n.jsx(Yr,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[(i==null?void 0:i.totalCourses)||0," courses"]})]})]}),n.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:n.jsx(_c,{className:"h-5 w-5 text-purple-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conversion Rate"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:o?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):g((i==null?void 0:i.referralConversionRate)||0)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-orange-600",children:[n.jsx(Jl,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:"Referral Impact"})]})]}),n.jsx("div",{className:"p-3 bg-orange-50 rounded-full",children:n.jsx(Jl,{className:"h-5 w-5 text-orange-500"})})]})})})]}),n.jsxs(on,{defaultValue:"revenue",className:"w-full",children:[n.jsxs(Ps,{className:"grid grid-cols-2 md:grid-cols-5 mb-6",children:[n.jsxs(Ne,{value:"revenue",className:"flex items-center gap-2",children:[n.jsx(Nc,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Revenue"})]}),n.jsxs(Ne,{value:"courses",className:"flex items-center gap-2",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Courses"})]}),n.jsxs(Ne,{value:"users",className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),n.jsxs(Ne,{value:"referrals",className:"flex items-center gap-2",children:[n.jsx(Jl,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Referrals"})]}),n.jsxs(Ne,{value:"realtime",className:"flex items-center gap-2",children:[n.jsx(eg,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Real-time"})]})]}),n.jsx(Ce,{value:"revenue",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Q,{className:"lg:col-span-2",children:[n.jsx(he,{children:n.jsx(fe,{children:"Revenue Breakdown"})}),n.jsx(Y,{children:d?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading revenue data..."})]})}):n.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map((_,C)=>n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.period}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Direct: ",w(_.direct_sales)," | Referrals: ",w(_.referral_commissions)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold",children:w(_.total)}),n.jsx("div",{className:`text-sm ${x(_.growth_rate)}`,children:g(_.growth_rate)})]})]},C))})})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Key Metrics"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Average Order Value"}),n.jsx("span",{className:"font-medium",children:w((i==null?void 0:i.averageOrderValue)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Customer LTV"}),n.jsx("span",{className:"font-medium",children:w((i==null?void 0:i.customerLifetimeValue)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Monthly Recurring"}),n.jsx("span",{className:"font-medium",children:w((i==null?void 0:i.monthlyRecurringRevenue)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Churn Rate"}),n.jsx("span",{className:"font-medium",children:g((i==null?void 0:i.churnRate)||0)})]})]})]})})]})}),n.jsx(Ce,{value:"courses",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Course Performance Analytics"})}),n.jsx(Y,{children:u?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading course data..."})]})}):n.jsx("div",{className:"space-y-4",children:h==null?void 0:h.map((_,C)=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:_.course_title}),n.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{children:[_.enrollment_count," enrollments"]}),n.jsxs("span",{children:[g(_.completion_rate)," completion"]}),n.jsxs("span",{children:[" ",_.average_rating.toFixed(1)," rating"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-green-600",children:w(_.revenue)}),n.jsxs(xe,{className:_.engagement_score>=80?"bg-green-100 text-green-800":_.engagement_score>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[_.engagement_score,"% engagement"]})]})]})},C))})})]})}),n.jsx(Ce,{value:"users",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"User Retention & Churn Analysis"})}),n.jsx(Y,{children:p?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading retention data..."})]})}):n.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map((_,C)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Period"}),n.jsx("div",{className:"font-medium",children:_.period})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"New Users"}),n.jsx("div",{className:"font-medium text-blue-600",children:_.new_users})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Retained"}),n.jsx("div",{className:"font-medium text-green-600",children:_.retained_users})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Retention Rate"}),n.jsx("div",{className:"font-medium",children:g(_.retention_rate)})]})]},C))})})]})}),n.jsx(Ce,{value:"referrals",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Referral Conversion Funnel"})}),n.jsx(Y,{children:v?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading referral data..."})]})}):n.jsx("div",{className:"space-y-4",children:y==null?void 0:y.map((_,C)=>n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:C+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:_.step}),n.jsxs("div",{className:"text-sm text-gray-500",children:[_.count," users"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(_.conversion_rate)}),n.jsx("div",{className:"text-sm text-gray-500",children:"conversion"})]})]}),C<((y==null?void 0:y.length)||0)-1&&n.jsx("div",{className:"w-px h-4 bg-gray-300 ml-8 my-1"})]},C))})})]})}),n.jsx(Ce,{value:"realtime",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs(Q,{children:[n.jsx(he,{className:"pb-2",children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(eg,{className:"h-5 w-5 text-green-500"}),"Live Activity"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Active Users"}),n.jsx("span",{className:"font-bold text-green-600",children:(i==null?void 0:i.dailyActiveUsers)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Sessions Today"}),n.jsx("span",{className:"font-bold",children:"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Page Views"}),n.jsx("span",{className:"font-bold",children:"-"})]})]})})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-2",children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(Ys,{className:"h-5 w-5 text-blue-500"}),"Recent Activity"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"text-gray-600",children:"New user registration"}),n.jsx("div",{className:"text-gray-600",children:"Course purchase completed"}),n.jsx("div",{className:"text-gray-600",children:"Referral code used"}),n.jsx("div",{className:"text-gray-500 text-xs",children:"Updates every 30 seconds when auto-refresh is enabled"})]})})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-2",children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(Yh,{className:"h-5 w-5 text-purple-500"}),"System Health"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-500",children:"Database"}),n.jsx(xe,{className:"bg-green-100 text-green-800",children:"Healthy"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-500",children:"API Response"}),n.jsx(xe,{className:"bg-green-100 text-green-800",children:"Good"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-500",children:"Cache Hit Rate"}),n.jsx("span",{className:"font-bold",children:"94.2%"})]})]})})]})]})})]})]})},vj={open:"bg-red-100 text-red-800 border-red-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",in_progress:"bg-blue-100 text-blue-800 border-blue-200",resolved:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200"},Gz=()=>{var N,A;const[e,t]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(!1),[h,u]=m.useState(""),[f,p]=m.useState(!1),[y,v]=m.useState("resolved"),w=async(k=!1)=>{k?i(!0):s(!0);try{console.log("Loading support tickets...");const T=await U6();console.log("Loaded tickets:",T),t(T),T.length===0&&console.log("No tickets found - this might indicate an issue with the query or permissions")}catch(T){console.error("Error loading tickets:",T),z.error("Failed to load support tickets")}finally{s(!1),i(!1)}};m.useEffect(()=>{w();const k=setInterval(()=>{w(!0)},3e4);return()=>clearInterval(k)},[]);const g=k=>{l(k),u(k.admin_response||""),v(k.status==="open"?"in_progress":"resolved"),d(!0)},x=async()=>{if(!o||!h.trim()){z.error("Please enter a response");return}p(!0);try{const k=await z6(o.id,h,y);k.success?(z.success("Response submitted successfully"),d(!1),w()):z.error(k.error||"Failed to submit response")}catch(k){console.error("Error submitting response:",k),z.error("An unexpected error occurred")}finally{p(!1)}},j=e.filter(k=>["open","pending"].includes(k.status)),b=e.filter(k=>k.status==="in_progress"),S=e.filter(k=>["resolved","closed"].includes(k.status)),_=k=>{const P=vj[k==="open"?"pending":k]||vj.pending;return n.jsx(xe,{className:P,children:k==="in_progress"?"In Progress":k==="open"?"New":k.charAt(0).toUpperCase()+k.slice(1)})},C=({items:k})=>k.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"No tickets found in this category"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{className:"min-w-[150px]",children:"User"}),n.jsx(je,{className:"min-w-[200px]",children:"Subject"}),n.jsx(je,{className:"min-w-[100px]",children:"Status"}),n.jsx(je,{className:"min-w-[120px]",children:"Date"}),n.jsx(je,{className:"w-[100px]",children:"Action"})]})}),n.jsx(tn,{children:k.map(T=>{var P,$;return n.jsxs(Pt,{children:[n.jsxs(we,{children:[n.jsx("div",{className:"font-medium",children:((P=T.user)==null?void 0:P.name)||"Unknown User"}),n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[140px]",children:(($=T.user)==null?void 0:$.email)||"No email"})]}),n.jsx(we,{children:n.jsx("div",{className:"font-medium line-clamp-2",children:T.subject})}),n.jsx(we,{children:_(T.status)}),n.jsx(we,{className:"text-sm text-gray-500",children:bn(new Date(T.submitted_at||T.created_at),{addSuffix:!0})}),n.jsx(we,{children:n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(T),className:"text-xs",children:T.admin_response?"Update":"Respond"})})]},T.id)})})]})});return n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"Support Dashboard"}),n.jsx(xi,{children:"Manage user support tickets and feedback"})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>w(!0),disabled:a,children:[n.jsx(rd,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]})}),n.jsx(Y,{children:r?n.jsxs("div",{className:"flex items-center justify-center p-12",children:[n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading tickets..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Total tickets: ",e.length," | Pending: ",j.length," | In Progress: ",b.length," | Resolved: ",S.length]}),n.jsxs(on,{defaultValue:"pending",children:[n.jsxs(Ps,{className:"grid grid-cols-3 mb-4",children:[n.jsxs(Ne,{value:"pending",className:"relative",children:["Pending",j.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:j.length})]}),n.jsxs(Ne,{value:"in-progress",children:["In Progress",b.length>0&&n.jsxs("span",{className:"ml-1 text-blue-600",children:["(",b.length,")"]})]}),n.jsxs(Ne,{value:"resolved",children:["Resolved",S.length>0&&n.jsxs("span",{className:"ml-1 text-green-600",children:["(",S.length,")"]})]})]}),n.jsx(Ce,{value:"pending",children:n.jsx(C,{items:j})}),n.jsx(Ce,{value:"in-progress",children:n.jsx(C,{items:b})}),n.jsx(Ce,{value:"resolved",children:n.jsx(C,{items:S})})]})]})}),n.jsx(os,{open:c,onOpenChange:d,children:n.jsxs(Dr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx(Lr,{children:n.jsx(Fr,{className:"text-lg",children:o==null?void 0:o.subject})}),n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"From"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:((N=o==null?void 0:o.user)==null?void 0:N.name)||"Unknown User"}),n.jsx("div",{className:"text-sm text-gray-500",children:((A=o==null?void 0:o.user)==null?void 0:A.email)||"No email"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"User Message"}),n.jsx("div",{className:"p-3 bg-gray-50 rounded-md text-sm max-h-32 overflow-y-auto",children:o==null?void 0:o.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",htmlFor:"response",children:"Your Response"}),n.jsx(Js,{id:"response",value:h,onChange:k=>u(k.target.value),placeholder:"Type your response here...",rows:4,className:"resize-none"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Update Status"}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(V,{type:"button",variant:y==="in_progress"?"default":"outline",size:"sm",onClick:()=>v("in_progress"),children:"In Progress"}),n.jsxs(V,{type:"button",variant:y==="resolved"?"default":"outline",size:"sm",onClick:()=>v("resolved"),children:[n.jsx(Qs,{className:"mr-1 h-3 w-3"}),"Resolved"]}),n.jsxs(V,{type:"button",variant:y==="closed"?"default":"outline",size:"sm",onClick:()=>v("closed"),children:[n.jsx(nd,{className:"mr-1 h-3 w-3"}),"Closed"]})]})]})]}),n.jsxs(md,{children:[n.jsx(V,{variant:"outline",onClick:()=>d(!1),disabled:f,children:"Cancel"}),n.jsx(V,{onClick:x,disabled:f||!h.trim(),children:f?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Response"})]})]})})]})},Qz=()=>{const e=_r(),[t,r]=m.useState(null),{data:s=[],isLoading:a}=et({queryKey:["admin-payout-requests"],queryFn:async()=>{const{data:d,error:h}=await M.from("payout_requests").select(`
          *,
          user:users(email, name),
          payout_method:payout_methods(method_type, upi_id, bank_account_number)
        `).order("requested_at",{ascending:!1});if(h)throw console.error("Error fetching payout requests:",h),h;return(d||[]).map(u=>({...u,user:u.user||{email:"Unknown User",name:"Unknown"},payout_method:u.payout_method||{method_type:"Unknown",upi_id:null,bank_account_number:null}}))}}),i=Tt({mutationFn:async d=>{const h=s.find(w=>w.id===d);if(!h)throw new Error("Payout not found");const{error:u}=await M.from("payout_requests").update({status:"completed",processed_at:new Date().toISOString(),admin_notes:"Completed by admin"}).eq("id",d);if(u)throw u;const{data:f,error:p}=await M.from("wallet").select("balance, total_withdrawn").eq("user_id",h.user_id).single();if(p)throw p;const{error:y}=await M.from("wallet").update({balance:(f.balance||0)-h.amount,total_withdrawn:(f.total_withdrawn||0)+h.amount,updated_at:new Date().toISOString()}).eq("user_id",h.user_id);if(y)throw y;const{error:v}=await M.from("wallet_transactions").insert({user_id:h.user_id,type:"debit",amount:h.amount,status:"completed",description:"Payout processed",reference_id:d});if(v)throw v;return d},onMutate:d=>{r(d)},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-payout-requests"]}),z.success("Payout completed successfully")},onError:d=>{console.error("Error completing payout:",d),z.error("Failed to complete payout")},onSettled:()=>{r(null)}}),o=async d=>{var h,u;try{(await cE({user_id:d.user_id,user_email:((h=d.user)==null?void 0:h.email)||"Unknown",amount:d.amount,payout_method:((u=d.payout_method)==null?void 0:u.method_type)||"Unknown",request_id:d.id})).success?z.success("Notification sent to Telegram"):z.error("Failed to send notification")}catch(f){console.error("Error sending notification:",f),z.error("Failed to send notification")}},l=d=>{switch(d){case"completed":return n.jsxs(xe,{className:"bg-green-100 text-green-800 border-green-300",children:[n.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Completed"]});case"pending":return n.jsxs(xe,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[n.jsx(Ys,{className:"h-3 w-3 mr-1"}),"Pending"]});case"rejected":return n.jsxs(xe,{className:"bg-red-100 text-red-800 border-red-300",children:[n.jsx($o,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return n.jsx(xe,{children:d})}},c=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(d);return a?n.jsx(Q,{children:n.jsx(Y,{className:"pt-6",children:n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})})})}):n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Payout Requests Management"})}),n.jsx(Y,{children:s.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Ys,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"No payout requests"}),n.jsx("p",{className:"text-gray-500",children:"When users request payouts, they will appear here"})]}):n.jsx("div",{className:"border rounded-md overflow-auto",children:n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Date"}),n.jsx(je,{children:"User"}),n.jsx(je,{children:"Amount"}),n.jsx(je,{children:"Method"}),n.jsx(je,{children:"Status"}),n.jsx(je,{children:"Actions"})]})}),n.jsx(tn,{children:s.map(d=>{var h,u,f,p;return n.jsxs(Pt,{children:[n.jsx(we,{className:"whitespace-nowrap",children:new Date(d.requested_at).toLocaleDateString()}),n.jsx(we,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:((h=d.user)==null?void 0:h.name)||"Unknown"}),n.jsx("div",{className:"text-xs text-gray-500",children:(u=d.user)==null?void 0:u.email})]})}),n.jsx(we,{className:"font-medium",children:c(d.amount)}),n.jsx(we,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{children:((f=d.payout_method)==null?void 0:f.method_type)||"Unknown"}),((p=d.payout_method)==null?void 0:p.upi_id)&&n.jsx("div",{className:"text-xs text-gray-500",children:d.payout_method.upi_id})]})}),n.jsx(we,{children:l(d.status)}),n.jsx(we,{children:n.jsxs("div",{className:"flex gap-2",children:[d.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(V,{size:"sm",onClick:()=>i.mutate(d.id),disabled:t===d.id,className:"bg-green-600 hover:bg-green-700",children:t===d.id?n.jsx(Je,{className:"h-4 w-4 animate-spin"}):"Complete"}),n.jsx(V,{size:"sm",variant:"outline",onClick:()=>o(d),children:"Notify"})]}),d.status==="completed"&&d.processed_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Completed on ",new Date(d.processed_at).toLocaleDateString()]})]})})]},d.id)})})]})})})]})},Yz=()=>{var u,f,p,y,v,w;const[e,t]=m.useState({open:!1,data:null}),{data:r=[],isLoading:s}=et({queryKey:["admin-purchases"],queryFn:async()=>{const{data:g,error:x}=await M.from("purchases").select(`
          *,
          course:courses(title, price),
          user:users(email, name)
        `).order("purchased_at",{ascending:!1});if(x)throw console.error("Error fetching purchases:",x),x;return(g||[]).map(j=>({...j,course:j.course||{title:"Unknown Course",price:0},user:j.user||{email:"Unknown User",name:"Unknown"},has_used_referral_code:j.has_used_referral_code||!1,used_referral_code:j.used_referral_code||null}))}}),{data:a=[],isLoading:i}=et({queryKey:["admin-payouts"],queryFn:async()=>{const{data:g,error:x}=await M.from("payouts").select(`
          *,
          user:users(email, name)
        `).order("created_at",{ascending:!1});if(x)throw console.error("Error fetching payouts:",x),x;return(g||[]).map(j=>({...j,user:j.user||{email:"Unknown User",name:"Unknown"},processed_at:j.processed_at||null,payout_method_id:j.payout_method_id||null,razorpay_payout_id:j.razorpay_payout_id||null,failure_reason:j.failure_reason||null}))}}),o=r.reduce((g,x)=>{var j;return g+(((j=x.course)==null?void 0:j.price)||0)},0),l=a.filter(g=>g.status==="success").reduce((g,x)=>g+x.amount,0),c=a.filter(g=>g.status==="pending").reduce((g,x)=>g+x.amount,0),d=g=>{switch(g){case"success":return n.jsx(xe,{className:"bg-green-100 text-green-800 border-green-300",children:"Successful"});case"pending":return n.jsx(xe,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});case"failed":return n.jsx(xe,{className:"bg-red-100 text-red-800 border-red-300",children:"Failed"});default:return n.jsx(xe,{children:g})}},h=g=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(g);return n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Payments Dashboard"})}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Q,{children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),n.jsx("h3",{className:"text-2xl font-bold",children:h(o)})]}),n.jsx("div",{className:"p-2 rounded-full bg-green-50",children:n.jsx(C1,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Payouts"}),n.jsx("h3",{className:"text-2xl font-bold",children:h(l)})]}),n.jsx("div",{className:"p-2 rounded-full bg-blue-50",children:n.jsx(N1,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Payouts"}),n.jsx("h3",{className:"text-2xl font-bold",children:h(c)})]}),n.jsx("div",{className:"p-2 rounded-full bg-yellow-50",children:n.jsx(QA,{className:"h-5 w-5 text-yellow-500"})})]})})})]}),n.jsxs(on,{defaultValue:"purchases",className:"w-full",children:[n.jsxs(Ps,{className:"mb-4",children:[n.jsx(Ne,{value:"purchases",children:"Purchases"}),n.jsx(Ne,{value:"payouts",children:"Payouts"}),n.jsx(Ne,{value:"payout-requests",children:"Payout Requests"})]}),n.jsxs(Ce,{value:"purchases",className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",children:"Purchase History"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{placeholder:"Search...",className:"w-[200px]"}),n.jsxs(ws,{defaultValue:"all",children:[n.jsx(Jr,{className:"w-[140px]",children:n.jsx(js,{placeholder:"Filter"})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Purchases"}),n.jsx(Ie,{value:"referral",children:"With Referral"}),n.jsx(Ie,{value:"no-referral",children:"No Referral"})]})]})]})]}),s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):r.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Wu,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"No purchases found"}),n.jsx("p",{className:"text-gray-500",children:"When users make purchases, they will appear here"})]}):n.jsx("div",{className:"border rounded-md overflow-auto",children:n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Date"}),n.jsx(je,{children:"User"}),n.jsx(je,{children:"Course"}),n.jsx(je,{children:"Amount"}),n.jsx(je,{children:"Referral"}),n.jsx(je,{children:"Actions"})]})}),n.jsx(tn,{children:r.map(g=>{var x,j,b;return n.jsxs(Pt,{children:[n.jsx(we,{className:"whitespace-nowrap",children:new Date(g.purchased_at).toLocaleDateString()}),n.jsx(we,{children:((x=g.user)==null?void 0:x.email)||"Unknown User"}),n.jsx(we,{children:((j=g.course)==null?void 0:j.title)||"Unknown Course"}),n.jsx(we,{children:h(((b=g.course)==null?void 0:b.price)||0)}),n.jsx(we,{children:g.has_used_referral_code?n.jsx(xe,{className:"bg-blue-50 text-blue-700 border-blue-200",children:g.used_referral_code||"Referral Used"}):n.jsx("span",{className:"text-gray-500",children:"-"})}),n.jsx(we,{children:n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>t({open:!0,data:g}),children:"Details"})})]},g.id)})})]})})]}),n.jsxs(Ce,{value:"payouts",className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-medium",children:"Payout History"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{placeholder:"Search...",className:"w-[200px]"}),n.jsxs(ws,{defaultValue:"all",children:[n.jsx(Jr,{className:"w-[140px]",children:n.jsx(js,{placeholder:"Filter"})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Statuses"}),n.jsx(Ie,{value:"success",children:"Successful"}),n.jsx(Ie,{value:"pending",children:"Pending"}),n.jsx(Ie,{value:"failed",children:"Failed"})]})]})]})]}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Wu,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"No payouts found"}),n.jsx("p",{className:"text-gray-500",children:"Requested payouts will appear here"})]}):n.jsx("div",{className:"border rounded-md overflow-auto",children:n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"Date"}),n.jsx(je,{children:"User"}),n.jsx(je,{children:"Amount"}),n.jsx(je,{children:"Status"}),n.jsx(je,{children:"Processed On"}),n.jsx(je,{children:"Actions"})]})}),n.jsx(tn,{children:a.map(g=>{var x;return n.jsxs(Pt,{children:[n.jsx(we,{className:"whitespace-nowrap",children:new Date(g.created_at).toLocaleDateString()}),n.jsx(we,{children:((x=g.user)==null?void 0:x.email)||"Unknown User"}),n.jsx(we,{children:h(g.amount)}),n.jsx(we,{children:d(g.status)}),n.jsx(we,{children:g.processed_at?new Date(g.processed_at).toLocaleDateString():"-"}),n.jsx(we,{children:n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>t({open:!0,data:g}),children:"Details"})})]},g.id)})})]})})]}),n.jsx(Ce,{value:"payout-requests",className:"space-y-4",children:n.jsx(Qz,{})})]}),n.jsx(os,{open:e.open,onOpenChange:()=>t({open:!1,data:null}),children:n.jsxs(Dr,{className:"max-w-md",children:[n.jsx(Lr,{children:n.jsx(Fr,{children:e.data&&"course_id"in e.data?"Purchase Details":"Payout Details"})}),e.data&&n.jsx("div",{className:"space-y-4 text-sm",children:"course_id"in e.data?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"font-medium",children:"ID:"}),n.jsx("div",{children:e.data.id}),n.jsx("div",{className:"font-medium",children:"Date:"}),n.jsx("div",{children:new Date(e.data.purchased_at).toLocaleString()}),n.jsx("div",{className:"font-medium",children:"User:"}),n.jsxs("div",{children:[((u=e.data.user)==null?void 0:u.name)||"Unknown"," ",n.jsx("br",{}),n.jsx("span",{className:"text-gray-500 text-xs",children:((f=e.data.user)==null?void 0:f.email)||"No email"})]}),n.jsx("div",{className:"font-medium",children:"Course:"}),n.jsx("div",{children:((p=e.data.course)==null?void 0:p.title)||"Unknown Course"}),n.jsx("div",{className:"font-medium",children:"Amount:"}),n.jsx("div",{children:h(((y=e.data.course)==null?void 0:y.price)||0)}),n.jsx("div",{className:"font-medium",children:"Referral Used:"}),n.jsx("div",{children:e.data.has_used_referral_code?e.data.used_referral_code||"Yes":"No"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"font-medium",children:"ID:"}),n.jsx("div",{children:e.data.id}),n.jsx("div",{className:"font-medium",children:"Date Requested:"}),n.jsx("div",{children:new Date(e.data.created_at).toLocaleString()}),n.jsx("div",{className:"font-medium",children:"User:"}),n.jsxs("div",{children:[((v=e.data.user)==null?void 0:v.name)||"Unknown"," ",n.jsx("br",{}),n.jsx("span",{className:"text-gray-500 text-xs",children:((w=e.data.user)==null?void 0:w.email)||"No email"})]}),n.jsx("div",{className:"font-medium",children:"Amount:"}),n.jsx("div",{children:h(e.data.amount)}),n.jsx("div",{className:"font-medium",children:"Status:"}),n.jsx("div",{children:d(e.data.status)}),e.data.processed_at&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium",children:"Processed On:"}),n.jsx("div",{children:new Date(e.data.processed_at).toLocaleString()})]}),e.data.razorpay_payout_id&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium",children:"Payment ID:"}),n.jsx("div",{className:"break-all",children:e.data.razorpay_payout_id})]}),e.data.failure_reason&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium",children:"Failure Reason:"}),n.jsx("div",{className:"text-red-600",children:e.data.failure_reason})]})]}),e.data.status==="pending"&&n.jsxs("div",{className:"pt-2",children:[n.jsx(kf,{className:"text-xs text-gray-500 mb-2",children:"Pending payouts can be confirmed through the Telegram bot using the payout ID."}),n.jsxs("div",{className:"bg-gray-100 p-2 rounded font-mono text-xs",children:["/confirm_payout ",e.data.id]})]})]})})]})})]})]})},Zz=()=>{const[e,t]=m.useState("30d"),[r,s]=m.useState(null),a=_r(),i=_=>{const C=new Date,N=_==="7d"?7:_==="30d"?30:_==="90d"?90:365;return new Date(C.getTime()-N*24*60*60*1e3).toISOString()},{data:o,isLoading:l}=et({queryKey:["financial-summary",e],queryFn:async()=>{try{const _=i(e),{data:C,error:N}=await M.from("purchases").select("amount").eq("payment_status","completed").gte("purchased_at",_);if(N)throw N;const A=(C==null?void 0:C.reduce((te,O)=>te+parseFloat(O.amount||0),0))||0,{data:k,error:T}=await M.from("payouts").select("amount, status").gte("created_at",_);if(T)throw T;const P=(k==null?void 0:k.filter(te=>te.status==="success").reduce((te,O)=>te+parseFloat(O.amount||0),0))||0,$=(k==null?void 0:k.filter(te=>te.status==="pending").reduce((te,O)=>te+parseFloat(O.amount||0),0))||0,D=A-P,q=C!=null&&C.length?A/C.length:0;return{totalRevenue:A,revenueGrowth:0,totalPayouts:P,payoutGrowth:0,pendingPayouts:$,refunds:0,netRevenue:D,averageOrderValue:q,recurringRevenue:A,churnRate:0}}catch(_){return console.error("Error fetching financial summary:",_),{totalRevenue:0,revenueGrowth:0,totalPayouts:0,payoutGrowth:0,pendingPayouts:0,refunds:0,netRevenue:0,averageOrderValue:0,recurringRevenue:0,churnRate:0}}}}),{data:c,isLoading:d}=et({queryKey:["payment-transactions",e],queryFn:async()=>{try{const _=[],{data:C,error:N}=await M.from("purchases").select(`
            id, user_id, amount, payment_status, course_id, purchased_at,
            users (email),
            courses (title)
          `).gte("purchased_at",i(e)).order("purchased_at",{ascending:!1}).limit(50);!N&&C&&C.forEach(T=>{var P,$;_.push({id:T.id,userId:T.user_id,amount:parseFloat(T.amount||0),type:"payment",status:T.payment_status==="completed"?"completed":"pending",paymentMethod:"Online",courseId:T.course_id,description:"Course Purchase",createdAt:T.purchased_at,userEmail:(P=T.users)==null?void 0:P.email,courseName:($=T.courses)==null?void 0:$.title})});const{data:A,error:k}=await M.from("payouts").select(`
            id, user_id, amount, status, created_at,
            users (email)
          `).gte("created_at",i(e)).order("created_at",{ascending:!1}).limit(25);return!k&&A&&A.forEach(T=>{var P;_.push({id:T.id,userId:T.user_id,amount:parseFloat(T.amount||0),type:"payout",status:T.status==="success"?"completed":"pending",paymentMethod:"Bank Transfer",description:"Payout",createdAt:T.created_at,userEmail:(P=T.users)==null?void 0:P.email})}),_.sort((T,P)=>new Date(P.createdAt).getTime()-new Date(T.createdAt).getTime())}catch(_){return console.error("Error fetching transactions:",_),[]}}}),{data:h,isLoading:u}=et({queryKey:["payout-requests"],queryFn:async()=>{try{const{data:_,error:C}=await M.from("payout_requests").select(`
            id, user_id, amount, status, created_at, processed_at, notes,
            payout_method_id,
            users (email),
            payout_methods (method_type, upi_id, account_holder_name)
          `).order("created_at",{ascending:!1});return C?(console.error("Error fetching payout requests:",C),[]):(_||[]).map(N=>{var A,k;return{id:N.id,userId:N.user_id,amount:parseFloat(N.amount||0),status:N.status,requestedAt:N.created_at,processedAt:N.processed_at,notes:N.notes,userEmail:((A=N.users)==null?void 0:A.email)||"N/A",payoutMethod:((k=N.payout_methods)==null?void 0:k.method_type)||"Unknown"}})}catch(_){return console.error("Error fetching payout requests:",_),[]}}}),{data:f,isLoading:p}=et({queryKey:["revenue-analytics",e],queryFn:async()=>{try{const _=i(e),{data:C,error:N}=await M.from("purchases").select("amount, purchased_at").eq("payment_status","completed").gte("purchased_at",_);if(N)throw N;const{data:A,error:k}=await M.from("payouts").select("amount, created_at").eq("status","success").gte("created_at",_);if(k)throw k;const T=(C==null?void 0:C.reduce((q,B)=>q+parseFloat(B.amount||0),0))||0,P=(A==null?void 0:A.reduce((q,B)=>q+parseFloat(B.amount||0),0))||0,$=((C==null?void 0:C.length)||0)+((A==null?void 0:A.length)||0);return[{period:"Total",revenue:T,payouts:P,refunds:0,net:T-P,transactions:$}]}catch(_){return console.error("Error fetching revenue analytics:",_),z.error("Failed to load revenue analytics. Please try again."),[]}}}),y=[],v=Tt({mutationFn:async({id:_,status:C,notes:N})=>{const{data:A,error:k}=await M.from("payout_requests").update({status:C,notes:N,processed_at:new Date().toISOString()}).eq("id",_).select().single();if(k)throw console.error("Error updating payout request:",k),new Error("Failed to update payout request");return A},onSuccess:()=>{a.invalidateQueries({queryKey:["payout-requests"]}),z.success("Payout request updated successfully"),s(null)},onError:()=>{z.error("Failed to update payout request")}}),w=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(_),g=_=>`${_.toFixed(1)}%`,x=_=>_>0?"text-green-600":_<0?"text-red-600":"text-gray-600",j=_=>_>=0?n.jsx(sv,{className:"h-4 w-4"}):n.jsx(F1,{className:"h-4 w-4"}),b=_=>{switch(_){case"completed":case"approved":case"processed":return n.jsx(xe,{className:"bg-green-100 text-green-800",children:"Success"});case"pending":return n.jsx(xe,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"failed":case"rejected":return n.jsx(xe,{className:"bg-red-100 text-red-800",children:"Failed"});default:return n.jsx(xe,{className:"bg-gray-100 text-gray-800",children:_})}},S=async()=>{try{const _={summary:o,transactions:c,payoutRequests:h,analytics:f,forecast:y,generatedAt:new Date().toISOString(),period:e},C=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),N=window.URL.createObjectURL(C),A=document.createElement("a");A.href=N,A.download=`financial-report-${e}-${new Date().toISOString().split("T")[0]}.json`,A.click(),window.URL.revokeObjectURL(N),z.success("Financial data exported successfully")}catch{z.error("Failed to export financial data")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Financial Management Dashboard"}),n.jsx("p",{className:"text-gray-500",children:"Revenue analytics, payments, and financial forecasting"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ws,{value:e,onValueChange:t,children:[n.jsx(Jr,{className:"w-32","data-testid":"select-period",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"7d",children:"Last 7 days"}),n.jsx(Ie,{value:"30d",children:"Last 30 days"}),n.jsx(Ie,{value:"90d",children:"Last 90 days"}),n.jsx(Ie,{value:"1y",children:"Last year"})]})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:S,"data-testid":"button-export-financial",children:[n.jsx(Jh,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:l?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):w((o==null?void 0:o.totalRevenue)||0)}),(o==null?void 0:o.revenueGrowth)!==void 0&&n.jsxs("div",{className:`flex items-center mt-1 text-sm ${x(o.revenueGrowth)}`,children:[j(o.revenueGrowth),n.jsx("span",{className:"ml-1",children:g(o.revenueGrowth)})]})]}),n.jsx("div",{className:"p-3 bg-green-50 rounded-full",children:n.jsx(C1,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Payouts"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:l?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):w((o==null?void 0:o.totalPayouts)||0)}),(o==null?void 0:o.payoutGrowth)!==void 0&&n.jsxs("div",{className:`flex items-center mt-1 text-sm ${x(o.payoutGrowth)}`,children:[j(o.payoutGrowth),n.jsx("span",{className:"ml-1",children:g(o.payoutGrowth)})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 rounded-full",children:n.jsx(N1,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Net Revenue"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:l?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):w((o==null?void 0:o.netRevenue)||0)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-500",children:[n.jsx(Nc,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:"After payouts & refunds"})]})]}),n.jsx("div",{className:"p-3 bg-purple-50 rounded-full",children:n.jsx(uo,{className:"h-5 w-5 text-purple-500"})})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Payouts"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:l?n.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded animate-pulse"}):w((o==null?void 0:o.pendingPayouts)||0)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-orange-600",children:[n.jsx(Ys,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:"Awaiting processing"})]})]}),n.jsx("div",{className:"p-3 bg-orange-50 rounded-full",children:n.jsx(Ys,{className:"h-5 w-5 text-orange-500"})})]})})})]}),n.jsxs(on,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Ps,{className:"grid grid-cols-2 md:grid-cols-5 mb-6",children:[n.jsxs(Ne,{value:"overview",className:"flex items-center gap-2",children:[n.jsx(Yh,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),n.jsxs(Ne,{value:"transactions",className:"flex items-center gap-2",children:[n.jsx(Wu,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),n.jsxs(Ne,{value:"payouts",className:"flex items-center gap-2",children:[n.jsx(B0,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Payouts"})]}),n.jsxs(Ne,{value:"analytics",className:"flex items-center gap-2",children:[n.jsx(KA,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),n.jsxs(Ne,{value:"forecast",className:"flex items-center gap-2",children:[n.jsx(Jl,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Forecast"})]})]}),n.jsx(Ce,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Q,{className:"lg:col-span-2",children:[n.jsx(he,{children:n.jsx(fe,{children:"Revenue Analytics"})}),n.jsx(Y,{children:p?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading analytics..."})]})}):n.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map((_,C)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Period"}),n.jsx("div",{className:"font-medium",children:_.period})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Revenue"}),n.jsx("div",{className:"font-medium text-green-600",children:w(_.revenue)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Payouts"}),n.jsx("div",{className:"font-medium text-blue-600",children:w(_.payouts)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Net"}),n.jsx("div",{className:"font-medium",children:w(_.net)})]})]},C))})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Key Metrics"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Avg Order Value"}),n.jsx("span",{className:"font-medium",children:w((o==null?void 0:o.averageOrderValue)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Recurring Revenue"}),n.jsx("span",{className:"font-medium",children:w((o==null?void 0:o.recurringRevenue)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Churn Rate"}),n.jsx("span",{className:"font-medium",children:g((o==null?void 0:o.churnRate)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Refunds"}),n.jsx("span",{className:"font-medium text-red-600",children:w((o==null?void 0:o.refunds)||0)})]})]})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Quick Actions"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs(V,{className:"w-full",variant:"outline","data-testid":"button-process-payouts",children:[n.jsx(B0,{className:"h-4 w-4 mr-2"}),"Process Pending Payouts"]}),n.jsxs(V,{className:"w-full",variant:"outline","data-testid":"button-generate-report",children:[n.jsx(Zx,{className:"h-4 w-4 mr-2"}),"Generate Financial Report"]}),n.jsxs(V,{className:"w-full",variant:"outline","data-testid":"button-reconcile-accounts",children:[n.jsx(o4,{className:"h-4 w-4 mr-2"}),"Reconcile Accounts"]})]})]})]})]})}),n.jsx(Ce,{value:"transactions",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Payment Transactions"})}),n.jsx(Y,{children:d?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-6 h-6 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin"})}):n.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map(_=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:_.userEmail}),b(_.status),n.jsx(xe,{variant:"outline",className:"capitalize",children:_.type})]}),n.jsx("p",{className:"text-sm text-gray-500",children:_.description}),_.courseName&&n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Course: ",_.courseName]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400 mt-2",children:[n.jsx("span",{children:new Date(_.createdAt).toLocaleString()}),n.jsx("span",{children:_.paymentMethod})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:`text-lg font-bold ${_.type==="payment"?"text-green-600":_.type==="payout"?"text-blue-600":"text-red-600"}`,children:[_.type==="payment"?"+":"-",w(_.amount)]})})]})},_.id))})})]})}),n.jsx(Ce,{value:"payouts",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Payout Requests Management"})}),n.jsx(Y,{children:u?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"w-6 h-6 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin"})}):n.jsx("div",{className:"space-y-4",children:h==null?void 0:h.map(_=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium",children:_.userEmail}),b(_.status)]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Method: ",_.payoutMethod]}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Requested: ",new Date(_.requestedAt).toLocaleString()]}),_.notes&&n.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded mt-2",children:["Note: ",_.notes]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:w(_.amount)}),_.status==="pending"&&n.jsxs("div",{className:"flex gap-1 mt-2",children:[n.jsxs(V,{size:"sm",onClick:()=>v.mutate({id:_.id,status:"approved"}),"data-testid":`button-approve-${_.id}`,children:[n.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Approve"]}),n.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>v.mutate({id:_.id,status:"rejected",notes:"Rejected by admin"}),"data-testid":`button-reject-${_.id}`,children:[n.jsx(nv,{className:"h-3 w-3 mr-1"}),"Reject"]})]})]})]})},_.id))})})]})}),n.jsx(Ce,{value:"analytics",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Revenue Distribution"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Direct Sales"}),n.jsx("span",{className:"font-medium",children:w(((o==null?void 0:o.totalRevenue)||0)*.7)})]}),n.jsx(xs,{value:70,className:"h-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Referral Commissions"}),n.jsx("span",{className:"font-medium",children:w(((o==null?void 0:o.totalRevenue)||0)*.3)})]}),n.jsx(xs,{value:30,className:"h-2"})]})})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Payment Methods"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"UPI"}),n.jsx("span",{className:"font-medium",children:"45%"})]}),n.jsx(xs,{value:45,className:"h-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Credit/Debit Cards"}),n.jsx("span",{className:"font-medium",children:"35%"})]}),n.jsx(xs,{value:35,className:"h-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Net Banking"}),n.jsx("span",{className:"font-medium",children:"20%"})]}),n.jsx(xs,{value:20,className:"h-2"})]})})]})]})}),n.jsx(Ce,{value:"forecast",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Financial Forecasting"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(yr,{children:[n.jsx(Jl,{className:"h-4 w-4"}),n.jsx(wr,{children:"Financial projections are based on current trends and historical data. Actual results may vary based on market conditions and business changes."})]}),n.jsx("div",{className:"grid gap-4",children:y==null?void 0:y.map((_,C)=>n.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Period"}),n.jsx("div",{className:"font-medium",children:_.period})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Projected Revenue"}),n.jsx("div",{className:"font-medium text-green-600",children:w(_.projectedRevenue)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Projected Payouts"}),n.jsx("div",{className:"font-medium text-blue-600",children:w(_.projectedPayouts)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Net Projection"}),n.jsx("div",{className:"font-medium",children:w(_.netProjection)}),n.jsxs("div",{className:"text-xs text-gray-500",children:[g(_.confidence)," confidence"]})]})]},C))})]})})]})})]})]})},Jz=({users:e,onMakeAdmin:t,onRemoveAdmin:r,onGrantCourseAccess:s})=>e.length===0?n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No users found"}):n.jsx("div",{className:"rounded-md border overflow-hidden",children:n.jsxs(Xs,{children:[n.jsx(en,{children:n.jsxs(Pt,{children:[n.jsx(je,{children:"User"}),n.jsx(je,{children:"Role"}),n.jsx(je,{children:"Joined"}),n.jsx(je,{children:"Last Active"}),n.jsx(je,{children:"Courses"}),n.jsx(je,{children:"Referrals"}),n.jsx(je,{className:"text-right",children:"Actions"})]})}),n.jsx(tn,{children:e.map(a=>n.jsxs(Pt,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:a.name||"Unnamed User"}),n.jsx("span",{className:"text-xs text-gray-500",children:a.email})]})}),n.jsx(we,{children:a.is_admin?n.jsx(xe,{className:"bg-purple-100 text-purple-800 border-purple-200",children:"Admin"}):n.jsx(xe,{variant:"outline",className:"bg-gray-100",children:"User"})}),n.jsx(we,{className:"text-gray-500 text-sm",children:a.joined_at&&bn(new Date(a.joined_at),{addSuffix:!0})}),n.jsx(we,{className:"text-gray-500 text-sm",children:a.last_login?bn(new Date(a.last_login),{addSuffix:!0}):"Never"}),n.jsx(we,{children:a.courses_purchased||0}),n.jsx(we,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:a.successful_referrals||0}),a.total_earned?n.jsxs("span",{className:"text-xs text-green-600",children:["",a.total_earned," earned"]}):null]})}),n.jsx(we,{className:"text-right",children:n.jsxs(Mc,{children:[n.jsx(Ic,{asChild:!0,children:n.jsx(V,{variant:"ghost",size:"sm",children:n.jsx(e4,{className:"h-4 w-4"})})}),n.jsxs(Bo,{align:"end",children:[n.jsx(_f,{children:"Actions"}),a.is_admin?n.jsxs(Zr,{onClick:()=>r(a),className:"text-red-600",children:[n.jsx(nd,{className:"mr-2 h-4 w-4"}),"Remove Admin"]}):n.jsxs(Zr,{onClick:()=>t(a),children:[n.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Make Admin"]}),n.jsx(qo,{}),n.jsxs(Zr,{onClick:()=>s(a.id),children:[n.jsx(zi,{className:"mr-2 h-4 w-4"}),"Grant Course Access"]})]})]})})]},a.id))})]})}),Xz=({open:e,action:t,user:r,processing:s,onConfirm:a,onCancel:i})=>n.jsx(os,{open:e,onOpenChange:o=>!o&&i(),children:n.jsxs(Dr,{children:[n.jsxs(Lr,{children:[n.jsx(Fr,{children:t==="makeAdmin"?"Grant Admin Privileges":"Remove Admin Privileges"}),n.jsx(kf,{children:t==="makeAdmin"?`Are you sure you want to grant admin privileges to ${(r==null?void 0:r.name)||(r==null?void 0:r.email)}? This will give them access to all administrative functions.`:`Are you sure you want to remove admin privileges from ${(r==null?void 0:r.name)||(r==null?void 0:r.email)}? They will no longer have access to administrative functions.`})]}),n.jsxs(md,{children:[n.jsx(V,{variant:"outline",onClick:i,disabled:s,children:"Cancel"}),n.jsx(V,{variant:t==="makeAdmin"?"default":"destructive",onClick:a,disabled:s,children:s?n.jsx(Je,{className:"h-4 w-4 animate-spin"}):t==="makeAdmin"?n.jsxs(n.Fragment,{children:[n.jsx(Qs,{className:"mr-2 h-4 w-4"}),"Confirm"]}):n.jsxs(n.Fragment,{children:[n.jsx(nv,{className:"mr-2 h-4 w-4"}),"Remove Admin"]})})]})]})}),e9=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState(null),[c,d]=m.useState({open:!1,action:null,processing:!1}),[h,u]=m.useState({role:"all",activityLevel:"all",joinDateRange:null,purchaseRange:"all",suspensionStatus:"all"}),[f,p]=m.useState({action:null,selectedUsers:[],processing:!1}),[y,v]=m.useState(!1);m.useState("overview");const w=async()=>{try{s(!0);const{data:k,error:T}=await M.rpc("is_admin");if(T||!k){console.error("Not authorized to fetch users:",T),z.error("You are not authorized to view users");return}const{data:P,error:$}=await M.from("users").select("id, email, name, joined_at, is_admin, is_suspended").order("joined_at",{ascending:!1});if($){console.error("Error fetching users:",$),z.error("Failed to load users");return}if(!P||P.length===0){t([]),s(!1);return}const D=P.map(ce=>ce.id),[q,B,te]=await Promise.allSettled([M.from("user_activity_logs").select("user_id, created_at, activity_type").in("user_id",D).order("created_at",{ascending:!1}),M.from("purchases").select("user_id").in("user_id",D),M.from("referrals").select("user_id, commission_amount").in("user_id",D).eq("status","completed")]),O=q.status==="fulfilled"?q.value.data||[]:[],L=B.status==="fulfilled"?B.value.data||[]:[],Z=te.status==="fulfilled"?te.value.data||[]:[],K=new Map,oe=new Map,ye=new Map,ke=new Map;O.forEach(ce=>{ce.activity_type==="login"&&!K.has(ce.user_id)&&K.set(ce.user_id,ce.created_at);const ae=ke.get(ce.user_id)||0;ke.set(ce.user_id,ae+1)}),L.forEach(ce=>{oe.set(ce.user_id,(oe.get(ce.user_id)||0)+1)}),Z.forEach(ce=>{const ae=ye.get(ce.user_id)||{count:0,earned:0};ye.set(ce.user_id,{count:ae.count+1,earned:ae.earned+(ce.commission_amount||0)})});const at=P.map(ce=>{var Le,St;const ae=ke.get(ce.id)||0,Ee=oe.get(ce.id)||0,De=((Le=ye.get(ce.id))==null?void 0:Le.count)||0;let Re="low";const ze=ae+Ee*5+De*3;return ze>=20?Re="high":ze>=8&&(Re="medium"),{...ce,last_login:K.get(ce.id),courses_purchased:Ee,successful_referrals:De,total_earned:((St=ye.get(ce.id))==null?void 0:St.earned)||0,activity_score:ae,engagement_level:Re}});t(at)}catch(k){console.error("Error in loadUsers:",k),z.error("Failed to load user data")}finally{s(!1)}};m.useEffect(()=>{w()},[]);const x=(k=>{let T=k;if(a&&(T=T.filter(P=>{var $,D;return(($=P.name)==null?void 0:$.toLowerCase().includes(a.toLowerCase()))||((D=P.email)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))})),h.role!=="all"&&(T=T.filter(P=>h.role==="admin"?P.is_admin:!P.is_admin)),h.activityLevel!=="all"&&(T=T.filter(P=>P.engagement_level===h.activityLevel)),h.purchaseRange!=="all"){const P={none:[0,0],low:[1,2],medium:[3,5],high:[6,999]},[$,D]=P[h.purchaseRange]||[0,999];T=T.filter(q=>{const B=q.courses_purchased||0;return B>=$&&B<=D})}return h.suspensionStatus!=="all"&&(T=T.filter(P=>h.suspensionStatus==="suspended"?P.is_suspended:!P.is_suspended)),T})(e),j=async k=>{if(o){d({...c,processing:!0});try{const{data:T,error:P}=await M.rpc("grant_admin_privileges",{admin_email:o.email});if(P){console.error("Error granting admin privileges:",P),z.error("Failed to grant admin privileges");return}z.success(`Admin privileges granted to ${o.email}`),w()}catch(T){console.error("Exception in handleMakeAdmin:",T),z.error("An unexpected error occurred")}finally{d({open:!1,action:null,processing:!1}),l(null)}}},b=async k=>{if(o){d({...c,processing:!0});try{const{data:T,error:P}=await M.rpc("revoke_admin_privileges",{admin_email:o.email});if(P){console.error("Error revoking admin privileges:",P),z.error("Failed to revoke admin privileges");return}z.success(`Admin privileges revoked from ${o.email}`),w()}catch(T){console.error("Exception in handleRemoveAdmin:",T),z.error("An unexpected error occurred")}finally{d({open:!1,action:null,processing:!1}),l(null)}}},S=async k=>{try{const{data:T,error:P}=await M.from("users").select("email").eq("id",k).single();if(P||!T){console.error("Error getting user email:",P),z.error("Failed to find user email");return}const{data:$,error:D}=await M.rpc("grant_one_time_access_to_user",{user_email:T.email});if(D){console.error("Error granting course access:",D),z.error(`Failed to grant course access: ${D.message}`);return}z.success(`Course access granted to ${T.email}`),w()}catch(T){console.error("Exception in handleGrantCourseAccess:",T),z.error("An unexpected error occurred")}},_=async(k,T)=>{p({...f,processing:!0});try{switch(k){case"suspend":await Promise.all(T.map(D=>M.from("users").update({is_suspended:!0}).eq("id",D))),z.success(`Suspended ${T.length} users`);break;case"activate":await Promise.all(T.map(D=>M.from("users").update({is_suspended:!1}).eq("id",D))),z.success(`Activated ${T.length} users`);break;case"notify":z.success(`Notification sent to ${T.length} users`);break;case"export":const P=e.filter(D=>T.includes(D.id)),$=C(P);N($,"user-export.csv"),z.success("User data exported");break}w()}catch(P){console.error("Bulk action error:",P),z.error("Failed to perform bulk action")}finally{p({action:null,selectedUsers:[],processing:!1})}},C=k=>{const T=["Name","Email","Role","Joined Date","Courses Purchased","Referrals","Total Earned"],P=k.map($=>[$.name||"",$.email,$.is_admin?"Admin":"User",$.joined_at,$.courses_purchased||0,$.successful_referrals||0,$.total_earned||0]);return[T,...P].map($=>$.join(",")).join(`
`)},N=(k,T)=>{const P=new Blob([k],{type:"text/csv"}),$=window.URL.createObjectURL(P),D=document.createElement("a");D.href=$,D.download=T,D.click(),window.URL.revokeObjectURL($)},A=k=>{p(T=>({...T,selectedUsers:k?x.map(P=>P.id):[]}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Q,{className:"w-full",children:[n.jsx(he,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"User Management"}),n.jsx(xi,{children:"Comprehensive user management with advanced filtering and bulk operations"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>v(!y),"data-testid":"button-toggle-filters",children:[n.jsx(s4,{className:"h-4 w-4 mr-2"}),y?"Hide":"Show"," Filters"]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:w,disabled:r,"data-testid":"button-refresh-users",children:[n.jsx(rd,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]})]})}),n.jsxs(Y,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Be,{placeholder:"Search by name, email...",value:a,onChange:k=>i(k.target.value),className:"pl-9","data-testid":"input-search-users"}),n.jsx(O1,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),n.jsxs(ws,{value:h.role,onValueChange:k=>u({...h,role:k}),children:[n.jsx(Jr,{className:"w-32","data-testid":"select-role-filter",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Roles"}),n.jsx(Ie,{value:"admin",children:"Admins"}),n.jsx(Ie,{value:"user",children:"Users"})]})]})]}),y&&n.jsx(Q,{className:"mb-6 p-4 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Activity Level"}),n.jsxs(ws,{value:h.activityLevel,onValueChange:k=>u({...h,activityLevel:k}),children:[n.jsx(Jr,{"data-testid":"select-activity-filter",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Levels"}),n.jsx(Ie,{value:"high",children:"High"}),n.jsx(Ie,{value:"medium",children:"Medium"}),n.jsx(Ie,{value:"low",children:"Low"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Purchase Range"}),n.jsxs(ws,{value:h.purchaseRange,onValueChange:k=>u({...h,purchaseRange:k}),children:[n.jsx(Jr,{"data-testid":"select-purchase-filter",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Ranges"}),n.jsx(Ie,{value:"none",children:"No Purchases"}),n.jsx(Ie,{value:"low",children:"1-2 Courses"}),n.jsx(Ie,{value:"medium",children:"3-5 Courses"}),n.jsx(Ie,{value:"high",children:"6+ Courses"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),n.jsxs(ws,{value:h.suspensionStatus,onValueChange:k=>u({...h,suspensionStatus:k}),children:[n.jsx(Jr,{"data-testid":"select-status-filter",children:n.jsx(js,{})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"all",children:"All Users"}),n.jsx(Ie,{value:"active",children:"Active"}),n.jsx(Ie,{value:"suspended",children:"Suspended"})]})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(V,{variant:"outline",onClick:()=>u({role:"all",activityLevel:"all",joinDateRange:null,purchaseRange:"all",suspensionStatus:"all"}),className:"w-full","data-testid":"button-clear-filters",children:"Clear Filters"})})]})}),f.selectedUsers.length>0&&n.jsx(Q,{className:"mb-6 p-4 bg-blue-50 border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm font-medium",children:[f.selectedUsers.length," users selected"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(V,{size:"sm",variant:"outline",onClick:()=>_("suspend",f.selectedUsers),disabled:f.processing,"data-testid":"button-bulk-suspend",children:"Suspend"}),n.jsx(V,{size:"sm",variant:"outline",onClick:()=>_("activate",f.selectedUsers),disabled:f.processing,"data-testid":"button-bulk-activate",children:"Activate"}),n.jsxs(V,{size:"sm",variant:"outline",onClick:()=>_("notify",f.selectedUsers),disabled:f.processing,"data-testid":"button-bulk-notify",children:[n.jsx(T1,{className:"h-4 w-4 mr-1"}),"Notify"]}),n.jsxs(V,{size:"sm",variant:"outline",onClick:()=>_("export",f.selectedUsers),disabled:f.processing,"data-testid":"button-bulk-export",children:[n.jsx(Jh,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),n.jsx(V,{size:"sm",variant:"ghost",onClick:()=>p({action:null,selectedUsers:[],processing:!1}),"data-testid":"button-clear-selection",children:"Clear Selection"})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Q,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Users"})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(k=>k.engagement_level==="high").length}),n.jsx("div",{className:"text-sm text-gray-500",children:"High Engagement"})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.filter(k=>k.is_admin).length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Admins"})]})})}),n.jsx(Q,{children:n.jsx(Y,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(k=>k.is_suspended).length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Suspended"})]})})})]}),n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",x.length," of ",e.length," users"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rc,{checked:f.selectedUsers.length===x.length&&x.length>0,onCheckedChange:A,"data-testid":"checkbox-select-all"}),n.jsx("span",{className:"text-sm",children:"Select all visible"})]})]}),r?n.jsx("div",{className:"flex justify-center items-center p-12",children:n.jsx(Je,{className:"h-8 w-8 animate-spin text-gray-400"})}):x.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Pn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"No users found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):n.jsx(Jz,{users:x,onMakeAdmin:k=>{l(k),d({open:!0,action:"makeAdmin",processing:!1})},onRemoveAdmin:k=>{l(k),d({open:!0,action:"removeAdmin",processing:!1})},onGrantCourseAccess:S})]})]}),n.jsx(Xz,{open:c.open,action:c.action,user:o,processing:c.processing,onConfirm:()=>c.action==="makeAdmin"?j(o.id):b(o.id),onCancel:()=>d({open:!1,action:null,processing:!1})})]})},t9=async(e,t,r="info",s,a)=>{try{const{data:i,error:o}=await M.auth.getUser();if(o||!i.user)return{success:!1,error:"Authentication error: "+((o==null?void 0:o.message)||"Not authenticated")};const{data:l,error:c}=await M.from("users").select("id").eq("is_suspended",!1);if(c)return{success:!1,error:"Failed to retrieve users: "+c.message};if(!l||l.length===0)return{success:!1,error:"No active users found"};const d=l.map(u=>({user_id:u.id,title:e,message:t,type:r,is_read:!1})),{error:h}=await M.from("notifications").insert(d);return h?{success:!1,error:"Failed to create notifications: "+h.message}:{success:!0,count:l.length}}catch(i){return console.error("Exception creating notifications for all users:",i),{success:!1,error:"An unexpected error occurred: "+i.message}}},r9=()=>{Xe();const[e,t]=m.useState(""),[r,s]=m.useState(""),[a,i]=m.useState("info"),[o,l]=m.useState(""),[c,d]=m.useState(""),[h,u]=m.useState(!1),[f,p]=m.useState(!1),y=async v=>{if(v.preventDefault(),!e.trim()||!r.trim()){z.error("Please provide both title and message");return}p(!0);try{const w=await t9(e,r,a,h?o:void 0,h?c:void 0);w.success?(z.success(`Notification sent to ${w.count} users`),t(""),s(""),i("info"),l(""),d(""),u(!1)):z.error(w.error||"Failed to send notification")}catch(w){console.error("Error sending notification:",w),z.error("An unexpected error occurred")}finally{p(!1)}};return n.jsxs(Q,{children:[n.jsxs(he,{children:[n.jsx(fe,{children:"Send Notification"}),n.jsx(xi,{children:"Create and send a notification to all users"})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),n.jsx(Be,{id:"title",placeholder:"Notification title",value:e,onChange:v=>t(v.target.value),disabled:f,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"message",className:"text-sm font-medium",children:"Message"}),n.jsx(Js,{id:"message",placeholder:"Notification message",value:r,onChange:v=>s(v.target.value),className:"min-h-[100px]",disabled:f,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"type",className:"text-sm font-medium",children:"Type"}),n.jsxs(ws,{value:a,onValueChange:v=>i(v),disabled:f,children:[n.jsx(Jr,{id:"type",children:n.jsx(js,{placeholder:"Select type"})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"info",children:"Information"}),n.jsx(Ie,{value:"success",children:"Success"}),n.jsx(Ie,{value:"warning",children:"Warning"}),n.jsx(Ie,{value:"error",children:"Error"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{id:"includeAction",type:"checkbox",checked:h,onChange:()=>u(!h),className:"rounded border-gray-300",disabled:f}),n.jsx("label",{htmlFor:"includeAction",className:"text-sm font-medium",children:"Include action button"})]}),h&&n.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-100",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"actionUrl",className:"text-sm font-medium",children:"Action URL"}),n.jsx(Be,{id:"actionUrl",placeholder:"https://example.com",value:o,onChange:v=>l(v.target.value),disabled:f,required:h})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"actionText",className:"text-sm font-medium",children:"Button Text"}),n.jsx(Be,{id:"actionText",placeholder:"View Details",value:c,onChange:v=>d(v.target.value),disabled:f,required:h})]})]})]}),n.jsx(Yv,{children:n.jsx(V,{type:"submit",className:"w-full bg-[#00C853] hover:bg-[#00A846]",disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Notification"})})]})]})},s9=()=>{const[e,t]=m.useState(""),[r,s]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(null),h=async u=>{if(u.preventDefault(),!e.trim()||!r.trim()||!a.trim()){z.error("Please fill in all fields");return}if(isNaN(Number(r))||Number(r)<=0){z.error("Amount must be a positive number");return}l(!0),d(null);try{const{data:f,error:p}=await M.functions.invoke("telegram-payout-notification",{body:{user_id:e,user_email:`user_${e}@example.com`,amount:Number(r),payout_method:`UPI: ${a}`,request_id:`req_${Date.now()}`}});if(p){console.error("Error sending payout notification:",p),d({success:!1,message:`Error: ${p.message}`}),z.error("Failed to send payout notification");return}console.log("Payout notification result:",f),d({success:!0,message:"Payout notification sent successfully to Telegram"}),z.success("Payout notification sent successfully"),t(""),s(""),i("")}catch(f){console.error("Exception sending payout notification:",f),d({success:!1,message:`An unexpected error occurred: ${f instanceof Error?f.message:"Unknown error"}`}),z.error("An unexpected error occurred")}finally{l(!1)}};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{children:n.jsxs(Q,{className:"h-full",children:[n.jsxs(he,{children:[n.jsx(fe,{children:"Telegram Payout Notifications"}),n.jsx(xi,{children:"Send payout notifications to admin via Telegram"})]}),n.jsxs("form",{onSubmit:h,children:[n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"userId",className:"text-sm font-medium",children:"User ID"}),n.jsx(Be,{id:"userId",value:e,onChange:u=>t(u.target.value),placeholder:"Enter user ID",disabled:o,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"amount",className:"text-sm font-medium",children:"Payout Amount ()"}),n.jsx(Be,{id:"amount",type:"number",value:r,onChange:u=>s(u.target.value),placeholder:"500",disabled:o,required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"upiId",className:"text-sm font-medium",children:"UPI ID"}),n.jsx(Be,{id:"upiId",value:a,onChange:u=>i(u.target.value),placeholder:"user@ybl",disabled:o,required:!0})]}),c&&n.jsxs(yr,{variant:c.success?"default":"destructive",children:[c.success?n.jsx(Qs,{className:"h-4 w-4"}):n.jsx($o,{className:"h-4 w-4"}),n.jsx(oh,{children:c.success?"Success":"Error"}),n.jsx(wr,{children:c.message})]})]}),n.jsx(Yv,{children:n.jsx(V,{type:"submit",className:"w-full bg-[#00C853] hover:bg-[#00A846]",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Je,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Payout Notification"})})]})]})}),n.jsx("div",{children:n.jsxs(Q,{className:"h-full",children:[n.jsxs(he,{children:[n.jsx(fe,{children:"Setup Checklist"}),n.jsx(xi,{children:"Required configuration for Telegram notifications"})]}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-medium",children:"Required Supabase Secrets:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:n.jsx("span",{className:"font-mono",children:"TELEGRAM_BOT_TOKEN"})}),n.jsx("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:n.jsx("span",{className:"font-mono",children:"TELEGRAM_ADMIN_CHAT_ID"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-medium",children:"How to get these values:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[n.jsx("li",{children:"Create a Telegram bot via @BotFather"}),n.jsx("li",{children:"Get your Bot Token from BotFather"}),n.jsx("li",{children:"Get your Chat ID by messaging @userinfobot"}),n.jsx("li",{children:"Add these as secrets in Supabase Dashboard"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-medium",children:"Workflow:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-1",children:[n.jsx("li",{children:"User requests payout"}),n.jsx("li",{children:"System sends notification to admin via Telegram"}),n.jsx("li",{children:"Admin processes payout manually"}),n.jsx("li",{children:"Admin updates status in database"})]})]})]})]})})]})},n9=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs(on,{defaultValue:"notifications",className:"w-full",children:[n.jsxs(Ps,{children:[n.jsxs(Ne,{value:"notifications",className:"flex items-center gap-2",children:[n.jsx(ui,{className:"h-4 w-4"}),n.jsx("span",{children:"Notifications"})]}),n.jsxs(Ne,{value:"telegram",className:"flex items-center gap-2",children:[n.jsx(Xx,{className:"h-4 w-4"}),n.jsx("span",{children:"Telegram Bot"})]})]}),n.jsx(Ce,{value:"notifications",className:"mt-6",children:n.jsx(r9,{})}),n.jsx(Ce,{value:"telegram",className:"mt-6",children:n.jsx(s9,{})})]})}),yj={user:1,moderator:2,admin:3},V2=(e,t)=>yj[e]>=yj[t],B2=async()=>{try{const{data:{user:e}}=await M.auth.getUser();if(!e)return null;const{data:t,error:r}=await M.from("users").select("id, email, role").eq("id",e.id).single();return r||!t?(console.error("Error fetching user role:",r),null):{id:t.id,email:t.email,role:t.role}}catch(e){return console.error("Error getting current user with role:",e),null}},a9=e=>{const[t,r]=F.useState(null),[s,a]=F.useState(!0),[i,o]=F.useState(!1);return F.useEffect(()=>{(async()=>{a(!0);const c=await B2();c?(r(c.role),o(V2(c.role,e))):(r(null),o(!1)),a(!1)})()},[e]),{userRole:t,hasAccess:i,isLoading:s}},wj=async()=>{const e=await B2();if(!e||!V2(e.role,"admin"))throw new Error("Admin access required");return e},i9=({requiredRole:e,children:t,fallback:r,showFallback:s=!0})=>{const{hasAccess:a,isLoading:i,userRole:o}=a9(e);return i?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?n.jsx(n.Fragment,{children:t}):r?n.jsx(n.Fragment,{children:r}):s?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:[n.jsx(d4,{className:"h-16 w-16 text-muted-foreground mb-4"}),n.jsx(yr,{className:"max-w-md",children:n.jsx(wr,{className:"text-center",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"font-medium",children:"Access Restricted"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["This content requires ",e," access level.",o&&n.jsxs("span",{className:"block mt-1",children:["Your current role: ",n.jsx("span",{className:"font-medium capitalize",children:o})]})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>window.history.back(),className:"mt-4",children:[n.jsx(bc,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})})]}):null},o9=Ri({display_earnings:Zt().min(1,"Earnings amount is required"),display_referrals:Zt().min(1,"Referrals count is required"),display_title:Zt().optional(),is_featured:zc().default(!1),show_on_landing:zc().default(!1)}),l9=()=>{sn();const[e,t]=m.useState(!1),[r,s]=m.useState(""),[a,i]=m.useState(null),o=_r(),l=ol({resolver:ll(o9),defaultValues:{display_earnings:"0",display_referrals:"0",display_title:"",is_featured:!1,show_on_landing:!1}}),{data:c=[],isLoading:d}=et({queryKey:["marketing-display-data"],queryFn:async()=>{const{data:g,error:x}=await M.from("marketing_display_data").select("*").order("created_at",{ascending:!1});if(x)throw x;if(g&&g.length>0){const j=[...new Set(g.map(S=>S.user_id))],{data:b}=await M.from("users").select("id, name, email").in("id",j);return g.map(S=>({...S,users:b==null?void 0:b.find(_=>_.id===S.user_id)}))}return g}}),{data:h=[]}=et({queryKey:["users"],queryFn:async()=>{const{data:g,error:x}=await M.from("users").select("id, name, email").order("name");if(x)throw x;return g||[]}}),u=Tt({mutationFn:async g=>{const x=await wj(),j={user_id:g.user_id,display_earnings:parseFloat(g.display_earnings),display_referrals:parseInt(g.display_referrals),display_title:g.display_title||null,is_featured:g.is_featured,show_on_landing:g.show_on_landing,updated_by_admin:x.id};if(a){const{error:b}=await M.from("marketing_display_data").update(j).eq("id",a.id);if(b)throw b}else{const{error:b}=await M.from("marketing_display_data").insert(j);if(b)throw b}},onSuccess:()=>{o.invalidateQueries({queryKey:["marketing-display-data"]}),t(!1),i(null),l.reset(),z.success(a?"Marketing display data updated!":"Marketing display data created!")},onError:g=>{console.error("Error saving marketing display data:",g),z.error("Failed to save marketing display data")}}),f=Tt({mutationFn:async g=>{await wj();const{error:x}=await M.from("marketing_display_data").delete().eq("id",g);if(x)throw x},onSuccess:()=>{o.invalidateQueries({queryKey:["marketing-display-data"]}),z.success("Marketing display data deleted!")},onError:g=>{console.error("Error deleting marketing display data:",g),z.error("Failed to delete marketing display data")}}),p=g=>{i(g),l.reset({display_earnings:g.display_earnings.toString(),display_referrals:g.display_referrals.toString(),display_title:g.display_title||"",is_featured:g.is_featured,show_on_landing:g.show_on_landing}),s(g.user_id),t(!0)},y=g=>{if(!r){z.error("Please select a user");return}u.mutate({...g,user_id:r})},v=()=>{t(!1),i(null),l.reset(),s("")},w={totalRecords:c.length,featuredRecords:c.filter(g=>g.is_featured).length,landingPageRecords:c.filter(g=>g.show_on_landing).length,totalDisplayEarnings:c.reduce((g,x)=>g+x.display_earnings,0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Marketing Display Data"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage display statistics for marketing purposes (separate from real wallet data)"})]}),n.jsxs(V,{onClick:()=>t(!0),"data-testid":"button-create-display-data",children:[n.jsx(Xh,{className:"h-4 w-4 mr-2"}),"Add Display Data"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Records"}),n.jsx(Pn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-records",children:w.totalRecords})})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Featured"}),n.jsx(D1,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-featured-records",children:w.featuredRecords})})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"On Landing Page"}),n.jsx(P1,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-landing-records",children:w.landingPageRecords})})]}),n.jsxs(Q,{children:[n.jsxs(he,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total Display Earnings"}),n.jsx(Nc,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(Y,{children:n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-display-earnings",children:["",w.totalDisplayEarnings.toLocaleString()]})})]})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Marketing Display Records"})}),n.jsx(Y,{children:d?n.jsx("div",{className:"text-center py-8",children:"Loading marketing display data..."}):c.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No marketing display data found. Create some records to get started."}):n.jsx("div",{className:"space-y-4",children:c.map(g=>{var x,j;return n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`card-display-record-${g.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold","data-testid":`text-user-name-${g.id}`,children:((x=g.users)==null?void 0:x.name)||"Unknown User"}),g.is_featured&&n.jsx(xe,{variant:"secondary",children:"Featured"}),g.show_on_landing&&n.jsx(xe,{variant:"outline",children:"Landing"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(j=g.users)==null?void 0:j.email}),g.display_title&&n.jsx("p",{className:"text-sm font-medium text-blue-600",children:g.display_title})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Earnings"}),n.jsxs("p",{className:"font-semibold","data-testid":`text-earnings-${g.id}`,children:["",g.display_earnings.toLocaleString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display Referrals"}),n.jsx("p",{className:"font-semibold","data-testid":`text-referrals-${g.id}`,children:g.display_referrals})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(V,{variant:"outline",size:"sm",onClick:()=>p(g),"data-testid":`button-edit-${g.id}`,children:n.jsx(sd,{className:"h-4 w-4"})}),n.jsx(V,{variant:"outline",size:"sm",onClick:()=>f.mutate(g.id),disabled:f.isPending,"data-testid":`button-delete-${g.id}`,children:"Delete"})]})]})]},g.id)})})})]}),n.jsx(os,{open:e,onOpenChange:v,children:n.jsxs(Dr,{className:"max-w-md",children:[n.jsx(Lr,{children:n.jsx(Fr,{children:a?"Edit Marketing Display Data":"Create Marketing Display Data"})}),n.jsx(cl,{...l,children:n.jsxs("form",{onSubmit:l.handleSubmit(y),className:"space-y-4",children:[!a&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Fc,{htmlFor:"user-select",children:"Select User"}),n.jsxs(ws,{value:r,onValueChange:s,children:[n.jsx(Jr,{"data-testid":"select-user",children:n.jsx(js,{placeholder:"Choose a user..."})}),n.jsx(Xr,{children:h.map(g=>n.jsxs(Ie,{value:g.id,"data-testid":`option-user-${g.id}`,children:[g.name," (",g.email,")"]},g.id))})]})]}),n.jsx(pt,{control:l.control,name:"display_earnings",render:({field:g})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Display Earnings ()"}),n.jsx(ht,{children:n.jsx(Be,{...g,type:"number",step:"0.01",placeholder:"0","data-testid":"input-display-earnings"})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:l.control,name:"display_referrals",render:({field:g})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Display Referrals"}),n.jsx(ht,{children:n.jsx(Be,{...g,type:"number",placeholder:"0","data-testid":"input-display-referrals"})}),n.jsx(xt,{})]})}),n.jsx(pt,{control:l.control,name:"display_title",render:({field:g})=>n.jsxs(dt,{children:[n.jsx(ut,{children:"Display Title (Optional)"}),n.jsx(ht,{children:n.jsx(Be,{...g,placeholder:"e.g., Top Performer, Rising Star","data-testid":"input-display-title"})}),n.jsx(xt,{})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(pt,{control:l.control,name:"is_featured",render:({field:g})=>n.jsxs(dt,{className:"flex items-center space-x-2",children:[n.jsx(ht,{children:n.jsx(Vc,{checked:g.value,onCheckedChange:g.onChange,"data-testid":"switch-is-featured"})}),n.jsx(ut,{className:"text-sm",children:"Featured"})]})}),n.jsx(pt,{control:l.control,name:"show_on_landing",render:({field:g})=>n.jsxs(dt,{className:"flex items-center space-x-2",children:[n.jsx(ht,{children:n.jsx(Vc,{checked:g.value,onCheckedChange:g.onChange,"data-testid":"switch-show-on-landing"})}),n.jsx(ut,{className:"text-sm",children:"Show on Landing"})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(V,{type:"button",variant:"outline",onClick:v,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:u.isPending,"data-testid":"button-save-display-data",children:u.isPending?"Saving...":a?"Update":"Create"})]})]})})]})})]})},c9=()=>n.jsx(i9,{requiredRole:"admin",children:n.jsx(l9,{})}),d9=()=>{m.useState(null);const e=_r(),{data:t,isLoading:r,refetch:s}=et({queryKey:["system-health"],queryFn:async()=>({database:{status:"healthy",responseTime:45,connections:12,maxConnections:100},api:{status:"healthy",responseTime:120,uptime:99.8,errorRate:.01},cache:{hitRate:92.5,memoryUsage:68,status:"healthy"},storage:{usedSpace:2.5,totalSpace:10,status:"healthy"}}),refetchInterval:3e4}),{data:a,isLoading:i}=et({queryKey:["system-config"],queryFn:async()=>[{id:"1",key:"maintenance_mode",value:"false",description:"Enable maintenance mode",category:"system",isActive:!0,updatedAt:"2024-01-15T10:30:00Z",updatedBy:"admin@example.com"},{id:"2",key:"max_uploads_per_day",value:"100",description:"Maximum uploads per day per user",category:"limits",isActive:!0,updatedAt:"2024-01-15T09:15:00Z",updatedBy:"admin@example.com"}]}),{data:o,isLoading:l}=et({queryKey:["audit-logs"],queryFn:async()=>[{id:"1",adminId:"admin-1",action:"user_create",resource:"users",details:{userId:"user-123"},timestamp:"2024-01-15T10:30:00Z",adminEmail:"admin@example.com"},{id:"2",adminId:"admin-1",action:"course_update",resource:"courses",details:{courseId:"course-456"},timestamp:"2024-01-15T09:15:00Z",adminEmail:"admin@example.com"}]}),{data:c,isLoading:d}=et({queryKey:["bulk-operations"],queryFn:async()=>[{id:"1",type:"email",status:"completed",progress:100,totalUsers:1250,processedUsers:1250,createdAt:"2024-01-15T08:00:00Z",completedAt:"2024-01-15T08:15:00Z"},{id:"2",type:"notification",status:"running",progress:65,totalUsers:500,processedUsers:325,createdAt:"2024-01-15T10:00:00Z"}]}),h=Tt({mutationFn:async({id:v,value:w,isActive:g})=>(await new Promise(x=>setTimeout(x,500)),{id:v,value:w,isActive:g}),onSuccess:()=>{e.invalidateQueries({queryKey:["system-config"]}),z.success("Configuration updated successfully")},onError:()=>{z.error("Failed to update configuration")}}),u=Tt({mutationFn:async v=>(await new Promise(w=>setTimeout(w,500)),{id:Date.now().toString(),...v}),onSuccess:()=>{e.invalidateQueries({queryKey:["bulk-operations"]}),z.success("Bulk operation started")},onError:()=>{z.error("Failed to start bulk operation")}}),f=v=>{switch(v){case"healthy":return n.jsx(xe,{className:"bg-green-100 text-green-800 border-green-200",children:"Healthy"});case"warning":return n.jsx(xe,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Warning"});case"error":return n.jsx(xe,{className:"bg-red-100 text-red-800 border-red-200",children:"Error"});default:return n.jsx(xe,{className:"bg-gray-100 text-gray-800",children:"Unknown"})}},p=v=>{const w=Math.floor(v/86400),g=Math.floor(v%(24*3600)/3600),x=Math.floor(v%3600/60);return`${w}d ${g}h ${x}m`},y=v=>{const w=["B","KB","MB","GB","TB"];let g=v,x=0;for(;g>=1024&&x<w.length-1;)g/=1024,x++;return`${g.toFixed(1)} ${w[x]}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Operational Control Center"}),n.jsx("p",{className:"text-gray-500",children:"System monitoring and configuration management"})]}),n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>s(),disabled:r,"data-testid":"button-refresh-health",children:[n.jsx(rd,{className:`h-4 w-4 mr-1 ${r?"animate-spin":""}`}),"Refresh"]})]}),n.jsxs(on,{defaultValue:"health",className:"w-full",children:[n.jsxs(Ps,{className:"grid grid-cols-2 md:grid-cols-5 mb-6",children:[n.jsxs(Ne,{value:"health",className:"flex items-center gap-2",children:[n.jsx(A1,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Health"})]}),n.jsxs(Ne,{value:"config",className:"flex items-center gap-2",children:[n.jsx(c4,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Config"})]}),n.jsxs(Ne,{value:"bulk",className:"flex items-center gap-2",children:[n.jsx(rg,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Bulk Ops"})]}),n.jsxs(Ne,{value:"audit",className:"flex items-center gap-2",children:[n.jsx(Zx,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Audit"})]}),n.jsxs(Ne,{value:"performance",className:"flex items-center gap-2",children:[n.jsx(Yh,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Performance"})]})]}),n.jsxs(Ce,{value:"health",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(Q,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(fe,{className:"flex items-center gap-2 text-base",children:[n.jsx(XA,{className:"h-5 w-5 text-blue-500"}),"Database"]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),f((t==null?void 0:t.database.status)||"unknown")]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Response Time"}),n.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.database.responseTime)||0,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Connections"}),n.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.database.connections)||0,"/",(t==null?void 0:t.database.maxConnections)||0]})]}),n.jsx(xs,{value:((t==null?void 0:t.database.connections)||0)/((t==null?void 0:t.database.maxConnections)||1)*100,className:"h-2"})]})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(fe,{className:"flex items-center gap-2 text-base",children:[n.jsx(l4,{className:"h-5 w-5 text-green-500"}),"API Server"]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),f((t==null?void 0:t.api.status)||"unknown")]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Response Time"}),n.jsxs("span",{className:"text-sm font-medium",children:[(t==null?void 0:t.api.responseTime)||0,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Uptime"}),n.jsx("span",{className:"text-sm font-medium",children:p((t==null?void 0:t.api.uptime)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Error Rate"}),n.jsxs("span",{className:"text-sm font-medium",children:[((t==null?void 0:t.api.errorRate)||0).toFixed(2),"%"]})]})]})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(fe,{className:"flex items-center gap-2 text-base",children:[n.jsx(JA,{className:"h-5 w-5 text-purple-500"}),"Cache System"]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),f((t==null?void 0:t.cache.status)||"unknown")]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Hit Rate"}),n.jsxs("span",{className:"text-sm font-medium",children:[((t==null?void 0:t.cache.hitRate)||0).toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Memory Usage"}),n.jsxs("span",{className:"text-sm font-medium",children:[((t==null?void 0:t.cache.memoryUsage)||0).toFixed(1),"%"]})]}),n.jsx(xs,{value:(t==null?void 0:t.cache.memoryUsage)||0,className:"h-2"})]})]}),n.jsxs(Q,{children:[n.jsx(he,{className:"pb-3",children:n.jsxs(fe,{className:"flex items-center gap-2 text-base",children:[n.jsx(a4,{className:"h-5 w-5 text-orange-500"}),"Storage"]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),f((t==null?void 0:t.storage.status)||"unknown")]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Used Space"}),n.jsx("span",{className:"text-sm font-medium",children:y((t==null?void 0:t.storage.usedSpace)||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Total Space"}),n.jsx("span",{className:"text-sm font-medium",children:y((t==null?void 0:t.storage.totalSpace)||0)})]}),n.jsx(xs,{value:((t==null?void 0:t.storage.usedSpace)||0)/((t==null?void 0:t.storage.totalSpace)||1)*100,className:"h-2"})]})]})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(eg,{className:"h-5 w-5 text-red-500"}),"Real-time System Metrics"]})}),n.jsx(Y,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(t==null?void 0:t.database.responseTime)||0,"ms"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"DB Response"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(t==null?void 0:t.api.responseTime)||0,"ms"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"API Response"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[((t==null?void 0:t.cache.hitRate)||0).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Cache Hit Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((t==null?void 0:t.api.errorRate)||0).toFixed(2),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Error Rate"})]})]})})]})]}),n.jsx(Ce,{value:"config",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(M1,{className:"h-5 w-5"}),"System Configuration"]})}),n.jsx(Y,{children:i?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading configuration..."})]})}):n.jsx("div",{className:"space-y-6",children:Object.entries((a==null?void 0:a.reduce((v,w)=>{const g=w.category||"General";return v[g]||(v[g]=[]),v[g].push(w),v},{}))||{}).map(([v,w])=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:v}),n.jsx("div",{className:"grid gap-4",children:w.map(g=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:g.key}),n.jsx("div",{className:"text-sm text-gray-500",children:g.description}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Last updated: ",new Date(g.updatedAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Be,{value:g.value,onChange:x=>{x.target.value},className:"w-48","data-testid":`input-config-${g.key}`}),n.jsx(Vc,{checked:g.isActive,onCheckedChange:x=>{h.mutate({id:g.id,value:g.value,isActive:x})},"data-testid":`switch-config-${g.key}`}),n.jsx(V,{size:"sm",onClick:()=>{h.mutate({id:g.id,value:g.value,isActive:g.isActive})},"data-testid":`button-save-${g.key}`,children:"Save"})]})]},g.id))})]},v))})})]})}),n.jsx(Ce,{value:"bulk",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Q,{className:"lg:col-span-1",children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(rg,{className:"h-5 w-5"}),"New Bulk Operation"]})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs(ws,{"data-testid":"select-bulk-operation-type",children:[n.jsx(Jr,{children:n.jsx(js,{placeholder:"Operation Type"})}),n.jsxs(Xr,{children:[n.jsx(Ie,{value:"email",children:"Send Email Campaign"}),n.jsx(Ie,{value:"course_assignment",children:"Assign Course"}),n.jsx(Ie,{value:"user_update",children:"Update User Data"}),n.jsx(Ie,{value:"notification",children:"Send Notification"})]})]}),n.jsx(Js,{placeholder:"Operation details...",className:"min-h-[100px]","data-testid":"textarea-bulk-operation-details"}),n.jsx(V,{className:"w-full",onClick:()=>{u.mutate({type:"email",status:"pending",progress:0,totalUsers:0,processedUsers:0,createdAt:new Date().toISOString()})},"data-testid":"button-create-bulk-operation",children:"Start Operation"})]})]}),n.jsxs(Q,{className:"lg:col-span-2",children:[n.jsx(he,{children:n.jsx(fe,{children:"Active & Recent Operations"})}),n.jsx(Y,{children:d?n.jsx("div",{className:"h-32 flex items-center justify-center",children:n.jsx("div",{className:"w-6 h-6 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin"})}):n.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map(v=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium capitalize",children:v.type.replace("_"," ")}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(v.createdAt).toLocaleString()})]}),n.jsx(xe,{className:v.status==="completed"?"bg-green-100 text-green-800":v.status==="running"?"bg-blue-100 text-blue-800":v.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:v.status})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[v.processedUsers,"/",v.totalUsers]})]}),n.jsx(xs,{value:v.progress,className:"h-2"})]})]},v.id))})})]})]})}),n.jsx(Ce,{value:"audit",className:"space-y-6",children:n.jsxs(Q,{children:[n.jsx(he,{children:n.jsxs(fe,{className:"flex items-center gap-2",children:[n.jsx(Cs,{className:"h-5 w-5"}),"Admin Activity Audit Trail"]})}),n.jsx(Y,{children:l?n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-t-blue-500 border-gray-200 rounded-full animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading audit logs..."})]})}):n.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map(v=>n.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:v.action}),n.jsx(xe,{variant:"outline",className:"text-xs",children:v.resource})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[v.adminEmail,"  ",new Date(v.timestamp).toLocaleString()]}),v.details&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1 bg-gray-50 p-2 rounded font-mono",children:[JSON.stringify(v.details,null,2).substring(0,100),"..."]})]})},v.id))})})]})}),n.jsx(Ce,{value:"performance",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Performance Insights"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Database Query Time"}),n.jsxs("span",{className:"font-medium",children:[(t==null?void 0:t.database.responseTime)||0,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"API Response Time"}),n.jsxs("span",{className:"font-medium",children:[(t==null?void 0:t.api.responseTime)||0,"ms"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Cache Efficiency"}),n.jsxs("span",{className:"font-medium",children:[((t==null?void 0:t.cache.hitRate)||0).toFixed(1),"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Error Rate"}),n.jsxs("span",{className:"font-medium",children:[((t==null?void 0:t.api.errorRate)||0).toFixed(2),"%"]})]})]})]}),n.jsxs(Q,{children:[n.jsx(he,{children:n.jsx(fe,{children:"Optimization Recommendations"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs(yr,{children:[n.jsx(Ns,{className:"h-4 w-4"}),n.jsx(wr,{children:"Database performance is optimal"})]}),n.jsxs(yr,{children:[n.jsx(nv,{className:"h-4 w-4"}),n.jsx(wr,{children:"Consider increasing cache memory allocation"})]}),n.jsxs(yr,{children:[n.jsx(Ns,{className:"h-4 w-4"}),n.jsx(wr,{children:"API response times are within acceptable range"})]})]})]})]})})]})]})},u9=()=>{const{user:e,isAdmin:t,isLoading:r}=Xe(),{data:s,isLoading:a,error:i}=et({queryKey:["isAdmin",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return!1;try{console.log("Double-checking admin status for user:",e.id);const{data:l,error:c}=await M.rpc("is_admin");if(c)throw console.error("Error checking admin status:",c),c;return console.log("Admin status result from database:",l),l||!1}catch(l){throw console.error("Exception checking admin status:",l),l}},enabled:!!e&&!r,staleTime:6e4,retry:2});return e?r||a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Checking admin permissions..."})]})}):i?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs(yr,{variant:"destructive",children:[n.jsx(W0,{className:"h-5 w-5"}),n.jsx(oh,{children:"Authentication Error"}),n.jsxs(wr,{children:["Failed to verify admin permissions. Please try refreshing the page or contact support.",n.jsx("br",{}),n.jsxs("small",{className:"text-xs opacity-75",children:["Error: ",i.message]})]})]})}),n.jsx(Ge,{})]}):s??t?n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsxs("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 max-sm:p-4 flex-grow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprehensive Admin Dashboard"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Complete platform management and analytics suite"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Logged in as ",n.jsx("span",{className:"font-medium",children:e.email})]})]}),n.jsxs(on,{defaultValue:"analytics",className:"w-full",children:[n.jsxs(Ps,{className:"mb-6 grid grid-cols-5 md:grid-cols-10 gap-1 text-xs p-1",children:[n.jsxs(Ne,{value:"tools",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(M1,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Tools"})]}),n.jsxs(Ne,{value:"analytics",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(Yh,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Analytics"})]}),n.jsxs(Ne,{value:"users",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(u4,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Users"})]}),n.jsxs(Ne,{value:"operations",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(A1,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Operations"})]}),n.jsxs(Ne,{value:"marketing",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(i4,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Marketing"})]}),n.jsxs(Ne,{value:"finance",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(Nc,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Finance"})]}),n.jsxs(Ne,{value:"content",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(Zx,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Content"})]}),n.jsxs(Ne,{value:"support",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(ev,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Support"})]}),n.jsxs(Ne,{value:"payments",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(Wu,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Payments"})]}),n.jsxs(Ne,{value:"messaging",className:"flex items-center gap-1 px-2 py-1.5",children:[n.jsx(Xx,{className:"h-3 w-3"}),n.jsx("span",{className:"hidden sm:inline text-xs",children:"Messaging"})]})]}),n.jsx(Ce,{value:"tools",className:"space-y-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Access Tools"}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(a8,{}),n.jsx(i8,{})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"System Maintenance"}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(c8,{}),n.jsx(vz,{currentAdminId:e.id})]})]})]})}),n.jsx(Ce,{value:"analytics",children:n.jsx(Kz,{})}),n.jsx(Ce,{value:"users",children:n.jsx(e9,{})}),n.jsx(Ce,{value:"operations",children:n.jsx(d9,{})}),n.jsx(Ce,{value:"marketing",children:n.jsx(c9,{})}),n.jsx(Ce,{value:"finance",children:n.jsx(Zz,{})}),n.jsx(Ce,{value:"content",children:n.jsx(xz,{})}),n.jsx(Ce,{value:"support",children:n.jsx(Gz,{})}),n.jsx(Ce,{value:"payments",children:n.jsx(Yz,{})}),n.jsx(Ce,{value:"messaging",children:n.jsx(n9,{})})]})]}),n.jsx(Ge,{})]}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[n.jsx(tt,{}),n.jsx("main",{className:"max-w-[993px] mx-auto w-full px-6 py-8 flex-grow",children:n.jsxs(yr,{variant:"destructive",children:[n.jsx(W0,{className:"h-5 w-5"}),n.jsx(oh,{children:"Access Denied"}),n.jsx(wr,{children:"You do not have admin permissions to access this page. Please contact an administrator if you believe this is a mistake."})]})}),n.jsx(Ge,{})]}):n.jsx(Tn,{to:"/",replace:!0})},h9=async e=>{try{console.log("Logging user login:",e);const{error:t}=await M.from("users").update({last_login:new Date().toISOString()}).eq("id",e);return t?(console.error("Error updating last_login:",t),{success:!1,error:t.message}):{success:!0}}catch(t){return console.error("Error logging user login:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}};function f9(){return{logLogin:m.useCallback(async t=>{try{await h9(t)}catch(r){console.error("Failed to log user login:",r)}},[])}}const m9=()=>{const{user:e}=Xe(),t=m.useRef(Date.now()),r=m.useRef(!1),s=m.useRef();return m.useEffect(()=>{if(r.current)return;r.current=!0;const a=()=>{t.current=Date.now(),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{console.log("User inactive for extended period")},30*60*1e3)},i=["mousedown","keypress","scroll","touchstart"];let o;const l=()=>{o&&clearTimeout(o),o=setTimeout(a,1e3)};return i.forEach(c=>{document.addEventListener(c,l,{passive:!0,capture:!1})}),()=>{i.forEach(c=>{document.removeEventListener(c,l)}),s.current&&clearTimeout(s.current),o&&clearTimeout(o)}},[e]),{lastActivity:t.current}},p9=new $O({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:10*60*1e3,meta:{errorHandler:e=>{console.error("Query error:",e)}}}}}),g9=()=>{const{user:e}=Xe(),[t,r]=m.useState(!1);return m9(),m.useEffect(()=>{if(t||!e)return;(async()=>{try{await hE()}catch(a){console.error("Initialization error:",a)}finally{r(!0)}})()},[e,t]),null},x9=()=>{const{user:e,isLoading:t}=Xe(),{logLogin:r}=f9();return m.useEffect(()=>{e!=null&&e.id&&r(e.id)},[e==null?void 0:e.id,r]),t?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-t-[#00C853] border-gray-200 rounded-full animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n.jsxs(n.Fragment,{children:[n.jsx(g9,{}),n.jsxs(WM,{children:[n.jsx(Lt,{path:"/",element:e?n.jsx(Tn,{to:"/dashboard",replace:!0}):n.jsx(kw,{})}),n.jsx(Lt,{path:"/auth",element:e?n.jsx(Tn,{to:"/dashboard",replace:!0}):n.jsx(kw,{})}),n.jsx(Lt,{path:"/policies",element:n.jsx(t8,{})}),n.jsxs(Lt,{element:n.jsx(Sw,{}),children:[n.jsx(Lt,{path:"/dashboard",element:n.jsx(m6,{})}),n.jsx(Lt,{path:"/my-courses",element:n.jsx(x6,{})}),n.jsx(Lt,{path:"/course/:courseId",element:n.jsx(v6,{})}),n.jsx(Lt,{path:"/course/:courseId/content",element:n.jsx(P6,{})}),n.jsx(Lt,{path:"/payment/:courseId",element:n.jsx(T6,{})}),n.jsx(Lt,{path:"/payment-success",element:n.jsx(ik,{})}),n.jsx(Lt,{path:"/referrals",element:n.jsx(D6,{})}),n.jsx(Lt,{path:"/profile",element:n.jsx(G6,{})}),n.jsx(Lt,{path:"/wallet",element:n.jsx(XU,{})}),n.jsx(Lt,{path:"/feedback",element:n.jsx(n8,{})})]}),n.jsx(Lt,{element:n.jsx(Sw,{requireAdmin:!0}),children:n.jsx(Lt,{path:"/admin",element:n.jsx(u9,{})})}),n.jsx(Lt,{path:"*",element:n.jsx(p6,{})})]})]})},v9=()=>n.jsxs(qO,{client:p9,children:[n.jsx(Q4,{}),n.jsx(NO,{}),n.jsx(XM,{children:n.jsx(_5,{children:n.jsx(x9,{})})})]});Jm.createRoot(document.getElementById("root")).render(n.jsx(F.StrictMode,{children:n.jsx(Z_,{children:n.jsx(v9,{})})}));export{Kc as g};
